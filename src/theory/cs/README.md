--- 

index: false
title: 计算机网络和操作系统
icon: computer

---


## 计算机网络性能指标

常用的计算机网络性能指标：速率（Speed），带宽（Bandwidth），吞吐量（Throughput），时延（Latency），往返时间（Round-Trip Time, RTT），利用率（Utilization），丢包率（Packet Loss）




### 速率(Speed)

在网络通信领域，**速率（Speed）** 指的是数据在传输介质上每秒钟可以传输的最大信息量。也常被称为**比特率**（Bit Rate）或**数据率**（Data Rate）

速率通常用 ==每秒比特数（bps, bits per second）== 来表示，但随着技术的发展，现在的网络速度往往远超bps，因此更常见的单位包括Kbps（千比特每秒）、Mbps（兆比特每秒）、Gbps（吉比特每秒）等。以下是这些单位之间的换算关系：

- **1 Kbps (Kilobits per second)** = 1,000 bps
- **1 Mbps (Megabits per second)** = 1,000 Kbps = 1,000,000 bps
- **1 Gbps (Gigabits per second)** = 1,000 Mbps = 1,000,000 Kbps = 1,000,000,000 bps
- **1 Tbps (Terabits per second)** = 1,000 Gbps = 1,000,000 Mbps = 1,000,000,000 Kbps = 1,000,000,000,000 bps

::: important 速率与数据量单位的区别

速率（比特率）则用于描述数据传输的速度，而`bit、Byte、KB、MB、GB、TB` 这些单位用来表示数据量：

- **bit（比特）**：这是最小的数据计量单位，代表二进制系统中的一个位（0 或 1）。在网络速度中，我们通常谈论的是每秒多少比特（bps），例如 `1 Mbps` 表示每秒传输一百万个比特。

- **Byte（字节）**：`1 Byte` 等于 `8 bits`。当我们讨论存储容量或者文件大小时，通常使用 `Byte` 或其更大的单位如 `KB、MB` 等。但在提到网络速率时，更常见的是用 `bit` 而不是 `Byte`，因此要注意区分。例如，`1 MBps` (每秒兆字节) 和 `1 Mbps` (每秒兆比特) 是不同的，前者比后者快8倍。

- **KB（千字节）、MB（兆字节）、GB（吉字节）、TB（太字节）**：
  - 1 KB = 1024 Bytes
  - 1 MB = 1024 KB = 1,048,576 Bytes
  - 1 GB = 1024 MB = 1,073,741,824 Bytes
  - 1 TB = 1024 GB = 1,099,511,627,776 Bytes
  
  在网络速率上下文中，这些单位通常用来表示数据量而不是传输速度。

:::


- **速率（比特率/数据率）**：描述数据传输速度，常用单位包括 bps（bit per second）、Kbps、Mbps、Gbps 等。
- **数据量单位**：描述数据的大小，常用单位有 Byte、KB、MB、GB、TB 等，其中 1 Byte = 8 bits。

当涉及到文件传输时，用户可能会更关注字节（Byte）而非比特（bit），需要注意的是1 Byte = 8 bits。因此，如果一个网络广告声称提供100 Mbps的速度，这意味着理论上每秒最多可以传输12.5 MB的数据（忽略协议开销和其他因素）。



---


### 带宽和吞吐量

**带宽（Bandwidth）** 反映了网络 ==理论上能够达到的最大传输能力==，而不是实际传输的数据量。

- **定义**：带宽是指在网络通信中，特定时间段内可以传输的数据总量。它可以被理解为管道的宽度——越宽的管道可以在单位时间内通过更多的水，同样地，更高的带宽允许更多数据在同一时间内传输。
  
- **单位**：带宽通常用 bps (bit per second) 表示，但在现代网络中，由于速度较快，常用 Kbps (Kilobits per second), Mbps (Megabits per second), Gbps (Gigabits per second) 等更大单位表示。
  - 1 Kbps = 1,000 bps
  - 1 Mbps = 1,000 Kbps = 1,000,000 bps
  - 1 Gbps = 1,000 Mbps = 1,000,000 Kbps = 1,000,000,000 bps


---


**吞吐量（Throughput）**：指 ==实际在网络上传输的数据量==，受多种因素影响，如网络拥塞、硬件性能限制等。因此，吞吐量往往低于带宽值。




---


### 时延和往返时间

==**Latency（时延）**== 是指数据从源端传输到目的端所花费的总时间。它是衡量网络响应速度的重要指标，通常以毫秒（ms）为单位。

Latency 由以下几个部分组成：
1. **传输时延（Transmission Delay）**: 数据从发送端发送到链路上所需的时间。
   - 计算公式：`传输时延 = 数据大小 / 带宽`。
   - 例如：发送一个 1MB 的文件，带宽为 1Mbps，传输时延为 `(1 * 8) / 1 = 8 秒`。

2. **传播时延（Propagation Delay）**: 数据在链路上从发送端传播到接收端所需的时间。
   - 计算公式：`传播时延 = 距离 / 传播速度`。
   - 传播速度取决于介质，通常在光纤中为光速的 2/3（约 200,000 km/s）。

3. **处理时延（Processing Delay）**: 路由器或交换机处理数据包（如检查首部、查找路由）所需的时间。

4. **排队时延（Queuing Delay）**: 数据包在路由器的缓冲区中等待处理的时间。取决于网络拥塞程度。

**Latency 的影响因素**: 
- 物理距离：距离越远，传播时延越大。
- 网络拥塞：排队时延会增加。
- 带宽：带宽越高，传输时延越低。
- 设备性能：路由器和交换机的处理能力。

---

==**RTT（Round-Trip Time，往返时间）**== 是指数据从源端发送到目的端，再从目的端返回源端所需的总时间。它通常用于衡量双向通信的延迟。

RTT 包括以下部分：
1. **数据从源端到目的端的单向时延（Latency）**。
2. **数据从目的端返回源端的单向时延（Latency）**。
3. **目的端的处理时间**（如果目的端需要处理数据并返回响应）。



**Latency 和 RTT 的区别**
| 特性                | Latency（时延）                  | RTT（往返时间）                     |
|---------------------|----------------------------------|--------------------------------------|
| **定义**            | 数据从源端到目的端的时间         | 数据从源端到目的端再返回源端的时间   |
| **方向**            | 单向                             | 双向                                 |
| **包含内容**        | 传输时延、传播时延、处理时延、排队时延 | 两次 Latency + 目的端处理时间        |
| **典型应用**        | 衡量网络响应速度                 | 衡量双向通信的延迟（如 TCP 连接）    |
| **示例**            | Ping 测试中的单向延迟            | Ping 测试中的往返时间                |


- **Latency** 是单向时延，衡量数据从源端到目的端的时间。
- **RTT** 是往返时间，衡量数据从源端到目的端再返回源端的时间。
- Latency 是 RTT 的一部分，RTT 通常大于两倍的 Latency。
- 通过优化网络路径、减少拥塞和提高带宽，可以降低 Latency 和 RTT，从而提升网络性能。



---


### 利用率和丢包率

==**利用率（Utilization）**== 是指网络资源（如带宽、链路、设备等）的使用效率，通常以百分比表示。它反映了网络资源的繁忙程度。利用率的类型：

1. **链路利用率（Link Utilization）**: 指某条链路的使用效率。
   - 计算公式：`链路利用率 = (实际使用带宽 / 总带宽) * 100%`。
   - 例如：一条 1Gbps 的链路，实际传输数据的速度为 500Mbps，则链路利用率为 50%。

2. **设备利用率（Device Utilization）**: 指网络设备（如路由器、交换机）的处理能力使用效率。
   - 计算公式：`设备利用率 = (实际处理量 / 最大处理能力) * 100%`。
   - 例如：路由器的 CPU 使用率为 70%，表示其处理能力的使用率为 70%。

3. **网络利用率（Network Utilization）**: 指整个网络的使用效率，通常通过链路利用率和设备利用率的综合来衡量。

**利用率的影响**
- **低利用率**: 资源浪费，网络性能未得到充分利用。可能表示网络设计过度冗余。
- **高利用率**: 资源紧张，可能导致网络拥塞、延迟增加或丢包，通常建议链路利用率不超过 70%，以避免性能下降。


---

==**丢包率（Packet Loss）**== 是指在网络传输过程中丢失的数据包占总发送数据包的比例，通常以百分比表示。它是衡量网络可靠性的重要指标。

**丢包的原因**：
1. **网络拥塞**: 当网络流量超过链路或设备的处理能力时，路由器或交换机的缓冲区会溢出，导致丢包。
2. **硬件故障**: 网络设备（如路由器、交换机、网卡）故障可能导致丢包。
3. **传输错误**: 由于噪声、干扰或信号衰减，数据包在传输过程中可能损坏，被接收端丢弃。
4. **配置问题**: 错误的网络配置（如 MTU 设置不当）可能导致丢包。

**丢包率的计算** ：`丢包率 = (丢失的数据包数 / 总发送的数据包数) * 100%`。例如：发送 1,000 个数据包，丢失 20 个，则丢包率为 2%。

**丢包率的影响**：
- **TCP 性能下降**: TCP 协议会通过重传丢失的数据包来保证可靠性，丢包会导致重传，增加延迟并降低吞吐量。
- **实时应用质量下降**: 对于 VoIP、视频会议等实时应用，丢包会导致语音或视频卡顿、失真。
- **用户体验变差**: 高丢包率会导致网页加载缓慢、文件传输失败等问题。



---




## 计算机网络体系结构

OSI（Open Systems Interconnection）模型是由国际标准化组织（ISO）提出的一个理论模型，用于标准化计算机网络通信。它将网络通信过程分为 **7 层**，每一层都有特定的功能和协议。

![](https://image.ventix.top/img02/20210206205254395.png)

TCP/IP 模型是实际应用中广泛使用的网络体系结构，它将网络通信过程分为 **4 层**。



| 层级 | 名称 | 主要功能 | 常见协议/设备 | 
|------|------|---------|---------|
| **7** | **应用层（Application）** | 提供网络服务接口，直接与用户交互 | HTTP、HTTPS、FTP、SMTP、POP3、IMAP、DNS、Telnet、SSH | 
| **6** | **表示层（Presentation）** | 数据格式转换、加密解密、压缩解压 | SSL/TLS | 
| **5** | **会话层（Session）** | 负责会话建立、管理和终止 | NetBIOS、RPC、PPTP、SIP | 
| **4** | **传输层（Transport）** | 端到端通信、流量控制、可靠传输 | TCP、UDP、SCTP、QUIC | 
| **3** | **网络层（Network）** | 路由选择、IP寻址、流量控制 | IP、ICMP、ARP、RARP、OSPF、BGP、RIP |
| **2** | **数据链路层（Data Link）** | 物理寻址（MAC）、差错检测 | 以太网（Ethernet）、PPP、HDLC、STP、VLAN、MAC 地址 |
| **1** | **物理层（Physical）** | 比特传输、定义物理接口 | 光纤、双绞线、电缆、Wi-Fi、5G、蓝牙 | 


1. **应用层、表示层、会话层** 主要面向用户应用，负责数据处理和交互。
2. **传输层** 确保端到端的可靠通信，TCP 提供可靠传输，UDP 适用于实时应用。
3. **网络层** 负责数据包的寻址和路由，路由器在这一层工作。
4. **数据链路层** 解决局域网通信，MAC 地址、交换机属于该层。
5. **物理层** 关注数据如何通过物理介质传输，如光纤、电缆、无线信号。



---




网络接口层（Network Interface Layer）：对应于OSI模型的物理层和数据链路层，负责处理硬件细节和物理传输。
互联网层（Internet Layer）：类似于OSI的网络层，主要任务是寻址和路由选择，核心协议为IP协议。
传输层（Transport Layer）：与OSI模型中的同名层相似，负责端到端的通信，支持TCP和UDP两种主要协议。
应用层（Application Layer）：涵盖了OSI模型中的会话层、表示层和应用层的功能，包含了众多协议如HTTP、FTP、DNS等，用于支持各种网络应用。





