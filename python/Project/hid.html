<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.52" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://x.app/notebook/python/Project/hid.html"><meta property="og:site_name" content="doc"><meta property="og:title" content="HIDè®¾å¤‡åŠUSB"><meta property="og:description" content="HIDï¼ˆHuman Interface Deviceï¼‰æ˜¯è®¡ç®—æœºä¸äººç±»äº¤äº’çš„æ¥å£è®¾å¤‡çš„æ ‡å‡†ï¼Œå¦‚é”®ç›˜ã€é¼ æ ‡ã€æ¸¸æˆæ§åˆ¶å™¨ç­‰ã€‚HIDæ ‡å‡†ç”±USBè§„èŒƒå®šä¹‰ï¼Œæ—¨åœ¨ä¸ºè¿™äº›è®¾å¤‡æä¾›ä¸€ç§ç»Ÿä¸€ä¸”æ˜“äºå®ç°çš„æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚HIDåè®®ä¸ä»…é™äºUSBè®¾å¤‡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è“ç‰™ç­‰å…¶ä»–ä¼ è¾“æ–¹å¼å·¥ä½œã€‚ HIDâ€”é”®é¼ å·¥ä½œåŸç† é”®ç›˜å·¥ä½œåŸç† ä»¥ Windows ç³»ç»Ÿä¸‹ USB HID è®¾å¤‡ä¸ºä¾‹ï¼š..."><meta property="og:type" content="article"><meta property="og:image" content="https://image.ventix.top/img02/20230407221113827.png"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2025-04-17T03:51:00.000Z"><meta property="article:author" content="ventixy"><meta property="article:modified_time" content="2025-04-17T03:51:00.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"HIDè®¾å¤‡åŠUSB","image":["https://image.ventix.top/img02/20230407221113827.png","https://image.ventix.top/img02/20250415140601710.png","https://image.ventix.top/img02/20250411140029217.png","https://image.ventix.top/img02/20250411142853187.png"],"dateModified":"2025-04-17T03:51:00.000Z","author":[{"@type":"Person","name":"ventixy","url":"https://www.ventix.top"}]}</script><link rel="icon" href="/notebook/jav.ico"><title>HIDè®¾å¤‡åŠUSB | doc</title><meta name="description" content="HIDï¼ˆHuman Interface Deviceï¼‰æ˜¯è®¡ç®—æœºä¸äººç±»äº¤äº’çš„æ¥å£è®¾å¤‡çš„æ ‡å‡†ï¼Œå¦‚é”®ç›˜ã€é¼ æ ‡ã€æ¸¸æˆæ§åˆ¶å™¨ç­‰ã€‚HIDæ ‡å‡†ç”±USBè§„èŒƒå®šä¹‰ï¼Œæ—¨åœ¨ä¸ºè¿™äº›è®¾å¤‡æä¾›ä¸€ç§ç»Ÿä¸€ä¸”æ˜“äºå®ç°çš„æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚HIDåè®®ä¸ä»…é™äºUSBè®¾å¤‡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è“ç‰™ç­‰å…¶ä»–ä¼ è¾“æ–¹å¼å·¥ä½œã€‚ HIDâ€”é”®é¼ å·¥ä½œåŸç† é”®ç›˜å·¥ä½œåŸç† ä»¥ Windows ç³»ç»Ÿä¸‹ USB HID è®¾å¤‡ä¸ºä¾‹ï¼š...">
    <link rel="preload" href="/notebook/assets/style-B_XoRuKw.css" as="style"><link rel="stylesheet" href="/notebook/assets/style-B_XoRuKw.css">
    <link rel="modulepreload" href="/notebook/assets/app-DZ5naRTy.js"><link rel="modulepreload" href="/notebook/assets/hid.html-5AflaAfu.js"><link rel="modulepreload" href="/notebook/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/notebook/assets/index.html-D4iKXO7V.js" as="script"><link rel="prefetch" href="/notebook/assets/blog.html-BqS3o0uW.js" as="script"><link rel="prefetch" href="/notebook/assets/intro.html-Bc5qyofi.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DSdjrCwZ.js" as="script"><link rel="prefetch" href="/notebook/assets/dev.html-Bpx1msjn.js" as="script"><link rel="prefetch" href="/notebook/assets/lang.html-D6fEjqiJ.js" as="script"><link rel="prefetch" href="/notebook/assets/mcp.html-Cmzp4ohG.js" as="script"><link rel="prefetch" href="/notebook/assets/program.html-FNC2kc4Q.js" as="script"><link rel="prefetch" href="/notebook/assets/prompt.html-BHZ2OL2H.js" as="script"><link rel="prefetch" href="/notebook/assets/rag.html-Ry4GpIcH.js" as="script"><link rel="prefetch" href="/notebook/assets/springai.html-BUFXE-vj.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Dl9inqHr.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-vWevCd8t.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-pPg2iknQ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BSZbgFti.js" as="script"><link rel="prefetch" href="/notebook/assets/Gradle.html-XK3kwwDV.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DvVAqUGC.js" as="script"><link rel="prefetch" href="/notebook/assets/maven.html-AYyvFNRr.js" as="script"><link rel="prefetch" href="/notebook/assets/theme.html-DSBkUMgG.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DmuQKWVH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BXBVqfkI.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DJ4SncIX.js" as="script"><link rel="prefetch" href="/notebook/assets/c.html-XGgRpFkm.js" as="script"><link rel="prefetch" href="/notebook/assets/c2.html-BLcUf4s2.js" as="script"><link rel="prefetch" href="/notebook/assets/core.html-DpWqg4BF.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Dd2ZfKGK.js" as="script"><link rel="prefetch" href="/notebook/assets/Annotation.html-DMp3PArj.js" as="script"><link rel="prefetch" href="/notebook/assets/Enum.html-DVWOCTgC.js" as="script"><link rel="prefetch" href="/notebook/assets/HashMap.html-BcCCbF0R.js" as="script"><link rel="prefetch" href="/notebook/assets/JavaåŸºç¡€.html-Dr4U3Fam.js" as="script"><link rel="prefetch" href="/notebook/assets/Javaå¸¸ç”¨ç±»åº“.html-DOucXl13.js" as="script"><link rel="prefetch" href="/notebook/assets/Javaé¢å‘å¯¹è±¡.html-C4qErPjI.js" as="script"><link rel="prefetch" href="/notebook/assets/Lambda.html-CkaXGTC3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D1rAPJ5B.js" as="script"><link rel="prefetch" href="/notebook/assets/Reflection.html-BvtNwqm_.js" as="script"><link rel="prefetch" href="/notebook/assets/Stream.html-BrsYS-G4.js" as="script"><link rel="prefetch" href="/notebook/assets/collection.html-fCgWiF9D.js" as="script"><link rel="prefetch" href="/notebook/assets/generics.html-33trOSDU.js" as="script"><link rel="prefetch" href="/notebook/assets/javaIO.html-DGWct2kG.js" as="script"><link rel="prefetch" href="/notebook/assets/setå’Œmap.html-BbhN8EIL.js" as="script"><link rel="prefetch" href="/notebook/assets/æ•°ç»„å’Œå­—ç¬¦ä¸².html-BBAeHqKP.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CwurDVaa.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BkTSP58s.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BJNAo0B5.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B9aTbqEI.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C9qLmT1h.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html--zwMV9Gt.js" as="script"><link rel="prefetch" href="/notebook/assets/idea.html-BQa7KVw1.js" as="script"><link rel="prefetch" href="/notebook/assets/mac.html-6jWzmUNK.js" as="script"><link rel="prefetch" href="/notebook/assets/nuc8.html-Bwz936GB.js" as="script"><link rel="prefetch" href="/notebook/assets/picgo.html-BS75IEGe.js" as="script"><link rel="prefetch" href="/notebook/assets/usual.html-yO2ZGpDY.js" as="script"><link rel="prefetch" href="/notebook/assets/vps.html-Cvm0EwlR.js" as="script"><link rel="prefetch" href="/notebook/assets/website.html-Co5LVZaS.js" as="script"><link rel="prefetch" href="/notebook/assets/windows.html-DstDIb4Q.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DwgiFVFy.js" as="script"><link rel="prefetch" href="/notebook/assets/encoding.html-CnIUHsLV.js" as="script"><link rel="prefetch" href="/notebook/assets/harddisk.html-VGH_s_uH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BP6eGRLj.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql-binlog.html-CJ1B-6h9.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql-lock.html-C5ajM4BE.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql.html-BKec1BWw.js" as="script"><link rel="prefetch" href="/notebook/assets/postgres.html-AJkBxmWe.js" as="script"><link rel="prefetch" href="/notebook/assets/ulimit.html-BXcVm95u.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DvUA0cSd.js" as="script"><link rel="prefetch" href="/notebook/assets/env.html-DdfeGzWK.js" as="script"><link rel="prefetch" href="/notebook/assets/history.html-DX71chiV.js" as="script"><link rel="prefetch" href="/notebook/assets/jar.html-CctI5QSa.js" as="script"><link rel="prefetch" href="/notebook/assets/kryo.html-CzD1TdSU.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-oW0tNDpi.js" as="script"><link rel="prefetch" href="/notebook/assets/k8s.html-BLkJ7JpD.js" as="script"><link rel="prefetch" href="/notebook/assets/ks-install.html-D7muJY7t.js" as="script"><link rel="prefetch" href="/notebook/assets/vm.html-DMtnZ0D4.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B2tm8iZj.js" as="script"><link rel="prefetch" href="/notebook/assets/crossDomain.html-B4gOZV0d.js" as="script"><link rel="prefetch" href="/notebook/assets/excel.html-8VJkL5qv.js" as="script"><link rel="prefetch" href="/notebook/assets/springboot.html-C3H0iuh7.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BqZ3ZcNG.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C7rFNnID.js" as="script"><link rel="prefetch" href="/notebook/assets/PICO.html-DIBcI_Xu.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-F2-n5X_B.js" as="script"><link rel="prefetch" href="/notebook/assets/ch9329.html-BpoR9cTn.js" as="script"><link rel="prefetch" href="/notebook/assets/damb.html-D8_yp_90.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cx8qo8LR.js" as="script"><link rel="prefetch" href="/notebook/assets/base.html-ZdHVPqnP.js" as="script"><link rel="prefetch" href="/notebook/assets/data.html-DNmtoffh.js" as="script"><link rel="prefetch" href="/notebook/assets/file.html-BksVxdDQ.js" as="script"><link rel="prefetch" href="/notebook/assets/function.html-CNg0szhF.js" as="script"><link rel="prefetch" href="/notebook/assets/oop.html-DVTni4Xl.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cy5cLJHr.js" as="script"><link rel="prefetch" href="/notebook/assets/pywin32.html-BlRe_PvX.js" as="script"><link rel="prefetch" href="/notebook/assets/yolo.html-DSpiwWyD.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Dh6zCPOk.js" as="script"><link rel="prefetch" href="/notebook/assets/base.html-D7mZOaOY.js" as="script"><link rel="prefetch" href="/notebook/assets/numpy.html-c94SuQw7.js" as="script"><link rel="prefetch" href="/notebook/assets/opencv.html-BDcwclls.js" as="script"><link rel="prefetch" href="/notebook/assets/pillow.html-DQbipO-O.js" as="script"><link rel="prefetch" href="/notebook/assets/python.html-BgQd0mvw.js" as="script"><link rel="prefetch" href="/notebook/assets/sd.html-CInf7qC6.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DpfEGBir.js" as="script"><link rel="prefetch" href="/notebook/assets/application.html-C6cprhtn.js" as="script"><link rel="prefetch" href="/notebook/assets/call.html-DJrp-_8T.js" as="script"><link rel="prefetch" href="/notebook/assets/http.html-CmHDSWTq.js" as="script"><link rel="prefetch" href="/notebook/assets/interface.html-CUveZKpd.js" as="script"><link rel="prefetch" href="/notebook/assets/io.html-aCWeVJIq.js" as="script"><link rel="prefetch" href="/notebook/assets/memory.html-rmljpGJc.js" as="script"><link rel="prefetch" href="/notebook/assets/network.html-5BLeyF5t.js" as="script"><link rel="prefetch" href="/notebook/assets/os.html-eaMjKyoI.js" as="script"><link rel="prefetch" href="/notebook/assets/process.html-0ZIQJhBM.js" as="script"><link rel="prefetch" href="/notebook/assets/transport.html-C54rJQ0j.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Djeb9MT5.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DZEF5L2w.js" as="script"><link rel="prefetch" href="/notebook/assets/Linux.html-Dt9Y_0zy.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-n8FoEjmG.js" as="script"><link rel="prefetch" href="/notebook/assets/file.html-Dwm_py_1.js" as="script"><link rel="prefetch" href="/notebook/assets/setting.html-rIkh64I1.js" as="script"><link rel="prefetch" href="/notebook/assets/shell.html-BcfFgJhs.js" as="script"><link rel="prefetch" href="/notebook/assets/Docker.html-rcBO0rfH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-nkkng7X5.js" as="script"><link rel="prefetch" href="/notebook/assets/install.html-DwGX1t6o.js" as="script"><link rel="prefetch" href="/notebook/assets/k8s.html-DmSvDy49.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bx_ziftD.js" as="script"><link rel="prefetch" href="/notebook/assets/git.html-CNUEhX-5.js" as="script"><link rel="prefetch" href="/notebook/assets/git1.html-DD43inJt.js" as="script"><link rel="prefetch" href="/notebook/assets/jenkins.html-Dbnhn0po.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-_ZyXdudj.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BKjmunft.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D-fWdOXS.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-ByrAGRtC.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DEJH8vug.js" as="script"><link rel="prefetch" href="/notebook/assets/netty.html-1xlkTFEr.js" as="script"><link rel="prefetch" href="/notebook/assets/nio.html-CA_VDq7K.js" as="script"><link rel="prefetch" href="/notebook/assets/socket.html-KhWIGXW5.js" as="script"><link rel="prefetch" href="/notebook/assets/theory.html-6_0TDqYX.js" as="script"><link rel="prefetch" href="/notebook/assets/Jvmå†…å­˜ç®¡ç†.html-85FqTRHN.js" as="script"><link rel="prefetch" href="/notebook/assets/Jvmç±»åŠ è½½.html-ClW7BK5v.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DXkDG7IS.js" as="script"><link rel="prefetch" href="/notebook/assets/bytecode.html-BdbRneF0.js" as="script"><link rel="prefetch" href="/notebook/assets/pt.html-DQY1wRI3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CFe0Rnxp.js" as="script"><link rel="prefetch" href="/notebook/assets/lock.html-BgmvUQgO.js" as="script"><link rel="prefetch" href="/notebook/assets/pool.html-D64DUQz2.js" as="script"><link rel="prefetch" href="/notebook/assets/thread.html-BWEc5Ymd.js" as="script"><link rel="prefetch" href="/notebook/assets/tool.html-BBfBofjw.js" as="script"><link rel="prefetch" href="/notebook/assets/Architecture.html-BIxH_tMh.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cq0YMltl.js" as="script"><link rel="prefetch" href="/notebook/assets/Transaction.html-C4u3qwbw.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql-index.html-BHLKJL49.js" as="script"><link rel="prefetch" href="/notebook/assets/redis-java.html-De_FVGNM.js" as="script"><link rel="prefetch" href="/notebook/assets/redis.html-nr5J2Vlw.js" as="script"><link rel="prefetch" href="/notebook/assets/sql.html-CN5uMHMz.js" as="script"><link rel="prefetch" href="/notebook/assets/Hibernate.html-ehFVvuMr.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BP87XHVz.js" as="script"><link rel="prefetch" href="/notebook/assets/generator.html-od8lECv0.js" as="script"><link rel="prefetch" href="/notebook/assets/mybatis-resource.html-CrQ2g4xl.js" as="script"><link rel="prefetch" href="/notebook/assets/mybatis.html-DKzT8n_k.js" as="script"><link rel="prefetch" href="/notebook/assets/tk-mybatis.html-CQPT3d0y.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DmtQ-dZC.js" as="script"><link rel="prefetch" href="/notebook/assets/Servlet.html-Cj-tvv3E.js" as="script"><link rel="prefetch" href="/notebook/assets/jsp.html-CXMYkHv0.js" as="script"><link rel="prefetch" href="/notebook/assets/mvc.html-1Kvxuaby.js" as="script"><link rel="prefetch" href="/notebook/assets/nginx.html-DlCp5V5A.js" as="script"><link rel="prefetch" href="/notebook/assets/tomcat.html-KPbTgCDO.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-ChpHLCTe.js" as="script"><link rel="prefetch" href="/notebook/assets/log.html-99vHzP8k.js" as="script"><link rel="prefetch" href="/notebook/assets/shiro.html-BQf4EmvR.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-_Eb15jUg.js" as="script"><link rel="prefetch" href="/notebook/assets/design.html-BK61A1BN.js" as="script"><link rel="prefetch" href="/notebook/assets/life.html-C9G9iUk0.js" as="script"><link rel="prefetch" href="/notebook/assets/mvc-core.html-BGUF3DYH.js" as="script"><link rel="prefetch" href="/notebook/assets/sb-core.html-RtC8TKkr.js" as="script"><link rel="prefetch" href="/notebook/assets/sec.html-hr12KPi2.js" as="script"><link rel="prefetch" href="/notebook/assets/spring.html-D_QNNDrI.js" as="script"><link rel="prefetch" href="/notebook/assets/springboot.html-D6oU21bE.js" as="script"><link rel="prefetch" href="/notebook/assets/springmvc.html-BLShYJRD.js" as="script"><link rel="prefetch" href="/notebook/assets/transaction.html-tW0n87hl.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BHctfMcz.js" as="script"><link rel="prefetch" href="/notebook/assets/mybatis.html-C0DjejIy.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql.html-CLm_Mjcb.js" as="script"><link rel="prefetch" href="/notebook/assets/redis.html-DH-BVX_5.js" as="script"><link rel="prefetch" href="/notebook/assets/security.html-Bjr7o5hi.js" as="script"><link rel="prefetch" href="/notebook/assets/spring.html-2Sgq-qOK.js" as="script"><link rel="prefetch" href="/notebook/assets/springboot.html-6FEMMi_E.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BA7m1E7y.js" as="script"><link rel="prefetch" href="/notebook/assets/base.html-B6_mG3rm.js" as="script"><link rel="prefetch" href="/notebook/assets/collect.html-BYlvjIpa.js" as="script"><link rel="prefetch" href="/notebook/assets/concurrency.html-CEsDdkXR.js" as="script"><link rel="prefetch" href="/notebook/assets/jvm.html-CMTtvSzr.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-aofzcqMR.js" as="script"><link rel="prefetch" href="/notebook/assets/es.html-DQLDXQOO.js" as="script"><link rel="prefetch" href="/notebook/assets/rocketmq.html-BXd_tULO.js" as="script"><link rel="prefetch" href="/notebook/assets/sys.html-qSPo3-om.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DkOBBXK1.js" as="script"><link rel="prefetch" href="/notebook/assets/RabbitMQ.html-C074leyn.js" as="script"><link rel="prefetch" href="/notebook/assets/RockMQ.html-CzN6IGWW.js" as="script"><link rel="prefetch" href="/notebook/assets/Sentinel.html-DGJupQwm.js" as="script"><link rel="prefetch" href="/notebook/assets/dubbo.html-HCcWq8o-.js" as="script"><link rel="prefetch" href="/notebook/assets/es.html-DNo-BLIK.js" as="script"><link rel="prefetch" href="/notebook/assets/eureka.html-D_cric9F.js" as="script"><link rel="prefetch" href="/notebook/assets/gateway.html-CNDG5o32.js" as="script"><link rel="prefetch" href="/notebook/assets/hystrix.html-Cb_BMwgq.js" as="script"><link rel="prefetch" href="/notebook/assets/kafka.html-SXe6_c9h.js" as="script"><link rel="prefetch" href="/notebook/assets/nacos.html-BDMBMiIU.js" as="script"><link rel="prefetch" href="/notebook/assets/zookeeper.html-CaFt8vDi.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-7ORezkSr.js" as="script"><link rel="prefetch" href="/notebook/assets/cron.html-Cb4IEvoQ.js" as="script"><link rel="prefetch" href="/notebook/assets/db.html-hFWQ0RXm.js" as="script"><link rel="prefetch" href="/notebook/assets/dup.html-DJT5U1K0.js" as="script"><link rel="prefetch" href="/notebook/assets/lock.html-Cd6HxvJT.js" as="script"><link rel="prefetch" href="/notebook/assets/redis.html-CeU-KQ9C.js" as="script"><link rel="prefetch" href="/notebook/assets/transac.html-p_Yq0D1I.js" as="script"><link rel="prefetch" href="/notebook/assets/walk.html-BNoy0tYX.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DVr64uVm.js" as="script"><link rel="prefetch" href="/notebook/assets/numpy.html-CNQp_87S.js" as="script"><link rel="prefetch" href="/notebook/assets/pandas.html-BEMzsvL_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bkwoqf9D.js" as="script"><link rel="prefetch" href="/notebook/assets/css.html-DOdGVu2i.js" as="script"><link rel="prefetch" href="/notebook/assets/css2.html-DK0Ctbcs.js" as="script"><link rel="prefetch" href="/notebook/assets/css3.html-DkPPC4qv.js" as="script"><link rel="prefetch" href="/notebook/assets/css4.html-BrPfeD_n.js" as="script"><link rel="prefetch" href="/notebook/assets/html.html-B5MSW3a5.js" as="script"><link rel="prefetch" href="/notebook/assets/html5.html-BQ6XjW2J.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CpnFDv4J.js" as="script"><link rel="prefetch" href="/notebook/assets/dom.html-SaS6ICeh.js" as="script"><link rel="prefetch" href="/notebook/assets/es6.html-9906yKaB.js" as="script"><link rel="prefetch" href="/notebook/assets/js.html-pCDVN6gY.js" as="script"><link rel="prefetch" href="/notebook/assets/js2.html-_Egox7Mm.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-j1tAoWUO.js" as="script"><link rel="prefetch" href="/notebook/assets/ts.html-DEiAGvbX.js" as="script"><link rel="prefetch" href="/notebook/assets/ts2.html-v8rhw3Xx.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C46rySrs.js" as="script"><link rel="prefetch" href="/notebook/assets/react.html-BSu6HBAw.js" as="script"><link rel="prefetch" href="/notebook/assets/ui.html-BDr2aiNl.js" as="script"><link rel="prefetch" href="/notebook/assets/vue.html-BOYzoQ7X.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CX3WQcRu.js" as="script"><link rel="prefetch" href="/notebook/assets/backend.html-5FVnlhM2.js" as="script"><link rel="prefetch" href="/notebook/assets/nestjs.html-4CfNsire.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CDof4ltI.js" as="script"><link rel="prefetch" href="/notebook/assets/build.html-D2CaEmKv.js" as="script"><link rel="prefetch" href="/notebook/assets/format.html-CPYWH80K.js" as="script"><link rel="prefetch" href="/notebook/assets/node.html-bn-VjCVQ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cze0-xYe.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CMhWwCqL.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BFpiDjp2.js" as="script"><link rel="prefetch" href="/notebook/assets/baz.html-DutHidA_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DcbvcRBe.js" as="script"><link rel="prefetch" href="/notebook/assets/ray.html-B1esEf5V.js" as="script"><link rel="prefetch" href="/notebook/assets/404.html-C5Uveoeg.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-92GTlWoy.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DKAoK3A2.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DX_Acgoo.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BVmcY_BZ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DBpnTJ4-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BXxuaQS6.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-gZXaXAn_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-1w5FQ-0x.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C1i-wlQ8.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BmVpTH83.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DocyGoQv.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CpN23kD3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C2GGXHgr.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D82C5Nir.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CA2bmXIN.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B5WN79fj.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CDCNXmv-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CD_da-2Q.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DkCNNau-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-4-JCMrda.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DafNWKXQ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Ch4B58iL.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C4V7uh-A.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CgLe1C6X.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CmrT1cI3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CzO56M2y.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CAEyeojx.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DohBh5V8.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Drt5Dn1p.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Dp86MmSX.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-COOYNHpU.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CaoGZCV-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-_0WN_uA_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B2Ixz56U.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C5ybcDJ8.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CRQ5bHrH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-7xE1f1zk.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-McS48_sH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-jMC8JCiM.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BoUwVFFK.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Crd0hbVV.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BJrThEfd.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CbwJlURl.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-aJiIk7LA.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BWok5ydW.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CWFYwNyP.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-c_4JND0q.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BvkT-77J.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CqOo0mQE.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DOHBkvDT.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CDi0bqK_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BEXWtp9i.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DvDDnFHA.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-larWdhe2.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-COSHXG-g.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CxsfoKI8.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BG_JzZg3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B6QrHdG4.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-gpOi8ltX.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B94L9MG5.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bw2IaAjw.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-pMu93to-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BaAqrEUN.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-avQ-CXCO.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CD2IdySW.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-7G_H4ky2.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CSKGyUOA.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BZpZ9h4L.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bb7udid5.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CV39-qAl.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BUWdIl-3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B-jUvK9J.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DDfEoK8y.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-uea3M0AZ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DiwO-rtY.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BIc6_KZG.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-apXwYFNv.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DL-lFhBZ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bqe52pIe.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Droo0Ie9.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-iU8h5X_s.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D9z92CD-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cfv41peT.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D6jtNIdN.js" as="script"><link rel="prefetch" href="/notebook/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/notebook/assets/mermaid.core-USbE_a9R.js" as="script"><link rel="prefetch" href="/notebook/assets/photoswipe.esm-DXWKOczD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/notebook/"><img class="vp-nav-logo" src="/notebook/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">doc</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/notebook/AI/" aria-label="  AI  "><!--[--><span class="font-icon icon iconfont icon-ai-robot" style=""></span><!--]-->  AI  <!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Java"><!--[--><span class="font-icon icon iconfont icon-java" style=""></span>Java<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Javaå¼€å‘çŸ¥è¯†ä½“ç³»</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/base/" aria-label="JavaåŸºç¡€è¯­æ³•å…¥é—¨"><!---->JavaåŸºç¡€è¯­æ³•å…¥é—¨<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/core/" aria-label="Javaè¿›é˜¶åŠæ ¸å¿ƒç‰¹æ€§"><!---->Javaè¿›é˜¶åŠæ ¸å¿ƒç‰¹æ€§<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/frame/" aria-label="JavaWebåŠå¸¸ç”¨æ¡†æ¶"><!---->JavaWebåŠå¸¸ç”¨æ¡†æ¶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/database/" aria-label="æ•°æ®åº“ä¸ORMæ¡†æ¶"><!---->æ•°æ®åº“ä¸ORMæ¡†æ¶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/service/" aria-label="åˆ†å¸ƒå¼ä¸å¾®æœåŠ¡æ¶æ„"><!---->åˆ†å¸ƒå¼ä¸å¾®æœåŠ¡æ¶æ„<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Javaé¡¹ç›®åŠè§£å†³æ–¹æ¡ˆ</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/project/base/" aria-label="å¸¸è§å·¥å…·å’Œç¯å¢ƒ"><!---->å¸¸è§å·¥å…·å’Œç¯å¢ƒ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/project/mall/" aria-label="ç”µå•†é¡¹ç›®ç»¼åˆå®è·µ"><!---->ç”µå•†é¡¹ç›®ç»¼åˆå®è·µ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/project/solution/" aria-label="é¡¹ç›®åœºæ™¯è§£å†³æ–¹æ¡ˆ"><!---->é¡¹ç›®åœºæ™¯è§£å†³æ–¹æ¡ˆ<!----></a></li></ul></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/java/interview/" aria-label="Javaå¸¸è§é¢è¯•é¢˜åˆ†æ"><!--[--><span class="font-icon icon iconfont icon-microservice" style=""></span><!--]-->Javaå¸¸è§é¢è¯•é¢˜åˆ†æ<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Web"><!--[--><span class="font-icon icon iconfont icon-net" style=""></span>Web<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/web/base/" aria-label="å‰ç«¯åŸºç¡€çŸ¥è¯†"><!--[--><span class="font-icon icon iconfont icon-net" style=""></span><!--]-->å‰ç«¯åŸºç¡€çŸ¥è¯†<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/web/core/" aria-label="å¼€å‘æ¡†æ¶å’Œå·¥å…·"><!--[--><span class="font-icon icon iconfont icon-cloud" style=""></span><!--]-->å¼€å‘æ¡†æ¶å’Œå·¥å…·<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/web/security/" aria-label="æ€§èƒ½ä¼˜åŒ–ä¸Webå®‰å…¨"><!--[--><span class="font-icon icon iconfont icon-project" style=""></span><!--]-->æ€§èƒ½ä¼˜åŒ–ä¸Webå®‰å…¨<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Python"><!--[--><span class="font-icon icon iconfont icon-python" style=""></span>Python<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/python/base/" aria-label="å¼€å‘ç¯å¢ƒå’ŒåŸºç¡€è¯­æ³•"><!--[--><span class="font-icon icon iconfont icon-python" style=""></span><!--]-->å¼€å‘ç¯å¢ƒå’ŒåŸºç¡€è¯­æ³•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/python/frame/" aria-label="å¸¸ç”¨åº“å’Œæ¡†æ¶"><!--[--><span class="font-icon icon iconfont icon-app" style=""></span><!--]-->å¸¸ç”¨åº“å’Œæ¡†æ¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/python/image/" aria-label="Pythonå›¾åƒå¤„ç†"><!--[--><span class="font-icon icon iconfont icon-img" style=""></span><!--]-->Pythonå›¾åƒå¤„ç†<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/notebook/python/Project/" aria-label="ç›¸å…³é¡¹ç›®åŠåº”ç”¨"><!--[--><span class="font-icon icon iconfont icon-project" style=""></span><!--]-->ç›¸å…³é¡¹ç›®åŠåº”ç”¨<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="C++"><!--[--><span class="font-icon icon iconfont icon-cpp" style=""></span>C++<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/cpp/base/" aria-label="C/C++åŸºç¡€è¯­æ³•å…¥é—¨"><!---->C/C++åŸºç¡€è¯­æ³•å…¥é—¨<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/cpp/ed/" aria-label="å•ç‰‡æœºå’ŒåµŒå…¥å¼å¼€å‘"><!---->å•ç‰‡æœºå’ŒåµŒå…¥å¼å¼€å‘<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Blog"><!--[--><span class="font-icon icon iconfont icon-blog" style=""></span>Blog<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/blog.html" aria-label="Blog HomePage"><!--[--><span class="font-icon icon iconfont icon-home" style=""></span><!--]-->Blog HomePage<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/blog/" aria-label="å¯¼èˆª/æ—¥å¸¸åšå®¢è®°å½•"><!---->å¯¼èˆª/æ—¥å¸¸åšå®¢è®°å½•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/cs/" aria-label="è®¡ç®—æœºç†è®ºåŸºç¡€"><!---->è®¡ç®—æœºç†è®ºåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/java/" aria-label="Java/AIå¼€å‘ç›¸å…³è®°å½•"><!---->Java/AIå¼€å‘ç›¸å…³è®°å½•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/db/" aria-label="æ•°æ®åº“ç›¸å…³åšå®¢"><!---->æ•°æ®åº“ç›¸å…³åšå®¢<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/om/" aria-label="è¿ç»´åŸºç¡€åŠç¯å¢ƒæ­å»º"><!---->è¿ç»´åŸºç¡€åŠç¯å¢ƒæ­å»º<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/ventixy/notebook" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable active"><span class="font-icon icon iconfont icon-python" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/notebook/python/Project/" aria-label="Pythonç›¸å…³é¡¹ç›®æ–‡æ¡£"><!---->Pythonç›¸å…³é¡¹ç›®æ–‡æ¡£<!----></a><!----></p><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/notebook/python/Project/hid.html" aria-label="HIDè®¾å¤‡åŠUSB"><!---->HIDè®¾å¤‡åŠUSB<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/python/Project/PICO.html" aria-label="PICO RP2040"><!---->PICO RP2040<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/python/Project/ch9329.html" aria-label="CH9329"><!---->CH9329<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/python/Project/damb.html" aria-label="Carrying bricks"><!---->Carrying bricks<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->HIDè®¾å¤‡åŠUSB</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://www.ventix.top" target="_blank" rel="noopener noreferrer">ventixy</a></span><span property="author" content="ventixy"></span></span><!----><span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2025-04-17T03:51:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 25 min</span><meta property="timeRequired" content="PT25M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#hidâ€”é”®é¼ å·¥ä½œåŸç†">HIDâ€”é”®é¼ å·¥ä½œåŸç†</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é”®ç›˜å·¥ä½œåŸç†">é”®ç›˜å·¥ä½œåŸç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é¼ æ ‡çš„è¿ä½œæœºåˆ¶">é¼ æ ‡çš„è¿ä½œæœºåˆ¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#hid-è®¾å¤‡å·¥ä½œæµç¨‹">HID è®¾å¤‡å·¥ä½œæµç¨‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è®¾å¤‡vid-pid">è®¾å¤‡VID/PID</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#hidç›¸å…³å·¥å…·">HIDç›¸å…³å·¥å…·</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#universal-serial-bus">Universal Serial Bus</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#usbé›†çº¿å™¨-hub">USBé›†çº¿å™¨ï¼ˆHubï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#usbåŠŸèƒ½è®¾å¤‡">USBåŠŸèƒ½è®¾å¤‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¤åˆè®¾å¤‡ä¸ç»„åˆè®¾å¤‡">å¤åˆè®¾å¤‡ä¸ç»„åˆè®¾å¤‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é…ç½®-æ¥å£-ç«¯ç‚¹">é…ç½®/æ¥å£/ç«¯ç‚¹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#usbè®¾å¤‡æšä¸¾è¿‡ç¨‹">USBè®¾å¤‡æšä¸¾è¿‡ç¨‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#usbpcapæŠ“åŒ…å®è·µ">USBPcapæŠ“åŒ…å®è·µ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#usb-request-block">USB Request Block</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#urb-function">URB Function</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#usbç›‘å¬-hidapi">USBç›‘å¬(hidapi)</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><p>HIDï¼ˆHuman Interface Deviceï¼‰æ˜¯è®¡ç®—æœºä¸äººç±»äº¤äº’çš„æ¥å£è®¾å¤‡çš„æ ‡å‡†ï¼Œå¦‚é”®ç›˜ã€é¼ æ ‡ã€æ¸¸æˆæ§åˆ¶å™¨ç­‰ã€‚HIDæ ‡å‡†ç”±USBè§„èŒƒå®šä¹‰ï¼Œæ—¨åœ¨ä¸ºè¿™äº›è®¾å¤‡æä¾›ä¸€ç§ç»Ÿä¸€ä¸”æ˜“äºå®ç°çš„æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚HIDåè®®ä¸ä»…é™äºUSBè®¾å¤‡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è“ç‰™ç­‰å…¶ä»–ä¼ è¾“æ–¹å¼å·¥ä½œã€‚</p><hr><h2 id="hidâ€”é”®é¼ å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#hidâ€”é”®é¼ å·¥ä½œåŸç†"><span>HIDâ€”é”®é¼ å·¥ä½œåŸç†</span></a></h2><h3 id="é”®ç›˜å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#é”®ç›˜å·¥ä½œåŸç†"><span>é”®ç›˜å·¥ä½œåŸç†</span></a></h3><p>ä»¥ Windows ç³»ç»Ÿä¸‹ USB HID è®¾å¤‡ä¸ºä¾‹ï¼š</p><hr><h4 id="_1ï¸âƒ£-é”®ç›˜åŸºç¡€å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-é”®ç›˜åŸºç¡€å·¥ä½œåŸç†"><span><strong>1ï¸âƒ£ é”®ç›˜åŸºç¡€å·¥ä½œåŸç†</strong></span></a></h4><p>âœ… é”®ç›˜åšçš„äº‹ï¼š</p><ul><li>é€šè¿‡æ‰«æé”®ç›˜çŸ©é˜µï¼Œæ£€æµ‹å“ªä¸ªæŒ‰é”®è¢«æŒ‰ä¸‹ï¼›</li><li>è½¬æ¢ä¸º HID æŠ¥æ–‡æ ¼å¼ï¼›</li><li>ç­‰å¾…ä¸»æœºé€šè¿‡ USB IN è¯·æ±‚è½®è¯¢ï¼Œå†å°† HID æŠ¥æ–‡å“åº”ç»™ä¸»æœºã€‚</li></ul><p>âœ… HID æŠ¥æ–‡å†…å®¹ï¼ˆ8å­—èŠ‚ï¼‰ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[Modifier][Reserved][Key1][Key2][Key3][Key4][Key5][Key6]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>åŒä¸€æ—¶é—´æœ€å¤šæŠ¥å‘Š 6 ä¸ªæŒ‰é”®ï¼ˆä¸åŒ…æ‹¬ä¿®é¥°é”®ï¼‰ï¼›</li><li>ä¿®é¥°é”®ï¼ˆCtrlã€Altã€Shiftç­‰ï¼‰åœ¨ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸­ä»¥ä½è¡¨ç¤ºï¼›</li><li>æŠ¥æ–‡è¡¨ç¤º&quot;<strong>å½“å‰æ‰€æœ‰è¢«æŒ‰ä¸‹çš„é”®</strong>&quot;ã€‚</li></ul><hr><h4 id="_2ï¸âƒ£-æŠ¥æ–‡ä½•æ—¶å‘é€" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-æŠ¥æ–‡ä½•æ—¶å‘é€"><span><strong>2ï¸âƒ£ æŠ¥æ–‡ä½•æ—¶å‘é€ï¼Ÿ</strong></span></a></h4><p>âœ… é”®ç›˜æœ¬èº«ä¸ä¼š&quot;ä¸»åŠ¨å‘é€&quot;æŠ¥æ–‡ï¼Œè€Œæ˜¯ä¸»æœºæŒç»­å‘é€ IN è¯·æ±‚ï¼Œé”®ç›˜<strong>åœ¨è¢«è½®è¯¢åˆ°æ—¶</strong>è¿”å›çŠ¶æ€æ•°æ®ï¼š</p><table><thead><tr><th>çŠ¶æ€å˜åŒ–</th><th>æ˜¯å¦å“åº”æœ‰æ•ˆæŠ¥æ–‡</th><th>æŠ¥æ–‡å†…å®¹</th></tr></thead><tbody><tr><td>æŒ‰ä¸‹ä¸€ä¸ªæ–°æŒ‰é”®</td><td>âœ…</td><td>æ–° keycode å‡ºç°åœ¨æŠ¥æ–‡ä¸­</td></tr><tr><td>æ¾å¼€æŸä¸ªæŒ‰é”®</td><td>âœ…</td><td>è¯¥ keycode ä¸å†å‡ºç°åœ¨æŠ¥æ–‡ä¸­</td></tr><tr><td>é•¿æŒ‰ä¸æ”¾</td><td>âœ…</td><td>âœ³ åªåœ¨çŠ¶æ€æ”¹å˜æ—¶å‘é€æŠ¥æ–‡</td></tr><tr><td>æ— é”®æŒ‰ä¸‹</td><td>âœ…</td><td>æŠ¥æ–‡ä¸ºå…¨é›¶ï¼ˆæˆ–è¿”å› NAKï¼‰</td></tr></tbody></table><p>é”®ç›˜å†…éƒ¨å·¥ä½œåŸç†æ¨¡æ‹Ÿï¼š</p><ul><li>ç»´æŠ¤ä¸€ä¸ªå†…éƒ¨ç¼“å†²åŒºï¼Œç”¨äºå­˜å‚¨å½“å‰é”®ç›˜çŠ¶æ€ï¼Œå½“æœ‰çŠ¶æ€å˜åŒ–æ—¶æ–°çš„é”®ç›˜çŠ¶æ€è¢«å†™å…¥è¿™ä¸ªç¼“å†²åŒºï¼ˆç¼“å†²åŒºåŒ…å«ä¿®é¥°é”®çŠ¶æ€å’Œæœ€å¤š6ä¸ªæ™®é€šæŒ‰é”®çš„é”®å€¼ï¼‰</li><li>ä¸»æœºä»¥å›ºå®šé—´éš”ï¼ˆé€šå¸¸æ˜¯8msæˆ–æ›´çŸ­ï¼‰å‘é€INä»¤ç‰ŒåŒ…è¯·æ±‚æŠ¥å‘Šï¼Œé”®ç›˜ä¸­æ–­å¤„ç†ç¨‹åºæ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„æŠ¥å‘Šéœ€è¦å‘é€ <ul><li>å¦‚æœæœ‰æ–°æŠ¥å‘Šï¼Œåˆ™ä»ç¼“å†²åŒºè¯»å–å¹¶å‘é€</li><li>å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œå¯èƒ½ä¼šå‘é€NAK</li></ul></li></ul><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> tud_hid_keyboard_report</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">uint8_t</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> report_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">uint8_t</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> modifier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">uint8_t</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> keycode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å°†é”®ç›˜çŠ¶æ€ä¿å­˜åˆ°å†…éƒ¨ç¼“å†²åŒº</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  _kbd_report</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">modifier</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> modifier;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  memcpy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">_kbd_report</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">keycode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, keycode, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æ ‡è®°æœ‰æ–°æŠ¥å‘Šéœ€è¦å‘é€</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  _kbd_new_report </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å°è¯•æ£€æŸ¥USBç«¯ç‚¹çŠ¶æ€ï¼Œå¦‚æœç«¯ç‚¹ç©ºé—²ï¼Œå°†æ•°æ®å†™å…¥ç«¯ç‚¹ç¼“å†²åŒºï¼Œå¹¶æ ‡è®°ä¸º&quot;å°±ç»ª&quot;ã€‚</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å¦‚æœUSBæ€»çº¿å¿™ï¼Œåˆ™ç­‰å¾…ä¸‹ä¸€æ¬¡è½®è¯¢</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> tud_hid_report</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(report_id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">_kbd_report, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">sizeof</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(_kbd_report));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æ”¶åˆ°ä¸»æœºçš„INè¯·æ±‚æ—¶æ‰ä¼šçœŸæ­£å‘é€æ•°æ®æŠ¥ï¼š</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç®€åŒ–çš„ä¼ªä»£ç ï¼Œå±•ç¤ºé”®ç›˜å‘é€æ•°æ®çš„å¤„ç†é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> handle_usb_interrupt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">is_in_token_received</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _kbd_new_report) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å‘é€ç¼“å†²åŒºä¸­çš„æŠ¥å‘Š</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    usb_send_data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(_kbd_report, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">sizeof</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(_kbd_report));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    _kbd_new_report </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¼ æ ‡å’Œé”®ç›˜çš„å·¥ä½œåŸç†åŸºæœ¬ç›¸åŒï¼Œéƒ½éµå¾ªUSB HIDåè®®çš„è§„åˆ™ï¼Œä¸èƒ½çœŸæ­£&quot;ä¸»åŠ¨&quot;å‘é€æ•°æ®ã€‚åªæ˜¯ä¿å­˜çŠ¶æ€ï¼Œä¸»æœºçš„è¯·æ±‚åˆ°æ¥åæ‰çœŸæ­£å‘é€</p><hr><h4 id="_3ï¸âƒ£-usb-é€šä¿¡ç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-usb-é€šä¿¡ç»†èŠ‚"><span><strong>3ï¸âƒ£ USB é€šä¿¡ç»†èŠ‚</strong></span></a></h4><p>âœ… è½®è¯¢æœºåˆ¶è¯´æ˜ï¼š</p><ul><li>USB HID æ˜¯ <strong>ä¸­æ–­ä¼ è¾“ç±»å‹</strong>ï¼Œä½†ä¸æ˜¯çœŸæ­£çš„&quot;ä¸­æ–­&quot;ï¼Œè€Œæ˜¯<strong>ä¸»æœºè½®è¯¢è®¾å¤‡</strong>ï¼›</li><li>ä¸»æœºä¼šä»¥ HID æè¿°ç¬¦ä¸­è®¾ç½®çš„è½®è¯¢é—´éš”ï¼ˆå¦‚ 8msã€2msã€1msï¼‰å‘é”®ç›˜å‘èµ· <strong>IN è¯·æ±‚</strong>ï¼›</li><li>é”®ç›˜ä»…åœ¨ä¸»æœºå‘èµ· IN è¯·æ±‚æ—¶å“åº”æŠ¥æ–‡ï¼›</li><li>æ— é”®å˜åŒ–æ—¶ï¼Œé€šå¸¸ä¼šè¿”å›å…¨é›¶æŠ¥æ–‡ï¼ˆå¦‚æœæ‰€æœ‰é”®éƒ½å·²é‡Šæ”¾ï¼‰ï¼Œæˆ–è¿”å› <strong>NAK</strong>ï¼ˆè¡¨ç¤ºæ²¡æœ‰æ–°æ•°æ®ï¼‰ï¼›</li><li>é”®ç›˜ä¸èƒ½ä¸»åŠ¨å‘é€æ•°æ®ï¼Œåªèƒ½å“åº”ä¸»æœºè¯·æ±‚ã€‚</li></ul><hr><h4 id="_4ï¸âƒ£-æ“ä½œç³»ç»Ÿå¦‚ä½•å¤„ç†è¾“å…¥" tabindex="-1"><a class="header-anchor" href="#_4ï¸âƒ£-æ“ä½œç³»ç»Ÿå¦‚ä½•å¤„ç†è¾“å…¥"><span><strong>4ï¸âƒ£ æ“ä½œç³»ç»Ÿå¦‚ä½•å¤„ç†è¾“å…¥ï¼Ÿ</strong></span></a></h4><p>Windowsç³»ç»Ÿä¸‹çš„å¸¸è§è¾“å…¥æµç¨‹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>é”®ç›˜ â†’ USB æŠ¥æ–‡ â†’ HID é©±åŠ¨ â†’ å†…æ ¸äº‹ä»¶ â†’ åº”ç”¨ç¨‹åºæ¶ˆæ¯</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><table><thead><tr><th>ç±»å‹</th><th>è·å–æ–¹å¼</th><th>ç‰¹ç‚¹</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>æ ‡å‡†è¾“å…¥æ¶ˆæ¯</td><td><code>WM_KEYDOWN / WM_KEYUP / WM_CHAR</code></td><td>æ¥è‡ª Windows æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”±ç³»ç»Ÿç®¡ç†</td><td>æ™®é€šæ¡Œé¢ç¨‹åº</td></tr><tr><td>åº•å±‚è¾“å…¥çŠ¶æ€</td><td><code>GetAsyncKeyState()</code> / <code>RawInput</code></td><td>ç›´æ¥è¯»å–æŒ‰é”®çŠ¶æ€æˆ–åŸå§‹æ•°æ®ï¼Œè·³è¿‡æ¶ˆæ¯é˜Ÿåˆ—</td><td>æ¸¸æˆ / é«˜æ€§èƒ½åº”ç”¨</td></tr></tbody></table><ul><li><code>GetAsyncKeyState(key)</code>ï¼šè¿”å›å½“å‰é”®æ˜¯å¦æŒ‰ä¸‹ã€æ˜¯å¦æ›¾æŒ‰ä¸‹è¿‡ï¼›æ¸¸æˆå¼•æ“é€šå¸¸æ¯å¸§è½®è¯¢åˆ¤æ–­è¾“å…¥ï¼›</li><li><code>RawInput</code>ï¼šä½çº§åˆ« APIï¼Œå¯è¯»å– HID å±‚åŸå§‹æŠ¥æ–‡ï¼Œæ”¯æŒå¤šè®¾å¤‡ã€åŸå§‹ç ã€æ¥æºè¯†åˆ«ç­‰ã€‚</li></ul><hr><div class="hint-container info"><p class="hint-container-title">é‡å¤é”®ï¼ˆRepeat Rateï¼‰æœºåˆ¶</p><p>âœ… é‡å¤æŒ‰é”®æ˜¯ç”± <strong>æ“ä½œç³»ç»Ÿæ¨¡æ‹Ÿ</strong> çš„ï¼Œä¸æ˜¯é”®ç›˜è‡ªå·±é‡å¤å‘æ•°æ®ã€‚</p><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>é¦–æ¬¡æŒ‰ä¸‹æŒ‰é”® â†’ <code>WM_KEYDOWN</code></li><li>å»¶è¿Ÿä¸€æ®µæ—¶é—´ï¼ˆçº¦ 250-500msï¼Œå–å†³äºç³»ç»Ÿè®¾ç½®ï¼‰</li><li>ç„¶åç³»ç»Ÿå¼€å§‹æ¨¡æ‹Ÿé‡å¤è§¦å‘ <code>WM_KEYDOWN</code>ï¼ˆçº¦ 33ï½50ms ä¸€æ¬¡ï¼Œå–å†³äºç³»ç»Ÿè®¾ç½®ï¼‰</li><li>æ¾å¼€é”® â†’ <code>WM_KEYUP</code> åœæ­¢é‡å¤</li></ol><p>ğŸ“Œ å¯åœ¨ &quot;æ§åˆ¶é¢æ¿ &gt; é”®ç›˜ &gt; é‡å¤å»¶è¿Ÿ / é‡å¤é€Ÿåº¦&quot; è®¾ç½®å‚æ•°</p></div><p>åœ¨æ¸¸æˆç­‰åœºæ™¯ä¸­æ¨¡æ‹Ÿé«˜é¢‘é‡å¤é”®çš„æ–¹å¼ï¼š</p><ol><li>ä½¿ç”¨å®šæ—¶å™¨æˆ–ä¸»å¾ªç¯æ§åˆ¶&quot;æŒ‰ä¸‹-æ¾å¼€&quot;å‘¨æœŸï¼›</li><li>æ¨¡æ‹Ÿç”Ÿæˆäº¤æ›¿çš„æŒ‰ä¸‹/æ¾å¼€æŠ¥æ–‡ï¼›</li><li>é¿å…ç³»ç»Ÿè‡ªèº«çš„é‡å¤æœºåˆ¶å½±å“ã€‚</li></ol><hr><h4 id="_5ï¸âƒ£-æ¸¸æˆ-åº”ç”¨ç¨‹åºå¦‚ä½•ç›‘å¬æŒ‰é”®" tabindex="-1"><a class="header-anchor" href="#_5ï¸âƒ£-æ¸¸æˆ-åº”ç”¨ç¨‹åºå¦‚ä½•ç›‘å¬æŒ‰é”®"><span><strong>5ï¸âƒ£ æ¸¸æˆ/åº”ç”¨ç¨‹åºå¦‚ä½•ç›‘å¬æŒ‰é”®ï¼Ÿ</strong></span></a></h4><ul><li><p>æ¸¸æˆé€»è¾‘ä»¥&quot;æ¯å¸§&quot;ä¸ºå•ä½ï¼ˆå¦‚ 60FPS = æ¯å¸§çº¦ 16.67msï¼‰ï¼›</p></li><li><p>æ¯å¸§è½®è¯¢å½“å‰æŒ‰é”®çŠ¶æ€ï¼Œåˆ¤æ–­æ˜¯å¦ï¼š</p><ul><li>é¦–æ¬¡æŒ‰ä¸‹ â†’ è§¦å‘äº‹ä»¶ï¼›</li><li>æŒç»­æŒ‰ä½ â†’ ç»´æŒæŸçŠ¶æ€ï¼›</li><li>æ¾å¼€ â†’ è§¦å‘é‡Šæ”¾é€»è¾‘ï¼›</li></ul></li></ul><hr><div class="hint-container important"><p class="hint-container-title">ğŸ§  æœ€å…³é”®çš„å‡ ä¸ªè¦ç‚¹</p><ul><li>âœ… <strong>é”®ç›˜ä¸ä¼šä¸»åŠ¨å‘é€æ•°æ®ï¼Œå¿…é¡»ç­‰ä¸»æœºå‘é€ IN è¯·æ±‚æ‰èƒ½å“åº”</strong>ï¼›</li><li>âœ… <strong>æ— è®ºæ˜¯å¦æœ‰é”®æŒ‰ä¸‹ï¼Œåªè¦ä¸»æœºè½®è¯¢ï¼Œè®¾å¤‡éƒ½è¦å“åº”ï¼ˆè¿”å›æ•°æ®æˆ– NAKï¼‰</strong>ï¼›</li><li>âœ… <strong>é‡å¤é”®æ˜¯æ“ä½œç³»ç»Ÿæ¨¡æ‹Ÿï¼Œä¸æ˜¯é”®ç›˜ç”Ÿæˆçš„</strong>ï¼›</li><li>âœ… <strong>é”®ç›˜çŠ¶æ€çš„é‡‡é›†å’Œè¾“å…¥æ´¾å‘ï¼Œæ˜¯ä¸»æœºå’Œ OS å…±åŒå®Œæˆçš„</strong>ï¼›</li><li>âœ… <strong>æ¸¸æˆç¨‹åºé€šå¸¸æ¯å¸§ä¸»åŠ¨è½®è¯¢æŒ‰é”®çŠ¶æ€ï¼Œä¸ä¾èµ–æ¶ˆæ¯äº‹ä»¶</strong>ï¼›</li><li>âœ… <strong>é”®ç›˜ä¼šæŒç»­æŠ¥å‘Šå½“å‰æŒ‰ä¸‹çš„æ‰€æœ‰æŒ‰é”®çŠ¶æ€ï¼Œè€Œä¸ä»…æ˜¯å˜åŒ–çš„æŒ‰é”®</strong>ï¼›</li></ul></div><hr><h3 id="é¼ æ ‡çš„è¿ä½œæœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#é¼ æ ‡çš„è¿ä½œæœºåˆ¶"><span>é¼ æ ‡çš„è¿ä½œæœºåˆ¶</span></a></h3><p>ğŸ–±ï¸ é¼ æ ‡ä¹Ÿå±äº HID è®¾å¤‡ï¼Œé€šä¿¡é€»è¾‘å’Œé”®ç›˜ç±»ä¼¼ï¼Œä½†ä½¿ç”¨ä¹ æƒ¯ä¸åŒã€‚</p><hr><h4 id="ğŸ§©-æŠ¥æ–‡ç»“æ„-å¸¸è§ä¸º3-5å­—èŠ‚" tabindex="-1"><a class="header-anchor" href="#ğŸ§©-æŠ¥æ–‡ç»“æ„-å¸¸è§ä¸º3-5å­—èŠ‚"><span>ğŸ§© æŠ¥æ–‡ç»“æ„ï¼ˆå¸¸è§ä¸º3ï½5å­—èŠ‚ï¼‰ï¼š</span></a></h4><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">Byte</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: æŒ‰é”®ä½å›¾ï¼ˆbit0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">å·¦é”®ï¼Œbit1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">å³é”®ï¼Œbit2</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ä¸­é”®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">Byte</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: Xè½´ç›¸å¯¹ä½ç§»ï¼ˆint8ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">Byte</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: Yè½´ç›¸å¯¹ä½ç§»ï¼ˆint8ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">Byte</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: æ»šè½®ï¼ˆint8ï¼Œå¯é€‰ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">Byte</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: æ°´å¹³æ»šè½®ï¼ˆint8ï¼Œå¯é€‰ï¼‰</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="é¼ æ ‡ä¸é”®ç›˜è¡Œä¸ºå¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#é¼ æ ‡ä¸é”®ç›˜è¡Œä¸ºå¯¹æ¯”"><span>é¼ æ ‡ä¸é”®ç›˜è¡Œä¸ºå¯¹æ¯”ï¼š</span></a></h4><table><thead><tr><th>åŠŸèƒ½</th><th>é”®ç›˜</th><th>é¼ æ ‡</th></tr></thead><tbody><tr><td>æŠ¥æ–‡å‘é€æ—¶æœº</td><td>ä¸»æœºè½®è¯¢æ—¶å“åº”å½“å‰çŠ¶æ€</td><td>ä¸»æœºè½®è¯¢æ—¶å“åº”å½“å‰çŠ¶æ€</td></tr><tr><td>ç©ºé—²æ—¶æ˜¯å¦å‘é€</td><td>é€šå¸¸ä¸ºå…¨é›¶æˆ– NAK</td><td>é€šå¸¸ä¸ºå…¨é›¶æˆ– NAK</td></tr><tr><td>æ•°æ®å†…å®¹</td><td>å½“å‰æŒ‰ä¸‹çš„é”®åˆ—è¡¨</td><td>æŒ‰é”®çŠ¶æ€ + åæ ‡å¢é‡</td></tr><tr><td>æ˜¯å¦æ”¯æŒé‡å¤ä¿¡å·</td><td>ç³»ç»Ÿæ¨¡æ‹Ÿ</td><td>æŒç»­ç§»åŠ¨äº§ç”Ÿè¿ç»­å¢é‡å€¼</td></tr><tr><td>é€šå¸¸è¯»å–æ–¹å¼</td><td>æ¶ˆæ¯ + æŸ¥è¯¢</td><td>æ¶ˆæ¯ + æŸ¥è¯¢ + åŸå§‹æŠ¥æ–‡</td></tr></tbody></table><hr><h4 id="â›“ï¸-è½®è¯¢å‘¨æœŸè¯´æ˜" tabindex="-1"><a class="header-anchor" href="#â›“ï¸-è½®è¯¢å‘¨æœŸè¯´æ˜"><span>â›“ï¸ è½®è¯¢å‘¨æœŸè¯´æ˜</span></a></h4><ul><li>é¼ æ ‡è½®è¯¢é—´éš”ç”±è®¾å¤‡ç«¯é…ç½®ï¼ˆHID æè¿°ç¬¦ä¸­çš„ <code>bInterval</code>ï¼‰ï¼›</li><li>å¸¸è§ä¸º 8msï¼ˆ125Hzï¼‰ï¼Œæ¸¸æˆé¼ æ ‡å¸¸ä¸º 1msï¼ˆ1000Hzï¼‰ï¼›</li><li>ä¸»æœºå›ºå®šæ—¶é—´å‘å‡º IN è¯·æ±‚ï¼Œè®¾å¤‡æŒç»­å›åº”å½“å‰çŠ¶æ€ï¼›</li><li>æ²¡æœ‰å˜åŒ–æ—¶ï¼Œä¹Ÿä¼šå›åº”å…¨ 0 æˆ–è¿”å› NAKã€‚</li></ul><hr><h4 id="ğŸ“¥-é©±åŠ¨å¤„ç†æµç¨‹" tabindex="-1"><a class="header-anchor" href="#ğŸ“¥-é©±åŠ¨å¤„ç†æµç¨‹"><span>ğŸ“¥ é©±åŠ¨å¤„ç†æµç¨‹</span></a></h4><ol><li>é¼ æ ‡å“åº”ä¸»æœº IN è¯·æ±‚ â†’ å‘é€ HID æŠ¥æ–‡ï¼›</li><li>æŠ¥æ–‡è¢« HID é©±åŠ¨è§£æï¼ˆhidclass.sysï¼‰ï¼›</li><li>æ•°æ®è¿›å…¥ input stackï¼Œç”± <code>mouhid.sys</code> / <code>mouclass.sys</code> åˆ†å‘ï¼›</li><li>Windows æ¶ˆæ¯ç³»ç»Ÿç”Ÿæˆ <code>WM_MOUSEMOVE</code>, <code>WM_LBUTTONDOWN</code> ç­‰äº‹ä»¶ï¼›</li><li>æˆ–è€…é€šè¿‡ RawInput è·å–åŸå§‹æ•°æ®ï¼ˆå¸¦æ¥æºå’ŒåŸå§‹ç ç­‰ä¿¡æ¯ï¼‰ã€‚</li></ol><hr><h4 id="ğŸ§ª-æƒ³æ¨¡æ‹ŸçœŸå®é¼ æ ‡-åŠ¡å¿…æ³¨æ„" tabindex="-1"><a class="header-anchor" href="#ğŸ§ª-æƒ³æ¨¡æ‹ŸçœŸå®é¼ æ ‡-åŠ¡å¿…æ³¨æ„"><span>ğŸ§ª æƒ³æ¨¡æ‹ŸçœŸå®é¼ æ ‡ï¼ŒåŠ¡å¿…æ³¨æ„ï¼š</span></a></h4><ol><li><strong>æŠ¥æ–‡æŒç»­æ€§</strong>ï¼šä¸»æœºè½®è¯¢æ—¶è®¾å¤‡å¿…é¡»ä¸€ç›´æœ‰å“åº”ï¼ˆå“ªæ€•æ˜¯æ— å˜åŒ–ï¼‰ï¼›</li><li><strong>çŠ¶æ€ä¿æŒ</strong>ï¼šå¦‚å·¦é”®æŒç»­æŒ‰ä¸‹ï¼Œæ¯ä¸ªæŠ¥æ–‡éƒ½è¦æºå¸¦å·¦é”®æŒ‰ä¸‹çŠ¶æ€ï¼›</li><li><strong>ç§»åŠ¨å€¼ä¸ºç›¸å¯¹åæ ‡</strong>ï¼šå¦‚ int8_tï¼Œå€¼è¶Šå¤§è¡¨ç¤ºç§»åŠ¨è¶Šå¿«ï¼›</li><li><strong>é¢‘ç‡åŒ¹é…çœŸå®è®¾å¤‡</strong>ï¼šå¦‚æ¨¡æ‹Ÿ 1ms é—´éš”å“åº”ï¼Œæ›´è´´è¿‘çœŸå®é¼ æ ‡ï¼›</li><li><strong>ä¿æŒèŠ‚å¥ä¸€è‡´</strong>ï¼šçªå˜ã€å¡é¡¿å¯èƒ½å¯¼è‡´ä¸»æœºè¯†åˆ«å¼‚å¸¸è®¾å¤‡ï¼›</li><li><strong>äººå·¥è½¨è¿¹æ¨¡æ‹Ÿ</strong>ï¼šçœŸå®äººç±»ç§»åŠ¨é¼ æ ‡æ—¶æœ‰åŠ é€Ÿå’Œå‡é€Ÿè¿‡ç¨‹ï¼Œæ¨¡æ‹Ÿæ—¶åº”è€ƒè™‘è¿™äº›ç‰¹æ€§ã€‚</li></ol><hr><h3 id="hid-è®¾å¤‡å·¥ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#hid-è®¾å¤‡å·¥ä½œæµç¨‹"><span>HID è®¾å¤‡å·¥ä½œæµç¨‹</span></a></h3><ol><li><p><strong>åˆå§‹åŒ–é˜¶æ®µ</strong><br> ä¸»æœºæ’å…¥è®¾å¤‡ â†’ å‘é€ GET_DESCRIPTOR è¯·æ±‚ â†’ è®¾å¤‡è¿”å› HID æè¿°ç¬¦ï¼ˆå« Report Descriptorï¼‰</p></li><li><p><strong>æ•°æ®ä¼ è¾“é˜¶æ®µ</strong><br> ä¸»æœºå®šæœŸå‘é€ IN è¯·æ±‚ â†’ è®¾å¤‡æ ¹æ®å½“å‰çŠ¶æ€è¿”å› Input Reportï¼š</p><ul><li>é”®ç›˜ï¼šä¿®é¥°é”® + æŒ‰é”®åˆ—è¡¨ï¼ˆæœ€å¤š6é”®ï¼‰ï¼›</li><li>é¼ æ ‡ï¼šæŒ‰é”® + ç§»åŠ¨é‡ + æ»šè½®ç­‰ï¼›</li></ul></li></ol><p>ä¸‹å›¾æ˜¯ Windowsä¸‹USB HIDè®¾å¤‡ï¼ˆé”®é¼ ï¼‰æŠ¥æ–‡æµåŠ¨è·¯å¾„ï¼š</p><figure><img src="https://image.ventix.top/img02/20230407221113827.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Windows ä¸‹ USB HID æ•°æ®æµåŠ¨è·¯å¾„</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>USB è®¾å¤‡</span></span>
<span class="line"><span> â†’ USB åè®®æ ˆï¼ˆusbhub.sys, usbport.sysï¼‰</span></span>
<span class="line"><span> â†’ HID é©±åŠ¨ï¼ˆhidclass.sysï¼‰</span></span>
<span class="line"><span> â†’ HID å­é©±åŠ¨ï¼ˆkbdhid.sys / mouhid.sysï¼‰</span></span>
<span class="line"><span> â†’ é”®ç›˜/é¼ æ ‡ç±»é©±åŠ¨ï¼ˆkbd.sys / mouclass.sysï¼‰</span></span>
<span class="line"><span> â†’ å†…æ ¸ç”¨æˆ·æ¡¥æ¥ï¼ˆWin32k.sysï¼‰</span></span>
<span class="line"><span> â†’ ç”¨æˆ·ç¨‹åºæ¶ˆæ¯é˜Ÿåˆ—</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ç›¸å…³-api-æ¦‚è§ˆ" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³-api-æ¦‚è§ˆ"><span>ç›¸å…³ API æ¦‚è§ˆ</span></a></h4><ol><li><p><strong><code>GetAsyncKeyState()</code></strong></p><ul><li>æŸ¥è¯¢å†…æ ¸ä¸­&quot;é”®ç›˜çŠ¶æ€è¡¨&quot;ï¼Œä¸ä¾èµ–æ¶ˆæ¯é˜Ÿåˆ—ï¼›</li><li>å¯åœ¨çª—å£æœªæ¿€æ´»æ—¶æ¢æµ‹æŒ‰é”®çŠ¶æ€ï¼›</li><li>æ¥æºè·¯å¾„ï¼š<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>USBè®¾å¤‡ â†’ HIDé©±åŠ¨ â†’ kbd.sysï¼ˆæ›´æ–°çŠ¶æ€è¡¨ï¼‰ â†’ GetAsyncKeyState()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li><li><p><strong><code>RawInput</code></strong></p><ul><li>è¯»å–æœªç» OS è½¬æ¢çš„åŸå§‹ HID æŠ¥æ–‡ï¼›</li><li>å¯åˆ¤æ–­è¾“å…¥æ¥æºã€åŒºåˆ†å¤šä¸ªè®¾å¤‡ã€è®¿é—®æ‰«æç ï¼›</li><li>æ¥æºè·¯å¾„ï¼š<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>USBè®¾å¤‡ â†’ HIDé©±åŠ¨ â†’ hidclass.sys â†’ RawInput</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li><li><p><strong><code>WM_KEYDOWN</code> ç­‰æ¶ˆæ¯</strong></p><ul><li>ä¼ ç»Ÿ Windows æ¶ˆæ¯ç³»ç»Ÿä¸­çš„è¾“å…¥æ¶ˆæ¯ï¼›</li><li>è·¯å¾„ï¼š<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>USBè®¾å¤‡ â†’ HIDé©±åŠ¨ â†’ kbd.sys/mouclass.sys â†’ Win32k.sys â†’ åº”ç”¨ç¨‹åºæ¶ˆæ¯é˜Ÿåˆ—</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ol><hr><h3 id="è®¾å¤‡vid-pid" tabindex="-1"><a class="header-anchor" href="#è®¾å¤‡vid-pid"><span>è®¾å¤‡VID/PID</span></a></h3><p>Vendor ID (VID) å’Œ Product ID (PID) æ˜¯ç”¨äºå”¯ä¸€æ ‡è¯†USBè®¾å¤‡çš„ä¸¤ä¸ªé‡è¦å‚æ•°ã€‚å®ƒä»¬åœ¨è®¾å¤‡è¿æ¥åˆ°è®¡ç®—æœºæ—¶è¢«æ“ä½œç³»ç»Ÿç”¨æ¥è¯†åˆ«å’ŒåŒºåˆ†ä¸åŒçš„ç¡¬ä»¶è®¾å¤‡ã€‚</p><ul><li>VIDä»£è¡¨å‚å•†è¯†åˆ«ç ï¼ˆVendor Identificationï¼‰ï¼Œæ˜¯ç”±USBå®æ–½è€…è®ºå›ï¼ˆUSB Implementers Forum, USB-IFï¼‰åˆ†é…ç»™æ¯ä¸ªUSBè®¾å¤‡åˆ¶é€ å•†çš„ä¸€ä¸ª16ä½æ•°å­—ä»£ç </li><li>PIDä»£è¡¨äº§å“è¯†åˆ«ç ï¼ˆProduct Identificationï¼‰ï¼ŒåŒæ ·æ˜¯ä¸€ä¸ª16ä½æ•°å­—ä»£ç ï¼Œä½†è¿™ä¸ªç¼–å·æ˜¯ç”±è®¾å¤‡åˆ¶é€ å•†è‡ªè¡Œåˆ†é…çš„ï¼Œç”¨äºè¯†åˆ«å…¶ç”Ÿäº§çš„ç‰¹å®šå‹å·æˆ–ç‰ˆæœ¬çš„äº§å“</li></ul><p>Windowsç³»ç»Ÿä¸‹ è·å–é”®ç›˜/é¼ æ ‡çš„ Vendor ID (VID) å’Œ Product ID (PID)</p><ol><li><p><strong>é€šè¿‡è®¾å¤‡ç®¡ç†å™¨</strong>ï¼š</p><ul><li>æ‰“å¼€<code>è®¾å¤‡ç®¡ç†å™¨</code> â†’ å±•å¼€<code>é”®ç›˜</code>æˆ–<code>é¼ æ ‡å’Œå…¶ä»–æŒ‡é’ˆè®¾å¤‡</code>ã€‚</li><li>å³é”®ç›®æ ‡è®¾å¤‡ â†’ <code>å±æ€§</code> â†’ <code>è¯¦ç»†ä¿¡æ¯</code> â†’ é€‰æ‹©<code>ç¡¬ä»¶ID</code>ã€‚</li><li>æ‰¾åˆ°ç±»ä¼¼<code>HID\VID_1234&amp;PID_5678</code>çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­<code>1234</code>æ˜¯VIDï¼Œ<code>5678</code>æ˜¯PIDã€‚</li></ul></li><li><p><strong>ä½¿ç”¨Pythonä»£ç æ‰«æ</strong>ï¼ˆæ¨èï¼‰ï¼š</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> hid</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ—å‡ºæ‰€æœ‰HIDè®¾å¤‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> device </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> hid.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">enumerate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;è®¾å¤‡å: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">device[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;product_string&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;  VID: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">device[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;vendor_id&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:04X</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;  PID: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">device[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;product_id&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:04X</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="hidç›¸å…³å·¥å…·" tabindex="-1"><a class="header-anchor" href="#hidç›¸å…³å·¥å…·"><span>HIDç›¸å…³å·¥å…·</span></a></h3><p>ğŸ¯ HID æŠ¥æ–‡ç›‘æ§å·¥å…·ï¼ˆUSB å±‚ï¼‰</p><table><thead><tr><th>å·¥å…·å</th><th>å®˜ç½‘/ä¸‹è½½åœ°å€</th><th>ç®€è¦è¯´æ˜</th></tr></thead><tbody><tr><td><strong>USBlyzer</strong></td><td><a href="https://www.usblyzer.com/" target="_blank" rel="noopener noreferrer">https://www.usblyzer.com/</a></td><td>å•†ä¸šè½¯ä»¶ï¼Œæ”¯æŒ HID æŠ¥æ–‡åˆ†æï¼Œè¯•ç”¨å¯ç”¨</td></tr><tr><td><strong>USBPcap</strong></td><td><a href="https://desowin.org/usbpcap/" target="_blank" rel="noopener noreferrer">https://desowin.org/usbpcap/</a></td><td>å…è´¹å¼€æº USB æŠ“åŒ…é©±åŠ¨ï¼Œå¯ç»“åˆ Wireshark ä½¿ç”¨</td></tr><tr><td><strong>Wireshark</strong></td><td><a href="https://www.wireshark.org/" target="_blank" rel="noopener noreferrer">https://www.wireshark.org/</a></td><td>é…åˆ USBPcap ä½¿ç”¨æŸ¥çœ‹ USB æŠ¥æ–‡</td></tr><tr><td><strong>USBTrace</strong></td><td><a href="http://www.sysnucleus.com/index.html" target="_blank" rel="noopener noreferrer">http://www.sysnucleus.com/index.html</a></td><td>ä¸“ä¸š USB æŠ¥æ–‡ç›‘æ§å·¥å…·ï¼Œæ”¯æŒ HIDï¼Œå•†ä¸šæˆæƒ</td></tr><tr><td><strong>Device Monitoring Studio</strong></td><td><a href="https://www.hhdsoftware.com/device-monitoring-studio" target="_blank" rel="noopener noreferrer">https://www.hhdsoftware.com/device-monitoring-studio</a></td><td>æ”¯æŒ USBã€ä¸²å£ã€ç½‘ç»œç­‰å¤šåè®®ï¼Œå¼ºå¤§</td></tr></tbody></table><hr><p>ğŸ”§ CH9329 / HID ç›¸å…³è°ƒè¯•å·¥å…·ï¼ˆæ¥è‡ª WCH å®˜æ–¹ï¼‰</p><table><thead><tr><th>å·¥å…·å</th><th>ä¸‹è½½åœ°å€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>CH9329å·¥å…·é›†ï¼ˆå« HIDTest/HIDViewï¼‰</strong></td><td><a href="http://www.wch.cn/downloads/CH9329.html" target="_blank" rel="noopener noreferrer">http://www.wch.cn/downloads/CH9329.html</a> ï¼ˆç‚¹å‡»â€œå·¥å…·è½¯ä»¶â€æˆ–â€œç›¸å…³ä¸‹è½½â€ï¼‰</td><td>å®˜æ–¹ä¸²å£è½¬ HID è°ƒè¯•å·¥å…·ï¼Œèƒ½æŸ¥çœ‹/å‘é€ HID æŠ¥æ–‡</td></tr><tr><td><strong>CH9329èµ„æ–™åˆé›†</strong></td><td><a href="http://www.wch.cn/products/CH9329.html" target="_blank" rel="noopener noreferrer">http://www.wch.cn/products/CH9329.html</a></td><td>æ•°æ®æ‰‹å†Œã€æ§åˆ¶ç å¯¹ç…§ã€æŒ‡ä»¤é›†è¯´æ˜</td></tr></tbody></table><hr><p>ğŸ§° é”®é¼ äº‹ä»¶ç›‘æ§å·¥å…·ï¼ˆé HID æŠ¥æ–‡çº§ï¼‰</p><table><thead><tr><th>å·¥å…·å</th><th>ä¸‹è½½åœ°å€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Interception Driver</strong></td><td><a href="https://github.com/oblitum/Interception" target="_blank" rel="noopener noreferrer">https://github.com/oblitum/Interception</a></td><td>é©±åŠ¨çº§é”®é¼ æ‹¦æˆªå·¥å…·ï¼Œå¯ç”¨äºä½å±‚ç›‘æ§æˆ–é‡æ˜ å°„</td></tr><tr><td><strong>Interception Toolsï¼ˆPythonç»‘å®šï¼‰</strong></td><td><a href="https://github.com/oblitum/Interception" target="_blank" rel="noopener noreferrer">https://github.com/oblitum/Interception</a></td><td>åŒä¸Šï¼Œé…åˆ Python å¯è®°å½•å’Œå‘é€è¾“å…¥äº‹ä»¶</td></tr><tr><td><strong>PyHook (æ—§)</strong></td><td><a href="https://github.com/ethanhs/pyhook" target="_blank" rel="noopener noreferrer">https://github.com/ethanhs/pyhook</a></td><td>Python2/3 çš„é”®ç›˜é’©å­æ¨¡å—ï¼Œå¯ç”¨äºäº‹ä»¶è®°å½•</td></tr><tr><td><strong>PyWin32</strong></td><td><a href="https://pypi.org/project/pywin32/" target="_blank" rel="noopener noreferrer">https://pypi.org/project/pywin32/</a></td><td>æ”¯æŒé”®ç›˜é’©å­ï¼Œä½†é HID æŠ¥æ–‡å±‚çº§</td></tr></tbody></table><hr><p>ğŸ§± HID å¼€å‘è¾…åŠ©ï¼ˆåº“ï¼‰</p><table><thead><tr><th>å·¥å…·/åº“</th><th>åœ°å€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>HidSharp (.NET/C#)</strong></td><td><a href="https://github.com/mikeobrien/HidSharp" target="_blank" rel="noopener noreferrer">https://github.com/mikeobrien/HidSharp</a></td><td>.NET ä¸‹çš„ USB HID åº“ï¼Œå¯ç›‘å¬/å‘é€ HID æŠ¥æ–‡</td></tr></tbody></table><hr><h2 id="universal-serial-bus" tabindex="-1"><a class="header-anchor" href="#universal-serial-bus"><span>Universal Serial Bus</span></a></h2><p>USBå…¨ç§°ä¸ºUniversal Serial Busï¼ˆé€šç”¨ä¸²è¡Œæ€»çº¿ï¼‰ï¼Œæ˜¯ä¸€ç§å¿«é€Ÿã€çµæ´»çš„æ€»çº¿æ¥å£</p><p>æ›´å¤šå…³äºUSBçš„ä»‹ç»å‚ç…§ï¼ŒUSBå®˜ç½‘ï¼š<a href="https://usb.org/%EF%BC%8C" target="_blank" rel="noopener noreferrer">https://usb.org/ï¼Œ</a> USBä¸­æ–‡ç½‘ï¼š<a href="https://www.usbzh.com/" target="_blank" rel="noopener noreferrer">https://www.usbzh.com/</a></p><hr><p>USBï¼ˆUniversal Serial Busï¼‰è®¾å¤‡æŒ‰ç…§åŠŸèƒ½å¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼š<strong>é›†çº¿å™¨ï¼ˆHubï¼‰</strong> å’Œ <strong>åŠŸèƒ½è®¾å¤‡ï¼ˆFunction Deviceï¼‰</strong>ã€‚å®ƒä»¬åœ¨ USB æ¶æ„ä¸­æ‰®æ¼”ä¸åŒçš„è§’è‰²ï¼Œå…±åŒæ„å»º USB çš„æ ‘å½¢æ‹“æ‰‘ç»“æ„ã€‚</p><table><thead><tr><th>ç‰¹æ€§</th><th>é›†çº¿å™¨ï¼ˆHubï¼‰</th><th>åŠŸèƒ½è®¾å¤‡ï¼ˆFunction Deviceï¼‰</th></tr></thead><tbody><tr><td><strong>ä½œç”¨</strong></td><td>æ‰©å±• USB æ¥å£</td><td>æä¾›å…·ä½“åŠŸèƒ½</td></tr><tr><td><strong>Class Code</strong></td><td><code>0x09</code>ï¼ˆHub Classï¼‰</td><td>å–å†³äºåŠŸèƒ½ï¼ˆå¦‚ <code>0x03</code> ä¸º HIDï¼‰</td></tr><tr><td><strong>æ•°æ®ä¼ è¾“</strong></td><td>ä»…è½¬å‘æ•°æ®</td><td>ç›´æ¥å¤„ç†æ•°æ®</td></tr><tr><td><strong>å±‚çº§å…³ç³»</strong></td><td>å¯çº§è”ï¼ˆæœ€å¤š 5 çº§ï¼‰</td><td>ä»…ä½œä¸ºç»ˆç«¯è®¾å¤‡</td></tr><tr><td><strong>å…¸å‹è®¾å¤‡</strong></td><td>USB åˆ†çº¿å™¨</td><td>é”®ç›˜ã€U ç›˜ã€æ‘„åƒå¤´</td></tr></tbody></table><hr><h3 id="usbé›†çº¿å™¨-hub" tabindex="-1"><a class="header-anchor" href="#usbé›†çº¿å™¨-hub"><span>USBé›†çº¿å™¨ï¼ˆHubï¼‰</span></a></h3><p><strong>ä½œç”¨</strong>ï¼šæ‰©å±• USB æ¥å£æ•°é‡ï¼Œå…è®¸è¿æ¥å¤šä¸ªè®¾å¤‡ï¼ˆå¦‚ USB åˆ†çº¿å™¨ï¼‰</p><ul><li><strong>å±‚çº§å…³ç³»</strong>ï¼š <ul><li>ä¸»æœºï¼ˆHostï¼‰è¿æ¥ <strong>æ ¹é›†çº¿å™¨ï¼ˆRoot Hubï¼‰</strong>ã€‚</li><li>æ ¹é›†çº¿å™¨å¯çº§è”å¤šä¸ª <strong>å¤–éƒ¨é›†çº¿å™¨ï¼ˆExternal Hubï¼‰</strong>ï¼Œæœ€å¤šæ”¯æŒ <strong>5 çº§å±‚çº§</strong>ï¼ˆä¸»æœº + 4 çº§ Hubï¼‰ã€‚</li></ul></li><li><strong>ä¾›ç”µæ–¹å¼</strong>ï¼š <ul><li><strong>è‡ªä¾›ç”µï¼ˆSelf-poweredï¼‰</strong>ï¼šä¾èµ–å¤–éƒ¨ç”µæºï¼Œå¯æä¾›æ›´å¤§ç”µæµï¼ˆå¦‚å°å¼æœº USB Hubï¼‰ã€‚</li><li><strong>æ€»çº¿ä¾›ç”µï¼ˆBus-poweredï¼‰</strong>ï¼šä¾èµ– USB æ€»çº¿ä¾›ç”µï¼ˆå¦‚ç¬”è®°æœ¬ USB åˆ†çº¿å™¨ï¼‰ã€‚</li></ul></li></ul><div class="hint-container info"><p class="hint-container-title">é›†çº¿å™¨çš„å·¥ä½œæµç¨‹</p><ol><li><strong>æ£€æµ‹è¿æ¥</strong>ï¼šé€šè¿‡ç›‘æµ‹ D+/D- ä¿¡å·å˜åŒ–åˆ¤æ–­è®¾å¤‡æ’å…¥ã€‚</li><li><strong>å¤ä½è®¾å¤‡</strong>ï¼šå‘æ–°è®¾å¤‡å‘é€å¤ä½ä¿¡å·ï¼ˆResetï¼‰ã€‚</li><li><strong>æšä¸¾è®¾å¤‡</strong>ï¼šä¸»æœºé€šè¿‡ Hub å¯¹ä¸‹æ¸¸è®¾å¤‡è¿›è¡Œæšä¸¾ã€‚</li><li><strong>æ•°æ®ä¸­ç»§</strong>ï¼šåœ¨ä¸»æœºå’Œè®¾å¤‡é—´è½¬å‘æ•°æ®åŒ…ï¼ˆå…¨é€Ÿ/ä½é€Ÿè®¾å¤‡éœ€é€Ÿåº¦åŒ¹é…ï¼‰ã€‚</li></ol></div><p><strong>é›†çº¿å™¨çš„æè¿°ç¬¦</strong></p><ul><li><strong>Hub Descriptor</strong>ï¼šæè¿°é›†çº¿å™¨ç‰¹æ€§ï¼ˆå¦‚ç«¯å£æ•°é‡ã€ä¾›ç”µæ¨¡å¼ï¼‰ã€‚</li><li><strong>Class Code</strong>ï¼šé›†çº¿å™¨çš„è®¾å¤‡ç±»ä»£ç ä¸º <code>0x09</code>ï¼ˆUSB Hub Classï¼‰ã€‚</li></ul><hr><h3 id="usbåŠŸèƒ½è®¾å¤‡" tabindex="-1"><a class="header-anchor" href="#usbåŠŸèƒ½è®¾å¤‡"><span>USBåŠŸèƒ½è®¾å¤‡</span></a></h3><p>USBåŠŸèƒ½è®¾å¤‡ï¼ˆFunction Deviceï¼‰æä¾›å…·ä½“åŠŸèƒ½ï¼ˆå¦‚å­˜å‚¨ã€è¾“å…¥ã€éŸ³é¢‘ç­‰ï¼‰ï¼Œç›´æ¥ä¸ä¸»æœºé€šä¿¡ã€‚</p><p><strong>å¸¸è§å…¸å‹è®¾å¤‡</strong>ï¼š</p><ul><li><strong>HID è®¾å¤‡</strong>ï¼šé”®ç›˜ã€é¼ æ ‡ï¼ˆ<code>Class Code = 0x03</code>ï¼‰ã€‚</li><li><strong>Mass Storage</strong>ï¼šU ç›˜ã€ç§»åŠ¨ç¡¬ç›˜ï¼ˆ<code>Class Code = 0x08</code>ï¼‰ã€‚</li><li><strong>CDCï¼ˆé€šä¿¡è®¾å¤‡ï¼‰</strong>ï¼šä¸²å£è½¬æ¢å™¨ï¼ˆ<code>Class Code = 0x02</code>ï¼‰ã€‚</li><li><strong>Audio/Video</strong>ï¼šéº¦å…‹é£ã€æ‘„åƒå¤´ï¼ˆ<code>Class Code = 0x01/0x0E</code>ï¼‰ã€‚</li></ul><p><strong>åŠŸèƒ½è®¾å¤‡çš„åˆ†ç±»</strong></p><table><thead><tr><th>ç±»å‹</th><th>ç‰¹ç‚¹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>å•ä¸€åŠŸèƒ½è®¾å¤‡</strong></td><td>ä»…å®ç°ä¸€ç§åŠŸèƒ½</td><td>USB é¼ æ ‡</td></tr><tr><td><strong>å¤åˆè®¾å¤‡ï¼ˆCompositeï¼‰</strong></td><td>åŒ…å«å¤šä¸ªæ¥å£ï¼ˆInterfaceï¼‰ï¼Œæ¯ä¸ªæ¥å£ç‹¬ç«‹åŠŸèƒ½</td><td>å¸¦é”®ç›˜çš„ USB éŸ³ç®±</td></tr><tr><td><strong>ç»„åˆè®¾å¤‡ï¼ˆCompoundï¼‰</strong></td><td>å†…éƒ¨åŒ…å« Hub + åŠŸèƒ½è®¾å¤‡ï¼ˆå¦‚ USB ç½‘å¡ + Hubï¼‰</td><td>æŸäº›å¤šåŠŸèƒ½æ‰©å±•å</td></tr></tbody></table><p><strong>åŠŸèƒ½è®¾å¤‡çš„æè¿°ç¬¦</strong></p><ul><li><strong>Device Descriptor</strong>ï¼šè®¾å¤‡çš„åŸºæœ¬ä¿¡æ¯ï¼ˆå‚å•† IDã€äº§å“ IDï¼‰ã€‚</li><li><strong>Configuration Descriptor</strong>ï¼šè®¾å¤‡çš„é…ç½®ï¼ˆæ¥å£ã€ç«¯ç‚¹ï¼‰ã€‚</li><li><strong>Interface Descriptor</strong>ï¼šåŠŸèƒ½å®šä¹‰ï¼ˆå¦‚ HIDã€Mass Storageï¼‰ã€‚</li><li><strong>Endpoint Descriptor</strong>ï¼šæ•°æ®ä¼ è¾“æ–¹å¼ï¼ˆIN/OUT ç«¯ç‚¹ï¼‰ã€‚</li></ul><hr><h3 id="å¤åˆè®¾å¤‡ä¸ç»„åˆè®¾å¤‡" tabindex="-1"><a class="header-anchor" href="#å¤åˆè®¾å¤‡ä¸ç»„åˆè®¾å¤‡"><span>å¤åˆè®¾å¤‡ä¸ç»„åˆè®¾å¤‡</span></a></h3><p>å¤åˆè®¾å¤‡ï¼ˆComposite Deviceï¼‰ä¸ç»„åˆè®¾å¤‡ï¼ˆCompound Deviceï¼‰</p><p><strong>å¤åˆè®¾å¤‡</strong>ï¼šä¸€ä¸ªç‰©ç†è®¾å¤‡åŒ…å« <strong>å¤šä¸ªé€»è¾‘åŠŸèƒ½</strong>ï¼ˆé€šè¿‡å¤šä¸ª Interface å®ç°ï¼‰ã€‚</p><ul><li><strong>ç¤ºä¾‹</strong>ï¼š <ul><li>USB è€³æœºï¼ˆéŸ³é¢‘ + éº¦å…‹é£ï¼‰ã€‚</li><li>å¸¦æŒ‡çº¹è¯†åˆ«çš„é”®ç›˜ï¼ˆHID + Biometricï¼‰ã€‚</li></ul></li><li><strong>é©±åŠ¨åŠ è½½</strong>ï¼šä¸»æœºä¸ºæ¯ä¸ª Interface åŠ è½½ç‹¬ç«‹é©±åŠ¨ã€‚</li></ul><figure><img src="https://image.ventix.top/img02/20250415140601710.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><p><strong>ç»„åˆè®¾å¤‡</strong>ï¼šå†…éƒ¨é›†æˆ <strong>Hub + åŠŸèƒ½è®¾å¤‡</strong>ï¼Œè¡¨ç°ä¸ºä¸€ä¸ªè®¾å¤‡ã€‚</p><ul><li><strong>ç¤ºä¾‹</strong>ï¼š <ul><li>æŸäº› USB ç½‘å¡ï¼ˆHub + ä»¥å¤ªç½‘åŠŸèƒ½ï¼‰ã€‚</li><li>å¤šåŠŸèƒ½æ‰©å±•åï¼ˆHub + HDMI + å­˜å‚¨ï¼‰ã€‚</li></ul></li><li><strong>ç¡¬ä»¶å®ç°</strong>ï¼šèŠ¯ç‰‡å†…éƒ¨é›†æˆ Hub æ§åˆ¶å™¨å’ŒåŠŸèƒ½æ¨¡å—ã€‚</li></ul><hr><h3 id="é…ç½®-æ¥å£-ç«¯ç‚¹" tabindex="-1"><a class="header-anchor" href="#é…ç½®-æ¥å£-ç«¯ç‚¹"><span>é…ç½®/æ¥å£/ç«¯ç‚¹</span></a></h3><p>USB è®¾å¤‡é‡‡ç”¨åˆ†å±‚ç»“æ„æè¿°å…¶åŠŸèƒ½ï¼Œä»é«˜åˆ°ä½ä¾æ¬¡ä¸ºï¼š<strong>è®¾å¤‡ï¼ˆDeviceï¼‰â†’ é…ç½®ï¼ˆConfigurationï¼‰â†’ æ¥å£ï¼ˆInterfaceï¼‰â†’ ç«¯ç‚¹ï¼ˆEndpointï¼‰</strong>ã€‚è¿™ç§å±‚çº§å…³ç³»é€šè¿‡ <strong>æè¿°ç¬¦ï¼ˆDescriptorsï¼‰</strong> åœ¨æšä¸¾è¿‡ç¨‹ä¸­ä¼ é€’ç»™ä¸»æœºï¼Œä»¥ç¡®å®šè®¾å¤‡çš„é€šä¿¡æ–¹å¼å’Œå·¥ä½œæ¨¡å¼ã€‚</p><table><thead><tr><th>å±‚çº§</th><th>ä½œç”¨</th><th>å…³é”®æè¿°ç¬¦</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>è®¾å¤‡</strong></td><td>ç‰©ç†å®ä½“</td><td>Device Descriptor</td><td>å‚å•† IDã€äº§å“ ID</td></tr><tr><td><strong>é…ç½®</strong></td><td>å·¥ä½œæ¨¡å¼</td><td>Configuration Descriptor</td><td>åŠŸè€—ã€æ¥å£æ•°é‡</td></tr><tr><td><strong>æ¥å£</strong></td><td>åŠŸèƒ½æ¨¡å—</td><td>Interface Descriptor</td><td>HIDã€Mass Storage</td></tr><tr><td><strong>ç«¯ç‚¹</strong></td><td>æ•°æ®é€šé“</td><td>Endpoint Descriptor</td><td>ä¸­æ–­ INã€æ‰¹é‡ OUT</td></tr></tbody></table><hr><p><strong>1. è®¾å¤‡ï¼ˆDeviceï¼‰</strong> æ˜¯ USB è¿æ¥çš„ç‰©ç†å®ä½“ï¼ˆå¦‚ U ç›˜ã€é”®ç›˜ï¼‰ï¼Œæ¯ä¸ªè®¾å¤‡æœ‰å”¯ä¸€çš„ <strong>è®¾å¤‡åœ°å€ï¼ˆAddressï¼‰</strong>ã€‚è®¾å¤‡é€šè¿‡ <strong>è®¾å¤‡æè¿°ç¬¦ï¼ˆDevice Descriptorï¼‰</strong> å‘ä¸»æœºæŠ¥å‘ŠåŸºæœ¬ä¿¡æ¯ã€‚</p><p><strong>è®¾å¤‡æè¿°ç¬¦ï¼ˆDevice Descriptorï¼‰</strong></p><table><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>bLength</code></td><td>æè¿°ç¬¦é•¿åº¦ï¼ˆå›ºå®š 18 å­—èŠ‚ï¼‰</td></tr><tr><td><code>bDescriptorType</code></td><td>æè¿°ç¬¦ç±»å‹ï¼ˆ<code>0x01</code> è¡¨ç¤ºè®¾å¤‡ï¼‰</td></tr><tr><td><code>idVendor</code> / <code>idProduct</code></td><td>å‚å•† ID å’Œäº§å“ IDï¼ˆç”¨äºé©±åŠ¨åŒ¹é…ï¼‰</td></tr><tr><td><code>bNumConfigurations</code></td><td>æ”¯æŒçš„é…ç½®æ•°é‡ï¼ˆé€šå¸¸ä¸º 1ï¼‰</td></tr></tbody></table><ul><li>ä¸»æœºé€šè¿‡ <code>GET_DESCRIPTOR</code> è¯·æ±‚è·å–è®¾å¤‡æè¿°ç¬¦ï¼Œç¡®å®šè®¾å¤‡çš„ <strong>åŸºæœ¬èƒ½åŠ›</strong> å’Œ <strong>æœ€å¤§æ•°æ®åŒ…å¤§å°ï¼ˆ<code>bMaxPacketSize0</code>ï¼‰</strong>ã€‚</li><li>è®¾å¤‡åœ¨æšä¸¾é˜¶æ®µé»˜è®¤ä½¿ç”¨åœ°å€ <code>0</code>ï¼Œä¸»æœºé€šè¿‡ <code>SET_ADDRESS</code> ä¸ºå…¶åˆ†é…æ–°åœ°å€ã€‚</li></ul><hr><p><strong>2. é…ç½®ï¼ˆConfigurationï¼‰</strong> æ˜¯è®¾å¤‡çš„ä¸€ç§å·¥ä½œæ¨¡å¼ï¼ˆå¦‚é«˜åŠŸè€—æ¨¡å¼/ä½åŠŸè€—æ¨¡å¼ï¼‰ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ¿€æ´»ä¸€ä¸ªé…ç½®ã€‚é…ç½®é€šè¿‡ <strong>é…ç½®æè¿°ç¬¦ï¼ˆConfiguration Descriptorï¼‰</strong> æè¿°å…¶ç‰¹æ€§ã€‚</p><p><strong>é…ç½®æè¿°ç¬¦</strong></p><table><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>bLength</code></td><td>æè¿°ç¬¦é•¿åº¦ï¼ˆå›ºå®š 9 å­—èŠ‚ï¼‰</td></tr><tr><td><code>wTotalLength</code></td><td>æ•´ä¸ªé…ç½®çš„æ€»é•¿åº¦ï¼ˆåŒ…æ‹¬æ¥å£ã€ç«¯ç‚¹æè¿°ç¬¦ï¼‰</td></tr><tr><td><code>bNumInterfaces</code></td><td>åŒ…å«çš„æ¥å£æ•°é‡</td></tr><tr><td><code>bConfigurationValue</code></td><td>é…ç½®ç¼–å·ï¼ˆä¸»æœºç”¨ <code>SET_CONFIGURATION</code> æ¿€æ´»ï¼‰</td></tr></tbody></table><ul><li>ä¸»æœºé€šè¿‡ <code>GET_DESCRIPTOR</code> è¯·æ±‚è·å–é…ç½®æè¿°ç¬¦ï¼Œäº†è§£è®¾å¤‡çš„ <strong>æ¥å£æ•°é‡</strong> å’Œ <strong>åŠŸè€—éœ€æ±‚</strong>ã€‚</li><li>ä¸€ä¸ªè®¾å¤‡å¯ä»¥æœ‰å¤šä¸ªé…ç½®ï¼ˆå¦‚æ‘„åƒå¤´çš„é«˜åˆ†è¾¨ç‡æ¨¡å¼å’Œçœç”µæ¨¡å¼ï¼‰ï¼Œä½†ä¸»æœºåªèƒ½æ¿€æ´»å…¶ä¸­ä¸€ä¸ªã€‚</li></ul><p><strong>ä¸ºä»€ä¹ˆéœ€è¦å¤šé…ç½®ï¼Ÿ</strong>: é€‚åº”ä¸åŒåŠŸè€—æˆ–åŠŸèƒ½éœ€æ±‚ï¼ˆå¦‚è®¾å¤‡åœ¨ç”µæ± æ¨¡å¼ä¸‹å…³é—­æŸäº›åŠŸèƒ½ï¼‰</p><hr><p><strong>3. æ¥å£ï¼ˆInterfaceï¼‰</strong> ä»£è¡¨è®¾å¤‡çš„ä¸€ç§ç‹¬ç«‹åŠŸèƒ½ï¼ˆå¦‚é”®ç›˜çš„æŒ‰é”®è¾“å…¥ã€LED èƒŒå…‰æ§åˆ¶ï¼‰ã€‚å¤åˆè®¾å¤‡ï¼ˆComposite Deviceï¼‰é€šè¿‡å¤šä¸ªæ¥å£å®ç°å¤šåŠŸèƒ½ï¼ˆå¦‚ USB è€³æœºåŒ…å«éŸ³é¢‘æ’­æ”¾å’Œéº¦å…‹é£è¾“å…¥ï¼‰ã€‚</p><p><strong>æ¥å£æè¿°ç¬¦ï¼ˆInterface Descriptorï¼‰</strong></p><table><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>bInterfaceNumber</code></td><td>æ¥å£ç¼–å·ï¼ˆä» 0 å¼€å§‹ï¼‰</td></tr><tr><td><code>bAlternateSetting</code></td><td>å¤‡ç”¨æ¥å£è®¾ç½®ï¼ˆç”¨äºåŠ¨æ€åˆ‡æ¢åŠŸèƒ½ï¼‰</td></tr><tr><td><code>bNumEndpoints</code></td><td>æ¥å£åŒ…å«çš„ç«¯ç‚¹æ•°é‡ï¼ˆä¸åŒ…æ‹¬ç«¯ç‚¹ 0ï¼‰</td></tr><tr><td><code>bInterfaceClass</code></td><td>æ¥å£ç±»ï¼ˆå¦‚ <code>0x03</code> è¡¨ç¤º HID è®¾å¤‡ï¼‰</td></tr></tbody></table><ul><li>ä¸»æœºæ ¹æ® <code>bInterfaceClass</code> åŠ è½½å¯¹åº”çš„é©±åŠ¨ç¨‹åºï¼ˆå¦‚ <code>0x08</code> å¯¹åº” Mass Storage é©±åŠ¨ï¼‰ã€‚</li><li>ä¸€ä¸ªæ¥å£å¯ä»¥åŒ…å« <strong>å¤šä¸ªå¤‡ç”¨è®¾ç½®ï¼ˆAlternate Settingï¼‰</strong>ï¼Œç”¨äºåŠ¨æ€è°ƒæ•´åŠŸèƒ½ï¼ˆå¦‚æ‘„åƒå¤´åˆ‡æ¢åˆ†è¾¨ç‡ï¼‰ã€‚</li></ul><p><strong>å¤åˆè®¾å¤‡çš„æ¥å£åˆ†é…</strong>ï¼šå¤åˆè®¾å¤‡çš„æ¯ä¸ªæ¥å£ç‹¬ç«‹ç¼–å·ï¼ˆå¦‚ Interface 0 ä¸ºé”®ç›˜ï¼ŒInterface 1 ä¸ºè§¦æ‘¸æ¿ï¼‰</p><hr><p><strong>4. ç«¯ç‚¹ï¼ˆEndpointï¼‰</strong> æ˜¯è®¾å¤‡ä¸ä¸»æœºé€šä¿¡çš„é€»è¾‘é€šé“ï¼Œæ¯ä¸ªç«¯ç‚¹æœ‰å”¯ä¸€çš„ <strong>ç«¯ç‚¹åœ°å€ï¼ˆEndpoint Addressï¼‰</strong>ã€‚ç«¯ç‚¹ <strong>0ï¼ˆEndpoint 0ï¼‰</strong> æ˜¯é»˜è®¤æ§åˆ¶ç«¯ç‚¹ï¼Œç”¨äºæšä¸¾å’Œé…ç½®ã€‚</p><p><strong>ç«¯ç‚¹æè¿°ç¬¦ï¼ˆEndpoint Descriptorï¼‰</strong></p><table><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>bEndpointAddress</code></td><td>ç«¯ç‚¹åœ°å€ï¼ˆBit 7 è¡¨ç¤ºæ–¹å‘ï¼š<code>0=OUT</code>, <code>1=IN</code>ï¼‰</td></tr><tr><td><code>bmAttributes</code></td><td>ä¼ è¾“ç±»å‹ï¼ˆ<code>0x01=ç­‰æ—¶</code>, <code>0x02=æ‰¹é‡</code>, <code>0x03=ä¸­æ–­</code>ï¼‰</td></tr><tr><td><code>wMaxPacketSize</code></td><td>å•æ¬¡ä¼ è¾“çš„æœ€å¤§æ•°æ®åŒ…å¤§å°</td></tr></tbody></table><p>ä¸»æœºé€šè¿‡ç«¯ç‚¹åœ°å€ï¼ˆå¦‚ <code>0x81</code> è¡¨ç¤º IN ç«¯ç‚¹ 1ï¼‰ä¸è®¾å¤‡äº¤æ¢æ•°æ®ã€‚ æ¯ä¸ªç«¯ç‚¹ç‹¬ç«‹å·¥ä½œï¼Œä¾‹å¦‚ï¼š</p><ul><li>é”®ç›˜ä½¿ç”¨ <strong>ä¸­æ–­ IN ç«¯ç‚¹</strong> æŠ¥å‘ŠæŒ‰é”®ã€‚</li><li>U ç›˜ä½¿ç”¨ <strong>æ‰¹é‡ IN/OUT ç«¯ç‚¹</strong> ä¼ è¾“æ–‡ä»¶ã€‚</li></ul><p><strong>ç«¯ç‚¹ 0 çš„ç‰¹æ®Šæ€§</strong>ï¼šæ‰€æœ‰ USB è®¾å¤‡å¿…é¡»æ”¯æŒ <strong>ç«¯ç‚¹ 0</strong>ï¼Œç”¨äºæ§åˆ¶ä¼ è¾“ï¼ˆæšä¸¾å’Œé…ç½®ï¼‰</p><hr><h3 id="usbè®¾å¤‡æšä¸¾è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#usbè®¾å¤‡æšä¸¾è¿‡ç¨‹"><span>USBè®¾å¤‡æšä¸¾è¿‡ç¨‹</span></a></h3><p>USB è®¾å¤‡æ’å…¥ä¸»æœºåï¼Œä¸»æœºé€šè¿‡ <strong>æšä¸¾ï¼ˆEnumerationï¼‰</strong> è¿‡ç¨‹è¯†åˆ«è®¾å¤‡å¹¶åŠ è½½åˆé€‚çš„é©±åŠ¨ç¨‹åºã€‚æšä¸¾è¿‡ç¨‹æ˜¯ USB é€šä¿¡çš„åŸºç¡€ï¼Œæ¶‰åŠå¤šä¸ªæ ‡å‡†è¯·æ±‚å’Œæè¿°ç¬¦äº¤æ¢ã€‚</p><div class="hint-container info"><p class="hint-container-title">USB æšä¸¾çš„åŸºæœ¬æµç¨‹</p><p><strong>1.1 è®¾å¤‡è¿æ¥ï¼ˆAttachmentï¼‰</strong></p><ul><li>è®¾å¤‡æ’å…¥ä¸»æœºï¼ˆæˆ–ä¸Šç”µï¼‰ï¼Œä¸»æœºæ£€æµ‹åˆ° <strong>VBUSï¼ˆ5Vç”µæºï¼‰</strong> å’Œ <strong>D+/D- ä¿¡å·çº¿</strong> ç”µå¹³å˜åŒ–ï¼ˆå…¨é€Ÿ/é«˜é€Ÿè®¾å¤‡æ‹‰é«˜ D+ï¼Œä½é€Ÿè®¾å¤‡æ‹‰é«˜ D-ï¼‰ã€‚</li><li>ä¸»æœºæ£€æµ‹åˆ°è®¾å¤‡åï¼Œå‘é€ <strong>å¤ä½ï¼ˆResetï¼‰ä¿¡å·</strong>ï¼ˆæŒç»­è‡³å°‘ 10ms çš„ SE0 çŠ¶æ€ï¼‰ã€‚</li></ul><p><strong>1.2 è·å–è®¾å¤‡æè¿°ç¬¦ï¼ˆGet Device Descriptorï¼‰</strong></p><ul><li>ä¸»æœºå‘é€ <strong>æ ‡å‡†è¯·æ±‚ <code>GET_DESCRIPTOR</code></strong>ï¼ˆç±»å‹ <code>Device</code>ï¼‰ï¼Œè®¾å¤‡è¿”å› <strong>è®¾å¤‡æè¿°ç¬¦ï¼ˆDevice Descriptorï¼‰</strong>ï¼ŒåŒ…å«ï¼š <ul><li><code>bLength</code>ï¼ˆæè¿°ç¬¦é•¿åº¦ï¼‰</li><li><code>bDescriptorType</code>ï¼ˆæè¿°ç¬¦ç±»å‹ï¼Œå¦‚ <code>0x01</code> è¡¨ç¤ºè®¾å¤‡æè¿°ç¬¦ï¼‰</li><li><code>idVendor</code>ï¼ˆå‚å•† IDï¼‰</li><li><code>idProduct</code>ï¼ˆäº§å“ IDï¼‰</li><li><code>bNumConfigurations</code>ï¼ˆé…ç½®æ•°é‡ï¼‰ç­‰ã€‚</li></ul></li></ul><blockquote><p><strong>æ³¨æ„</strong>ï¼šä¸»æœºå¯èƒ½åªè¯»å–å‰ 8 å­—èŠ‚ï¼ˆ<code>bLength</code> åˆ° <code>bNumConfigurations</code>ï¼‰ï¼Œä»¥ç¡®å®šåç»­é€šä¿¡çš„æœ€å¤§æ•°æ®åŒ…å¤§å°ï¼ˆ<code>bMaxPacketSize0</code>ï¼‰ã€‚</p></blockquote><p><strong>1.3 åˆ†é…åœ°å€ï¼ˆSet Addressï¼‰</strong></p><ul><li>ä¸»æœºå‘é€ <strong><code>SET_ADDRESS</code> è¯·æ±‚</strong>ï¼Œä¸ºè®¾å¤‡åˆ†é…ä¸€ä¸ª <strong>å”¯ä¸€çš„è®¾å¤‡åœ°å€ï¼ˆ1~127ï¼‰</strong>ã€‚</li><li>è®¾å¤‡æ”¶åˆ°åœ°å€åï¼Œåç»­é€šä¿¡ä½¿ç”¨è¯¥åœ°å€ï¼ˆé»˜è®¤åœ°å€ <code>0</code> ä»…ç”¨äºæšä¸¾é˜¶æ®µï¼‰ã€‚</li></ul><p><strong>1.4 è·å–å®Œæ•´è®¾å¤‡æè¿°ç¬¦ï¼ˆGet Full Device Descriptorï¼‰</strong></p><ul><li>ä¸»æœºå†æ¬¡å‘é€ <code>GET_DESCRIPTOR</code>ï¼Œè¯»å–å®Œæ•´çš„ <strong>è®¾å¤‡æè¿°ç¬¦</strong>ï¼ˆ18 å­—èŠ‚ï¼‰ã€‚</li></ul><p><strong>1.5 è·å–é…ç½®æè¿°ç¬¦ï¼ˆGet Configuration Descriptorï¼‰</strong></p><ul><li>ä¸»æœºå‘é€ <code>GET_DESCRIPTOR</code>ï¼ˆç±»å‹ <code>Configuration</code>ï¼‰ï¼Œè®¾å¤‡è¿”å› <strong>é…ç½®æè¿°ç¬¦ï¼ˆConfiguration Descriptorï¼‰</strong>ï¼ŒåŒ…å«ï¼š <ul><li><code>bLength</code>ã€<code>bDescriptorType</code></li><li><code>wTotalLength</code>ï¼ˆæ•´ä¸ªé…ç½®çš„æ€»é•¿åº¦ï¼ŒåŒ…æ‹¬æ¥å£ã€ç«¯ç‚¹æè¿°ç¬¦ï¼‰</li><li><code>bNumInterfaces</code>ï¼ˆæ¥å£æ•°é‡ï¼‰</li><li><code>bConfigurationValue</code>ï¼ˆé…ç½®ç¼–å·ï¼‰ç­‰ã€‚</li></ul></li></ul><p><strong>1.6 è·å–æ¥å£å’Œç«¯ç‚¹æè¿°ç¬¦ï¼ˆGet Interface/Endpoint Descriptorsï¼‰</strong></p><ul><li>ä¸»æœºç»§ç»­è¯»å– <strong>æ¥å£æè¿°ç¬¦ï¼ˆInterface Descriptorï¼‰</strong> å’Œ <strong>ç«¯ç‚¹æè¿°ç¬¦ï¼ˆEndpoint Descriptorï¼‰</strong>ï¼Œäº†è§£è®¾å¤‡çš„é€šä¿¡æ–¹å¼ï¼š <ul><li><strong>æ¥å£æè¿°ç¬¦</strong>ï¼šå®šä¹‰è®¾å¤‡çš„åŠŸèƒ½ï¼ˆå¦‚ HIDã€Mass Storage ç­‰ï¼‰ã€‚</li><li><strong>ç«¯ç‚¹æè¿°ç¬¦</strong>ï¼šå®šä¹‰æ•°æ®ä¼ è¾“æ–¹å¼ï¼ˆæ§åˆ¶/ä¸­æ–­/æ‰¹é‡/åŒæ­¥ï¼‰å’Œæœ€å¤§åŒ…å¤§å°ã€‚</li></ul></li></ul><p><strong>1.7 é€‰æ‹©é…ç½®ï¼ˆSet Configurationï¼‰</strong></p><ul><li>ä¸»æœºå‘é€ <strong><code>SET_CONFIGURATION</code> è¯·æ±‚</strong>ï¼Œæ¿€æ´»è®¾å¤‡çš„æŸä¸ªé…ç½®ï¼ˆé€šå¸¸ <code>bConfigurationValue = 1</code>ï¼‰ã€‚</li><li>è®¾å¤‡è¿›å…¥ <strong>å·²é…ç½®ï¼ˆConfiguredï¼‰çŠ¶æ€</strong>ï¼Œå¯ä»¥æ­£å¸¸é€šä¿¡ã€‚</li></ul><p><strong>1.8 åŠ è½½é©±åŠ¨ç¨‹åº</strong></p><ul><li>ä¸»æœºæ ¹æ® <code>idVendor</code> å’Œ <code>idProduct</code> åŒ¹é…å¹¶åŠ è½½åˆé€‚çš„ <strong>USB é©±åŠ¨ç¨‹åº</strong>ï¼ˆå¦‚ HIDã€UVCã€CDC ç­‰ï¼‰ã€‚</li><li>å¦‚æœæ˜¯ <strong>å¤åˆè®¾å¤‡ï¼ˆComposite Deviceï¼‰</strong>ï¼Œå¯èƒ½éœ€è¦åŠ è½½å¤šä¸ªé©±åŠ¨ã€‚</li></ul></div><hr><p><strong>USB è®¾å¤‡çŠ¶æ€</strong></p><table><thead><tr><th>çŠ¶æ€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Attached</strong></td><td>è®¾å¤‡å·²è¿æ¥ï¼Œä½†æœªä¾›ç”µ</td></tr><tr><td><strong>Powered</strong></td><td>è®¾å¤‡å·²ä¾›ç”µï¼ˆVBUSï¼‰</td></tr><tr><td><strong>Default</strong></td><td>è®¾å¤‡å¤ä½ï¼Œä½¿ç”¨é»˜è®¤åœ°å€ <code>0</code></td></tr><tr><td><strong>Address</strong></td><td>å·²åˆ†é…å”¯ä¸€åœ°å€</td></tr><tr><td><strong>Configured</strong></td><td>å·²é€‰æ‹©é…ç½®ï¼Œå¯æ­£å¸¸é€šä¿¡</td></tr><tr><td><strong>Suspended</strong></td><td>è®¾å¤‡è¿›å…¥ä½åŠŸè€—æ¨¡å¼</td></tr></tbody></table><p><strong>USB æè¿°ç¬¦ï¼ˆDescriptorsï¼‰</strong></p><table><thead><tr><th>æè¿°ç¬¦ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Device Descriptor</strong></td><td>è®¾å¤‡çš„åŸºæœ¬ä¿¡æ¯ï¼ˆå‚å•† IDã€äº§å“ IDã€ç‰ˆæœ¬ç­‰ï¼‰</td></tr><tr><td><strong>Configuration Descriptor</strong></td><td>è®¾å¤‡çš„é…ç½®ä¿¡æ¯ï¼ˆæ¥å£ã€ç«¯ç‚¹ç­‰ï¼‰</td></tr><tr><td><strong>Interface Descriptor</strong></td><td>è®¾å¤‡çš„åŠŸèƒ½ï¼ˆå¦‚ HIDã€Mass Storageï¼‰</td></tr><tr><td><strong>Endpoint Descriptor</strong></td><td>æ•°æ®ä¼ è¾“æ–¹å¼ï¼ˆæ§åˆ¶/ä¸­æ–­/æ‰¹é‡/åŒæ­¥ï¼‰</td></tr><tr><td><strong>String Descriptor</strong></td><td>å¯é€‰çš„æ–‡æœ¬ä¿¡æ¯ï¼ˆå¦‚å‚å•†åç§°ã€äº§å“åç§°ï¼‰</td></tr></tbody></table><h2 id="usbpcapæŠ“åŒ…å®è·µ" tabindex="-1"><a class="header-anchor" href="#usbpcapæŠ“åŒ…å®è·µ"><span>USBPcapæŠ“åŒ…å®è·µ</span></a></h2><p>è¦ä½¿ç”¨Wireshark+USBPcapæŠ“åŒ…ï¼Œå®‰è£…Wiresharkæ—¶è¦æ‰‹åŠ¨å‹¾é€‰USBPcapæ‰èƒ½ä½¿ç”¨ï¼Œå®‰è£…é‡å¯åæ‰“å¼€Wiresharkä¼šå‡ºç°USBPcapé€‰é¡¹ï¼š</p><figure><img src="https://image.ventix.top/img02/20250411140029217.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¯èƒ½ä¼šå‡ºç°å¤šä¸ªUSBPcapæ¥å£ï¼ˆå¦‚USBPcap1~USBPcap4ï¼‰ï¼Œè¿™æ˜¯å› ä¸ºå½“ç”µè„‘ä¸­å­˜åœ¨å¤šä¸ªUSBæ ¹é›†çº¿å™¨ï¼ˆRoot Hubï¼‰æ—¶ï¼Œæ¯ä¸ªæ ¹é›†çº¿å™¨ä¼šå¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„USBPcapæ¥å£ã€‚</p><p>é€šå¸¸æ•è· USBPcap1 æˆ– USBPcap2 å³å¯ï¼Œå¯è‡ªè¡Œé€ä¸€å°è¯•</p><hr><p>WiresharkæŠ“å–USBæ•°æ®åŒ…ç¤ºä¾‹åŠå„ä¸ªå­—æ®µçš„å«ä¹‰ï¼š</p><figure><img src="https://image.ventix.top/img02/20250411142853187.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><table><thead><tr><th>å­—æ®µå</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><strong>No</strong></td><td>æ•°æ®åŒ…çš„åºåˆ—å·ï¼ŒæŒ‰ç…§æ•è·é¡ºåºé€’å¢ã€‚</td></tr><tr><td><strong>Time</strong></td><td>æ•°æ®åŒ…è¢«æ•è·çš„æ—¶é—´æˆ³ï¼Œç›¸å¯¹äºæ•è·å¼€å§‹çš„æ—¶é—´ã€‚</td></tr><tr><td><strong>Source</strong></td><td>æ•°æ®åŒ…çš„æºåœ°å€ï¼Œå¯¹äºUSBæµé‡æ¥è¯´ï¼Œè¿™é€šå¸¸æ˜¯å‘èµ·é€šä¿¡çš„ä¸€æ–¹ï¼ˆä¾‹å¦‚ä¸»æœºæˆ–ç‰¹å®šçš„USBè®¾å¤‡ï¼‰ã€‚</td></tr><tr><td><strong>Destination</strong></td><td>æ•°æ®åŒ…çš„ç›®çš„åœ°å€ï¼Œå³æ¥æ”¶æ–¹ï¼ˆä¾‹å¦‚ä¸»æœºæˆ–å…¶ä»–USBè®¾å¤‡ï¼‰ã€‚</td></tr><tr><td><strong>Protocol</strong></td><td>ä½¿ç”¨çš„åè®®ç±»å‹ï¼Œåœ¨USBæµé‡ä¸­é€šå¸¸æ˜¾ç¤ºä¸ºâ€œUSBâ€æˆ–æ›´å…·ä½“çš„å­åè®®åç§°ã€‚</td></tr><tr><td><strong>Length</strong></td><td>æ•°æ®åŒ…çš„é•¿åº¦ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œè¡¨ç¤ºè¯¥æ•°æ®åŒ…åŒ…å«çš„æ•°æ®é‡å¤§å°ã€‚</td></tr><tr><td><strong>Info</strong></td><td>æä¾›æœ‰å…³æ•°æ®åŒ…çš„é¢å¤–ä¿¡æ¯ï¼Œå¦‚è¯·æ±‚ç±»å‹ã€ä¼ è¾“æ–¹å‘ï¼ˆIN/OUTï¼‰ã€æ§åˆ¶ä¼ è¾“çš„å…·ä½“å‘½ä»¤ç­‰ï¼Œæœ‰åŠ©äºç†è§£æ•°æ®åŒ…çš„å†…å®¹åŠå…¶ä½œç”¨ã€‚</td></tr></tbody></table><p>è®¾å¤‡åœ°å€è§£æï¼šUSBè®¾å¤‡åœ°å€ä¸­çš„æ¯ä¸€ä½æ•°å­—ä»£è¡¨çš„æ˜¯è®¾å¤‡åœ¨USBæ ‘å½¢ç»“æ„ä¸­çš„ä½ç½®ï¼š</p><ul><li>ç¬¬ä¸€ä½æ•°å­—ï¼šè¡¨ç¤ºè¯¥è®¾å¤‡è¿æ¥åˆ°å“ªä¸ªæ ¹é›†çº¿å™¨ï¼ˆRoot Hubï¼‰ã€‚ä¾‹å¦‚ï¼Œ1æ„å‘³ç€å®ƒç›´æ¥è¿æ¥åˆ°äº†ç¬¬ä¸€ä¸ªæ ¹é›†çº¿å™¨ã€‚</li><li>ç¬¬äºŒä½æ•°å­—ï¼šè¡¨ç¤ºè¯¥è®¾å¤‡è¿æ¥åˆ°äº†å‰ä¸€çº§è®¾å¤‡çš„å“ªä¸ªç«¯å£ã€‚æ¯”å¦‚ï¼Œ3æ„å‘³ç€è®¾å¤‡è¿æ¥åˆ°äº†ä¸Šä¸€çº§è®¾å¤‡çš„ç¬¬ä¸‰ä¸ªç«¯å£ã€‚</li><li>ç¬¬ä¸‰ä½æ•°å­—ï¼šå¯¹äºå¤åˆè®¾å¤‡ï¼ˆComposite Deviceï¼‰ï¼Œè¿™ä¸ªæ•°å­—ä»£è¡¨çš„æ˜¯æ¥å£å·ã€‚å¯¹äºéå¤åˆè®¾å¤‡ï¼Œè¿™ä¸ªå€¼é€šå¸¸æ˜¯0ã€‚</li></ul><p>å› æ­¤ï¼Œä¸€ä¸ªå®Œæ•´çš„è®¾å¤‡åœ°å€å¦‚<code>1.3.0</code>å¯ä»¥è§£è¯»ä¸ºï¼šè®¾å¤‡ä½äºç¬¬ä¸€ä¸ªæ ¹é›†çº¿å™¨ä¸‹ï¼Œé€šè¿‡ç¬¬ä¸‰ä¸ªç«¯å£è¿æ¥ï¼Œå¹¶ä¸”ä¸æ˜¯å¤åˆè®¾å¤‡çš„ä¸€éƒ¨åˆ†ï¼ˆå› ä¸ºæ¥å£å·ä¸º0ï¼‰ã€‚</p><p>æ³¨æ„ï¼šè¿™é‡Œçš„åœ°å€å¹¶ä¸ç›´æ¥å¯¹åº”äºç‰©ç†ä¸Šçš„USBæ¥å£</p><div class="hint-container important"><p class="hint-container-title">æŠ“åŒ…å¸¸è§è¿‡æ»¤æ¡ä»¶</p><ol><li><p>åˆ†å±€VIDå’ŒPIDè¿‡æ»¤ï¼Œæ‰¾åˆ°å¯¹åº”IDè®¾å¤‡çš„åœ°å€<br> usb.idVendor == 0x1bcf</p></li><li><p>æŒ‰è®¾å¤‡åœ°å€è¿‡æ»¤ï¼š<br> usb.device_address == &lt;device_address&gt;ï¼šæ›¿æ¢ &lt;device_address&gt; ä¸ºè¦ç›‘æ§çš„å®é™…è®¾å¤‡åœ°å€</p></li><li><p>æŒ‰ä¼ è¾“ç±»å‹è¿‡æ»¤ï¼š<br> usb.transfer_type == 0x02ï¼šä»…æ˜¾ç¤ºæ‰¹é‡ä¼ è¾“ï¼ˆBulk Transferï¼‰çš„æ•°æ®åŒ…ã€‚<br> usb.transfer_type == 0x03ï¼šä»…æ˜¾ç¤ºä¸­æ–­ä¼ è¾“ï¼ˆInterrupt Transferï¼‰çš„æ•°æ®åŒ…ã€‚<br> usb.transfer_type == 0x01ï¼šä»…æ˜¾ç¤ºæ§åˆ¶ä¼ è¾“ï¼ˆControl Transferï¼‰çš„æ•°æ®åŒ…ã€‚<br> usb.transfer_type == 0x04ï¼šä»…æ˜¾ç¤ºç­‰æ—¶ä¼ è¾“ï¼ˆIsochronous Transferï¼‰çš„æ•°æ®åŒ…ã€‚</p></li><li><p>æŒ‰ä¼ è¾“æ–¹å‘è¿‡æ»¤<br> usb.endpoint_address.direction==&quot;in&quot;: è¿‡æ»¤æ‰€æœ‰ä»è®¾å¤‡åˆ°ä¸»æœºçš„æ•°æ®åŒ…<br> usb.endpoint_address.direction==&quot;out&quot;: è¿‡æ»¤æ‰€æœ‰ä»ä¸»æœºåˆ°è®¾å¤‡çš„æ•°æ®åŒ…</p></li></ol></div><hr><h3 id="usb-request-block" tabindex="-1"><a class="header-anchor" href="#usb-request-block"><span>USB Request Block</span></a></h3><p>URBï¼ˆUSB Request Blockï¼‰ æ˜¯ USB åè®®æ ˆä¸­çš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œç”¨äºæè¿° ä¸»æœºï¼ˆHostï¼‰ä¸è®¾å¤‡ï¼ˆDeviceï¼‰ä¹‹é—´çš„é€šä¿¡è¯·æ±‚</p><p>é€šè¿‡ Wireshark ä¸­è§£æ USB æ•°æ®åŒ…çš„æ ¸å¿ƒå†…å®¹å¦‚ä¸‹:</p><table><thead><tr><th>å­—æ®µåç§°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><strong>Source/Destination</strong></td><td>æ•°æ®åŒ…çš„å‘èµ·æ–¹å’Œç›®æ ‡æ–¹ï¼ˆä¸»æœºæˆ–è®¾å¤‡ï¼‰ã€‚</td></tr><tr><td><strong>USBPcap pseudoheader</strong></td><td>USBPcap å·¥å…·æ·»åŠ çš„ä¼ªå¤´éƒ¨ï¼ŒåŒ…å«æ•è·å…ƒä¿¡æ¯ã€‚</td></tr><tr><td><strong>IRP ID</strong></td><td>I/O è¯·æ±‚åŒ…çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºå…³è”è¯·æ±‚å’Œå“åº”ã€‚</td></tr><tr><td><strong>USBD_STATUS</strong></td><td>USB é©±åŠ¨ç¨‹åºçš„çŠ¶æ€ç ï¼Œè¡¨ç¤ºè¯·æ±‚çš„ç»“æœï¼ˆæˆåŠŸã€å¤±è´¥ã€å–æ¶ˆç­‰ï¼‰ã€‚</td></tr><tr><td><strong>IRP Information</strong></td><td>æ ‡å¿—ä½å­—æ®µï¼Œæè¿°è¯·æ±‚çš„æ–¹å‘ï¼ˆFDO -&gt; PDO æˆ– PDO -&gt; FDOï¼‰ã€‚</td></tr><tr><td><strong>URB Function</strong></td><td>URB çš„åŠŸèƒ½ç±»å‹ï¼ˆå¦‚æ‰¹é‡ä¼ è¾“ã€ä¸­æ–­ä¼ è¾“ç­‰ï¼‰ã€‚</td></tr><tr><td><strong>Bus ID</strong></td><td>USB æ€»çº¿çš„ç¼–å·ã€‚</td></tr><tr><td><strong>Device Address</strong></td><td>ç›®æ ‡è®¾å¤‡çš„åœ°å€ï¼ˆèŒƒå›´é€šå¸¸æ˜¯ 1 åˆ° 127ï¼‰ã€‚</td></tr><tr><td><strong>Endpoint</strong></td><td>ç«¯ç‚¹ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¼ è¾“æ–¹å‘ï¼ˆIN/OUTï¼‰å’Œç«¯ç‚¹ç¼–å·ã€‚</td></tr><tr><td><strong>URB Transfer Type</strong></td><td>ä¼ è¾“ç±»å‹ï¼ˆæ‰¹é‡ã€ä¸­æ–­ã€æ§åˆ¶ã€ç­‰æ—¶ï¼‰ã€‚</td></tr><tr><td><strong>Packet Data Length</strong></td><td>æ•°æ®åŒ…ä¸­å®é™…æºå¸¦çš„æ•°æ®è´Ÿè½½é•¿åº¦ã€‚</td></tr><tr><td><strong>[Request in]</strong></td><td>å“åº”å¯¹åº”çš„è¯·æ±‚å¸§ç¼–å·ã€‚</td></tr><tr><td><strong>[Response in]</strong></td><td>è¯·æ±‚å¯¹åº”çš„å“åº”å¸§ç¼–å·ã€‚</td></tr><tr><td><strong>[Time from request]</strong></td><td>ä»è¯·æ±‚å‘å‡ºåˆ°æ”¶åˆ°å“åº”çš„æ—¶é—´é—´éš”ã€‚</td></tr><tr><td><strong>bInterfaceClass</strong></td><td>è®¾å¤‡çš„æ¥å£ç±»ï¼Œæè¿°è®¾å¤‡çš„åŠŸèƒ½ç±»å‹ï¼ˆå¦‚æ— çº¿æ§åˆ¶å™¨ã€å­˜å‚¨è®¾å¤‡ç­‰ï¼‰ã€‚</td></tr></tbody></table><hr><p><span style="color:#1E90FF;"><strong>IRP Information</strong></span> æ˜¯ä¸€ä¸ªæ ‡å¿—ä½å­—æ®µï¼Œç”¨äºæè¿°è¯·æ±‚çš„æ–¹å‘å’Œå…¶ä»–ä¿¡æ¯ã€‚</p><ul><li><code>0000 000.</code>ï¼šä¿ç•™ä½ï¼Œæœªä½¿ç”¨ã€‚</li><li><code>.... ...0</code>ï¼šæ–¹å‘ä¸º <code>FDO -&gt; PDO</code>ï¼ˆä»åŠŸèƒ½é©±åŠ¨ç¨‹åºå¯¹è±¡åˆ°ç‰©ç†é©±åŠ¨ç¨‹åºå¯¹è±¡ï¼‰<br><code>.... ...1</code>ï¼šæ–¹å‘ä¸º <code>PDO -&gt; FDO</code>ï¼ˆä»ç‰©ç†é©±åŠ¨ç¨‹åºå¯¹è±¡åˆ°åŠŸèƒ½é©±åŠ¨ç¨‹åºå¯¹è±¡ï¼‰</li></ul><p>PDO:ç‰©ç†é©±åŠ¨ç¨‹åºå¯¹è±¡(Physical Driver Object)ï¼ŒFDO:åŠŸèƒ½é©±åŠ¨ç¨‹åºå¯¹è±¡(Function Driver Object)</p><hr><p><span style="color:#1E90FF;"><strong>URB Transfer Type</strong></span> è¡¨ç¤ºä¼ è¾“çš„ç±»å‹ã€‚ç¤ºä¾‹ï¼š</p><table><thead><tr><th>ä¼ è¾“ç±»å‹</th><th>ç”¨é€”</th><th>å…¸å‹è®¾å¤‡</th><th>Wireshark æ˜¾ç¤º</th></tr></thead><tbody><tr><td><strong>ä¸­æ–­ä¼ è¾“</strong></td><td>å°æ•°æ®ã€ä½å»¶è¿Ÿã€å®šæœŸè½®è¯¢</td><td>é¼ æ ‡ã€é”®ç›˜</td><td><code>URB_INTERRUPT</code> (0x01)</td></tr><tr><td><strong>æ§åˆ¶ä¼ è¾“</strong></td><td>è®¾å¤‡æšä¸¾ã€é…ç½®ã€å‘½ä»¤æ§åˆ¶</td><td>æ‰€æœ‰è®¾å¤‡ï¼ˆç«¯ç‚¹0ï¼‰</td><td><code>URB_CONTROL</code> (0x02)</td></tr><tr><td><strong>æ‰¹é‡ä¼ è¾“</strong></td><td>å¤§æ•°æ®é‡ã€æ— å®æ—¶æ€§è¦æ±‚</td><td>Uç›˜ã€æ‰“å°æœº</td><td><code>URB_BULK</code> (0x03)</td></tr><tr><td><strong>ç­‰æ—¶ä¼ è¾“</strong></td><td>å®æ—¶æµæ•°æ®ï¼ˆæ— é‡ä¼ æœºåˆ¶ï¼‰</td><td>æ‘„åƒå¤´ã€éŸ³é¢‘è®¾å¤‡</td><td><code>URB_ISOCHRONOUS</code> (0x04)</td></tr></tbody></table><hr><p><span style="color:#1E90FF;"><strong>bInterfaceClass</strong></span> è¡¨ç¤ºè®¾å¤‡çš„æ¥å£ç±»ï¼Œç”¨äºæè¿°è®¾å¤‡çš„åŠŸèƒ½ç±»å‹ã€‚</p><ul><li><code>Wireless Controller (0xe0)</code>ï¼šæ— çº¿æ§åˆ¶å™¨ç±»ï¼ˆå¦‚è“ç‰™é€‚é…å™¨ï¼‰ã€‚</li><li><code>Mass Storage (0x08)</code>ï¼šå­˜å‚¨è®¾å¤‡ç±»ï¼ˆå¦‚ U ç›˜ï¼‰ã€‚</li><li><code>HID (0x03)</code>ï¼šäººæœºæ¥å£è®¾å¤‡ç±»ï¼ˆå¦‚é”®ç›˜ã€é¼ æ ‡ï¼‰ã€‚</li></ul><hr><p><span style="color:#1E90FF;"><strong>Endpoint çš„ä¼ è¾“æ–¹å‘</strong></span></p><p>åœ¨ USB åè®®ä¸­ï¼ŒEndpointï¼ˆç«¯ç‚¹ï¼‰ çš„ä¼ è¾“æ–¹å‘æ˜¯ ä»è®¾å¤‡è§†è§’ å®šä¹‰çš„ï¼Œä¸ä¸»æœºå’Œè®¾å¤‡çš„è¯·æ±‚-å“åº”æ¨¡å¼æ— å…³ã€‚å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š</p><table><thead><tr><th><strong>æ–¹å‘æ ‡è¯†</strong></th><th><strong>ç«¯ç‚¹å·ç¤ºä¾‹</strong></th><th><strong>æ•°æ®æµå‘ï¼ˆè®¾å¤‡è§†è§’ï¼‰</strong></th><th><strong>ä¸»æœºè¡Œä¸º</strong></th></tr></thead><tbody><tr><td><strong>IN</strong></td><td><code>0x81</code></td><td>è®¾å¤‡ â†’ ä¸»æœº</td><td>ä¸»æœºå‘é€ <code>IN Token</code>ï¼Œè®¾å¤‡è¿”å›æ•°æ®</td></tr><tr><td><strong>OUT</strong></td><td><code>0x01</code></td><td>ä¸»æœº â†’ è®¾å¤‡</td><td>ä¸»æœºå‘é€ <code>OUT Token</code> + æ•°æ®</td></tr></tbody></table><ul><li><strong>è¯¯åŒº</strong>ï¼šè®¤ä¸º <code>IN</code> æ˜¯ä¸»æœºè¯·æ±‚ï¼Œ<code>OUT</code> æ˜¯è®¾å¤‡å“åº”ã€‚</li><li><strong>çº æ­£</strong>ï¼šæ–¹å‘æ˜¯å›ºå®šçš„ï¼Œç”±ç«¯ç‚¹æè¿°ç¬¦å®šä¹‰ï¼Œä¸è¯·æ±‚-å“åº”é€»è¾‘æ— å…³ã€‚</li></ul><hr><h3 id="urb-function" tabindex="-1"><a class="header-anchor" href="#urb-function"><span>URB Function</span></a></h3><p>URB çš„ Function å­—æ®µæ ‡è¯†å…¶å…·ä½“æ“ä½œç±»å‹ï¼Œä»¥ä¸‹æ˜¯å¸¸è§åˆ†ç±»ï¼ˆåŸºäº Windows å’Œ Linux å†…æ ¸å®šä¹‰ï¼‰</p><h4 id="_1-æ•°æ®ä¼ è¾“ç±»" tabindex="-1"><a class="header-anchor" href="#_1-æ•°æ®ä¼ è¾“ç±»"><span><strong>1. æ•°æ®ä¼ è¾“ç±»</strong></span></a></h4><ul><li><p><code>URB_FUNCTION_CONTROL_TRANSFER</code>ï¼Œ <code>0x0002</code> : æ§åˆ¶ä¼ è¾“è¯·æ±‚ï¼Œç”¨äºè®¾å¤‡æšä¸¾ã€é…ç½®ã€çŠ¶æ€æŸ¥è¯¢ç­‰æ“ä½œ ã€‚ä¾‹ï¼šè·å–è®¾å¤‡æè¿°ç¬¦ï¼ˆ<code>GET_DESCRIPTOR</code>ï¼‰</p></li><li><p><code>URB_FUNCTION_BULK_OR_INTERRUPT_TRANSFER</code>ï¼Œ <code>0x0009</code> ï¼šæ‰§è¡Œæ‰¹é‡æˆ–ä¸­æ–­ä¼ è¾“ã€‚ä¾‹ï¼š Uç›˜è¯»å†™ã€é¼ æ ‡/é”®ç›˜æ•°æ®ä¸ŠæŠ¥</p></li><li><p><code>URB_FUNCTION_ISOCHRONOUS_TRANSFER</code>ï¼Œ <code>0x000a</code> ï¼šç­‰æ—¶ä¼ è¾“ï¼Œé€‚ç”¨äºå®æ—¶æµæ•°æ®ï¼ˆå¦‚éŸ³é¢‘/è§†é¢‘ï¼‰ä¾‹ï¼šæ‘„åƒå¤´è§†é¢‘æµ</p></li></ul><hr><h4 id="_2-è®¾å¤‡ç®¡ç†ç±»" tabindex="-1"><a class="header-anchor" href="#_2-è®¾å¤‡ç®¡ç†ç±»"><span><strong>2. è®¾å¤‡ç®¡ç†ç±»</strong></span></a></h4><table><thead><tr><th><strong>URB Function</strong></th><th><strong>å€¼ (åå…­è¿›åˆ¶)</strong></th><th><strong>æè¿° - ç¤ºä¾‹åœºæ™¯</strong></th></tr></thead><tbody><tr><td><code>URB_FUNCTION_GET_DESCRIPTOR_FROM_DEVICE</code></td><td>0x0008</td><td>è·å–è®¾å¤‡/é…ç½®/å­—ç¬¦ä¸²æè¿°ç¬¦ - è®¾å¤‡æšä¸¾é˜¶æ®µ</td></tr><tr><td><code>URB_FUNCTION_SET_DESCRIPTOR_TO_DEVICE</code></td><td>0x000b</td><td>å‘è®¾å¤‡è®¾ç½®æè¿°ç¬¦ä¿¡æ¯ - æ›´æ–°è®¾å¤‡æè¿°ç¬¦</td></tr><tr><td><code>URB_FUNCTION_SET_CONFIGURATION</code></td><td>0x0007</td><td>è®¾ç½®è®¾å¤‡çš„é…ç½®ï¼ˆæ¿€æ´»æ¥å£ï¼‰ - è®¾å¤‡åˆå§‹åŒ–</td></tr><tr><td><code>URB_FUNCTION_SET_INTERFACE</code></td><td>0x000c</td><td>åˆ‡æ¢æ¥å£çš„å¤‡ç”¨è®¾ç½®ï¼ˆAlternate Settingï¼‰ - åˆ‡æ¢USBéŸ³é¢‘è®¾å¤‡çš„é‡‡æ ·ç‡</td></tr><tr><td><code>URB_FUNCTION_SELECT_CONFIGURATION</code></td><td>0x0007</td><td>é€‰æ‹©è®¾å¤‡çš„é…ç½®ï¼ˆä¸ <code>SET_CONFIGURATION</code> ç±»ä¼¼ï¼‰ - åŠ¨æ€åˆ‡æ¢è®¾å¤‡æ¨¡å¼</td></tr><tr><td><code>URB_FUNCTION_SELECT_INTERFACE</code></td><td>0x000c</td><td>åŠ¨æ€é€‰æ‹©æ¥å£ï¼ˆå¤šé…ç½®è®¾å¤‡ï¼‰ - åˆ‡æ¢USBå¤åˆè®¾å¤‡çš„å·¥ä½œæ¨¡å¼</td></tr></tbody></table><hr><h4 id="_3-çŠ¶æ€ä¸ç‰¹æ€§ç®¡ç†ç±»" tabindex="-1"><a class="header-anchor" href="#_3-çŠ¶æ€ä¸ç‰¹æ€§ç®¡ç†ç±»"><span><strong>3. çŠ¶æ€ä¸ç‰¹æ€§ç®¡ç†ç±»</strong></span></a></h4><table><thead><tr><th><strong>URB Function</strong></th><th><strong>å€¼ (åå…­è¿›åˆ¶)</strong></th><th><strong>æè¿°</strong></th><th><strong>ç¤ºä¾‹åœºæ™¯</strong></th></tr></thead><tbody><tr><td><code>URB_FUNCTION_GET_STATUS_FROM_DEVICE</code></td><td>0x0000</td><td>æŸ¥è¯¢è®¾å¤‡æˆ–ç«¯ç‚¹çš„çŠ¶æ€</td><td>è°ƒè¯•è®¾å¤‡é”™è¯¯</td></tr><tr><td><code>URB_FUNCTION_SET_FEATURE_TO_DEVICE</code></td><td>0x0003</td><td>è®¾ç½®è®¾å¤‡ç‰¹æ€§ï¼ˆå¦‚å¯ç”¨è¿œç¨‹å”¤é†’ï¼‰</td><td>å¯ç”¨ç‰¹å®šåŠŸèƒ½</td></tr><tr><td><code>URB_FUNCTION_CLEAR_FEATURE_TO_DEVICE</code></td><td>0x0004</td><td>æ¸…é™¤è®¾å¤‡ç‰¹æ€§ï¼ˆå¦‚ç¦ç”¨è¿œç¨‹å”¤é†’ï¼‰</td><td>å…³é—­ç‰¹å®šåŠŸèƒ½</td></tr></tbody></table><hr><h4 id="_4-ç«¯ç‚¹ä¸ç®¡é“ç®¡ç†ç±»" tabindex="-1"><a class="header-anchor" href="#_4-ç«¯ç‚¹ä¸ç®¡é“ç®¡ç†ç±»"><span><strong>4. ç«¯ç‚¹ä¸ç®¡é“ç®¡ç†ç±»</strong></span></a></h4><table><thead><tr><th><strong>URB Function</strong></th><th><strong>å€¼ (åå…­è¿›åˆ¶)</strong></th><th><strong>æè¿°</strong></th><th><strong>ç¤ºä¾‹åœºæ™¯</strong></th></tr></thead><tbody><tr><td><code>URB_FUNCTION_RESET_PIPE</code></td><td>-</td><td>é‡ç½®ç«¯ç‚¹ï¼ˆæ¸…é™¤é”™è¯¯çŠ¶æ€ï¼‰</td><td>è®¾å¤‡é€šä¿¡è¶…æ—¶åæ¢å¤</td></tr><tr><td><code>URB_FUNCTION_ABORT_PIPE</code></td><td>-</td><td>ä¸­æ­¢ç«¯ç‚¹çš„æœªå®Œæˆè¯·æ±‚</td><td>å¼ºåˆ¶åœæ­¢ä¼ è¾“</td></tr></tbody></table><hr><h4 id="_5-å‚å•†ä¸ç±»ç‰¹å®šåŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_5-å‚å•†ä¸ç±»ç‰¹å®šåŠŸèƒ½"><span><strong>5. å‚å•†ä¸ç±»ç‰¹å®šåŠŸèƒ½</strong></span></a></h4><table><thead><tr><th><strong>URB Function</strong></th><th><strong>å€¼ (åå…­è¿›åˆ¶)</strong></th><th><strong>æè¿°</strong></th><th><strong>ç¤ºä¾‹åœºæ™¯</strong></th></tr></thead><tbody><tr><td><code>URB_FUNCTION_VENDOR_DEVICE</code></td><td>0x001b</td><td>å‘é€å‚å•†ç‰¹å®šå‘½ä»¤åˆ°è®¾å¤‡</td><td>è‡ªå®šä¹‰è®¾å¤‡æ§åˆ¶</td></tr><tr><td><code>URB_FUNCTION_CLASS_DEVICE</code></td><td>0x001e</td><td>å‘é€ç±»ç‰¹å®šè¯·æ±‚ç»™è®¾å¤‡</td><td>USB HID è®¾å¤‡æ§åˆ¶</td></tr><tr><td><code>URB_FUNCTION_CLASS_INTERFACE</code></td><td>0x001f</td><td>å‘é€ç±»ç‰¹å®šè¯·æ±‚ç»™æ¥å£</td><td>é…ç½® USB éŸ³é¢‘æ¥å£å‚æ•°</td></tr></tbody></table><hr><h3 id="usbç›‘å¬-hidapi" tabindex="-1"><a class="header-anchor" href="#usbç›‘å¬-hidapi"><span>USBç›‘å¬(hidapi)</span></a></h3></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/ventixy/notebook/edit/main/src/python/Project/hid.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last update: </span><!----></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: msdrizzle@outlook.com">drizzle</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link auto-link next" href="/notebook/python/Project/PICO.html" aria-label="PICO RP2040"><div class="hint">Next<span class="arrow end"></span></div><div class="link">PICO RP2040<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">Default footer</div><div class="vp-copyright">Copyright Â© 2025 ventixy </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/notebook/assets/app-DZ5naRTy.js" defer></script>
  </body>
</html>
