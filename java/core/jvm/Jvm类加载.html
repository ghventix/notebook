<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.52" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://x.app/notebook/java/core/jvm/Jvm%E7%B1%BB%E5%8A%A0%E8%BD%BD.html"><meta property="og:site_name" content="doc"><meta property="og:title" content="Jvmç±»åŠ è½½æœºåˆ¶"><meta property="og:description" content="ç±»åŠ è½½æœºåˆ¶ ç±»åŠ è½½æœºåˆ¶æ˜¯æŒ‡Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰å¦‚ä½• å°†.classæ–‡ä»¶ï¼ˆå®é™…ä¸ºäºŒè¿›åˆ¶å­—èŠ‚æµï¼‰åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶åˆ›å»ºå‡ºå¯¹åº”çš„Classå¯¹è±¡çš„è¿‡ç¨‹ã€‚è¿™ä¸€è¿‡ç¨‹æ¶‰åŠåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æå’Œåˆå§‹åŒ–äº”ä¸ªé˜¶æ®µã€‚ Classæ–‡ä»¶ â€œClassæ–‡ä»¶â€å¹¶éç‰¹æŒ‡æŸä¸ªå­˜åœ¨äºå…·ä½“ç£ç›˜ä¸­çš„æ–‡ä»¶ï¼Œè€Œåº”å½“æ˜¯ä¸€ä¸²äºŒè¿›åˆ¶å­—èŠ‚æµï¼Œæ— è®ºå…¶ä»¥ä½•ç§å½¢å¼å­˜åœ¨ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç£ç›˜æ–‡ä»¶ã€ç½‘ç»œã€æ•°æ®åº“ã€å†…..."><meta property="og:type" content="article"><meta property="og:image" content="https://image.ventix.top/java/image-20220227162728247.png"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2025-04-01T13:21:59.000Z"><meta property="article:author" content="ventixy"><meta property="article:modified_time" content="2025-04-01T13:21:59.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Jvmç±»åŠ è½½æœºåˆ¶","image":["https://image.ventix.top/java/image-20220227162728247.png"],"dateModified":"2025-04-01T13:21:59.000Z","author":[{"@type":"Person","name":"ventixy","url":"https://www.ventix.top"}]}</script><link rel="icon" href="/notebook/jav.ico"><title>Jvmç±»åŠ è½½æœºåˆ¶ | doc</title><meta name="description" content="ç±»åŠ è½½æœºåˆ¶ ç±»åŠ è½½æœºåˆ¶æ˜¯æŒ‡Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰å¦‚ä½• å°†.classæ–‡ä»¶ï¼ˆå®é™…ä¸ºäºŒè¿›åˆ¶å­—èŠ‚æµï¼‰åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶åˆ›å»ºå‡ºå¯¹åº”çš„Classå¯¹è±¡çš„è¿‡ç¨‹ã€‚è¿™ä¸€è¿‡ç¨‹æ¶‰åŠåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æå’Œåˆå§‹åŒ–äº”ä¸ªé˜¶æ®µã€‚ Classæ–‡ä»¶ â€œClassæ–‡ä»¶â€å¹¶éç‰¹æŒ‡æŸä¸ªå­˜åœ¨äºå…·ä½“ç£ç›˜ä¸­çš„æ–‡ä»¶ï¼Œè€Œåº”å½“æ˜¯ä¸€ä¸²äºŒè¿›åˆ¶å­—èŠ‚æµï¼Œæ— è®ºå…¶ä»¥ä½•ç§å½¢å¼å­˜åœ¨ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç£ç›˜æ–‡ä»¶ã€ç½‘ç»œã€æ•°æ®åº“ã€å†…...">
    <link rel="preload" href="/notebook/assets/style-B_XoRuKw.css" as="style"><link rel="stylesheet" href="/notebook/assets/style-B_XoRuKw.css">
    <link rel="modulepreload" href="/notebook/assets/app-DZ5naRTy.js"><link rel="modulepreload" href="/notebook/assets/Jvmç±»åŠ è½½.html-ClW7BK5v.js"><link rel="modulepreload" href="/notebook/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/notebook/assets/index.html-D4iKXO7V.js" as="script"><link rel="prefetch" href="/notebook/assets/blog.html-BqS3o0uW.js" as="script"><link rel="prefetch" href="/notebook/assets/intro.html-Bc5qyofi.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DSdjrCwZ.js" as="script"><link rel="prefetch" href="/notebook/assets/dev.html-Bpx1msjn.js" as="script"><link rel="prefetch" href="/notebook/assets/lang.html-D6fEjqiJ.js" as="script"><link rel="prefetch" href="/notebook/assets/mcp.html-Cmzp4ohG.js" as="script"><link rel="prefetch" href="/notebook/assets/program.html-FNC2kc4Q.js" as="script"><link rel="prefetch" href="/notebook/assets/prompt.html-BHZ2OL2H.js" as="script"><link rel="prefetch" href="/notebook/assets/rag.html-Ry4GpIcH.js" as="script"><link rel="prefetch" href="/notebook/assets/springai.html-BUFXE-vj.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Dl9inqHr.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-vWevCd8t.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-pPg2iknQ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BSZbgFti.js" as="script"><link rel="prefetch" href="/notebook/assets/Gradle.html-XK3kwwDV.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DvVAqUGC.js" as="script"><link rel="prefetch" href="/notebook/assets/maven.html-AYyvFNRr.js" as="script"><link rel="prefetch" href="/notebook/assets/theme.html-DSBkUMgG.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DmuQKWVH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BXBVqfkI.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DJ4SncIX.js" as="script"><link rel="prefetch" href="/notebook/assets/c.html-XGgRpFkm.js" as="script"><link rel="prefetch" href="/notebook/assets/c2.html-BLcUf4s2.js" as="script"><link rel="prefetch" href="/notebook/assets/core.html-DpWqg4BF.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Dd2ZfKGK.js" as="script"><link rel="prefetch" href="/notebook/assets/Annotation.html-DMp3PArj.js" as="script"><link rel="prefetch" href="/notebook/assets/Enum.html-DVWOCTgC.js" as="script"><link rel="prefetch" href="/notebook/assets/HashMap.html-BcCCbF0R.js" as="script"><link rel="prefetch" href="/notebook/assets/JavaåŸºç¡€.html-Dr4U3Fam.js" as="script"><link rel="prefetch" href="/notebook/assets/Javaå¸¸ç”¨ç±»åº“.html-DOucXl13.js" as="script"><link rel="prefetch" href="/notebook/assets/Javaé¢å‘å¯¹è±¡.html-C4qErPjI.js" as="script"><link rel="prefetch" href="/notebook/assets/Lambda.html-CkaXGTC3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D1rAPJ5B.js" as="script"><link rel="prefetch" href="/notebook/assets/Reflection.html-BvtNwqm_.js" as="script"><link rel="prefetch" href="/notebook/assets/Stream.html-BrsYS-G4.js" as="script"><link rel="prefetch" href="/notebook/assets/collection.html-fCgWiF9D.js" as="script"><link rel="prefetch" href="/notebook/assets/generics.html-33trOSDU.js" as="script"><link rel="prefetch" href="/notebook/assets/javaIO.html-DGWct2kG.js" as="script"><link rel="prefetch" href="/notebook/assets/setå’Œmap.html-BbhN8EIL.js" as="script"><link rel="prefetch" href="/notebook/assets/æ•°ç»„å’Œå­—ç¬¦ä¸².html-BBAeHqKP.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CwurDVaa.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BkTSP58s.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BJNAo0B5.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B9aTbqEI.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C9qLmT1h.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html--zwMV9Gt.js" as="script"><link rel="prefetch" href="/notebook/assets/idea.html-BQa7KVw1.js" as="script"><link rel="prefetch" href="/notebook/assets/mac.html-6jWzmUNK.js" as="script"><link rel="prefetch" href="/notebook/assets/nuc8.html-Bwz936GB.js" as="script"><link rel="prefetch" href="/notebook/assets/picgo.html-BS75IEGe.js" as="script"><link rel="prefetch" href="/notebook/assets/usual.html-yO2ZGpDY.js" as="script"><link rel="prefetch" href="/notebook/assets/vps.html-Cvm0EwlR.js" as="script"><link rel="prefetch" href="/notebook/assets/website.html-Co5LVZaS.js" as="script"><link rel="prefetch" href="/notebook/assets/windows.html-DstDIb4Q.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DwgiFVFy.js" as="script"><link rel="prefetch" href="/notebook/assets/encoding.html-CnIUHsLV.js" as="script"><link rel="prefetch" href="/notebook/assets/harddisk.html-VGH_s_uH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BP6eGRLj.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql-binlog.html-CJ1B-6h9.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql-lock.html-C5ajM4BE.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql.html-BKec1BWw.js" as="script"><link rel="prefetch" href="/notebook/assets/postgres.html-AJkBxmWe.js" as="script"><link rel="prefetch" href="/notebook/assets/ulimit.html-BXcVm95u.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DvUA0cSd.js" as="script"><link rel="prefetch" href="/notebook/assets/env.html-DdfeGzWK.js" as="script"><link rel="prefetch" href="/notebook/assets/history.html-DX71chiV.js" as="script"><link rel="prefetch" href="/notebook/assets/jar.html-CctI5QSa.js" as="script"><link rel="prefetch" href="/notebook/assets/kryo.html-CzD1TdSU.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-oW0tNDpi.js" as="script"><link rel="prefetch" href="/notebook/assets/k8s.html-BLkJ7JpD.js" as="script"><link rel="prefetch" href="/notebook/assets/ks-install.html-D7muJY7t.js" as="script"><link rel="prefetch" href="/notebook/assets/vm.html-DMtnZ0D4.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B2tm8iZj.js" as="script"><link rel="prefetch" href="/notebook/assets/crossDomain.html-B4gOZV0d.js" as="script"><link rel="prefetch" href="/notebook/assets/excel.html-8VJkL5qv.js" as="script"><link rel="prefetch" href="/notebook/assets/springboot.html-C3H0iuh7.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BqZ3ZcNG.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C7rFNnID.js" as="script"><link rel="prefetch" href="/notebook/assets/PICO.html-DIBcI_Xu.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-F2-n5X_B.js" as="script"><link rel="prefetch" href="/notebook/assets/ch9329.html-BpoR9cTn.js" as="script"><link rel="prefetch" href="/notebook/assets/damb.html-D8_yp_90.js" as="script"><link rel="prefetch" href="/notebook/assets/hid.html-5AflaAfu.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cx8qo8LR.js" as="script"><link rel="prefetch" href="/notebook/assets/base.html-ZdHVPqnP.js" as="script"><link rel="prefetch" href="/notebook/assets/data.html-DNmtoffh.js" as="script"><link rel="prefetch" href="/notebook/assets/file.html-BksVxdDQ.js" as="script"><link rel="prefetch" href="/notebook/assets/function.html-CNg0szhF.js" as="script"><link rel="prefetch" href="/notebook/assets/oop.html-DVTni4Xl.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cy5cLJHr.js" as="script"><link rel="prefetch" href="/notebook/assets/pywin32.html-BlRe_PvX.js" as="script"><link rel="prefetch" href="/notebook/assets/yolo.html-DSpiwWyD.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Dh6zCPOk.js" as="script"><link rel="prefetch" href="/notebook/assets/base.html-D7mZOaOY.js" as="script"><link rel="prefetch" href="/notebook/assets/numpy.html-c94SuQw7.js" as="script"><link rel="prefetch" href="/notebook/assets/opencv.html-BDcwclls.js" as="script"><link rel="prefetch" href="/notebook/assets/pillow.html-DQbipO-O.js" as="script"><link rel="prefetch" href="/notebook/assets/python.html-BgQd0mvw.js" as="script"><link rel="prefetch" href="/notebook/assets/sd.html-CInf7qC6.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DpfEGBir.js" as="script"><link rel="prefetch" href="/notebook/assets/application.html-C6cprhtn.js" as="script"><link rel="prefetch" href="/notebook/assets/call.html-DJrp-_8T.js" as="script"><link rel="prefetch" href="/notebook/assets/http.html-CmHDSWTq.js" as="script"><link rel="prefetch" href="/notebook/assets/interface.html-CUveZKpd.js" as="script"><link rel="prefetch" href="/notebook/assets/io.html-aCWeVJIq.js" as="script"><link rel="prefetch" href="/notebook/assets/memory.html-rmljpGJc.js" as="script"><link rel="prefetch" href="/notebook/assets/network.html-5BLeyF5t.js" as="script"><link rel="prefetch" href="/notebook/assets/os.html-eaMjKyoI.js" as="script"><link rel="prefetch" href="/notebook/assets/process.html-0ZIQJhBM.js" as="script"><link rel="prefetch" href="/notebook/assets/transport.html-C54rJQ0j.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Djeb9MT5.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DZEF5L2w.js" as="script"><link rel="prefetch" href="/notebook/assets/Linux.html-Dt9Y_0zy.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-n8FoEjmG.js" as="script"><link rel="prefetch" href="/notebook/assets/file.html-Dwm_py_1.js" as="script"><link rel="prefetch" href="/notebook/assets/setting.html-rIkh64I1.js" as="script"><link rel="prefetch" href="/notebook/assets/shell.html-BcfFgJhs.js" as="script"><link rel="prefetch" href="/notebook/assets/Docker.html-rcBO0rfH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-nkkng7X5.js" as="script"><link rel="prefetch" href="/notebook/assets/install.html-DwGX1t6o.js" as="script"><link rel="prefetch" href="/notebook/assets/k8s.html-DmSvDy49.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bx_ziftD.js" as="script"><link rel="prefetch" href="/notebook/assets/git.html-CNUEhX-5.js" as="script"><link rel="prefetch" href="/notebook/assets/git1.html-DD43inJt.js" as="script"><link rel="prefetch" href="/notebook/assets/jenkins.html-Dbnhn0po.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-_ZyXdudj.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BKjmunft.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D-fWdOXS.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-ByrAGRtC.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DEJH8vug.js" as="script"><link rel="prefetch" href="/notebook/assets/netty.html-1xlkTFEr.js" as="script"><link rel="prefetch" href="/notebook/assets/nio.html-CA_VDq7K.js" as="script"><link rel="prefetch" href="/notebook/assets/socket.html-KhWIGXW5.js" as="script"><link rel="prefetch" href="/notebook/assets/theory.html-6_0TDqYX.js" as="script"><link rel="prefetch" href="/notebook/assets/Jvmå†…å­˜ç®¡ç†.html-85FqTRHN.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DXkDG7IS.js" as="script"><link rel="prefetch" href="/notebook/assets/bytecode.html-BdbRneF0.js" as="script"><link rel="prefetch" href="/notebook/assets/pt.html-DQY1wRI3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CFe0Rnxp.js" as="script"><link rel="prefetch" href="/notebook/assets/lock.html-BgmvUQgO.js" as="script"><link rel="prefetch" href="/notebook/assets/pool.html-D64DUQz2.js" as="script"><link rel="prefetch" href="/notebook/assets/thread.html-BWEc5Ymd.js" as="script"><link rel="prefetch" href="/notebook/assets/tool.html-BBfBofjw.js" as="script"><link rel="prefetch" href="/notebook/assets/Architecture.html-BIxH_tMh.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cq0YMltl.js" as="script"><link rel="prefetch" href="/notebook/assets/Transaction.html-C4u3qwbw.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql-index.html-BHLKJL49.js" as="script"><link rel="prefetch" href="/notebook/assets/redis-java.html-De_FVGNM.js" as="script"><link rel="prefetch" href="/notebook/assets/redis.html-nr5J2Vlw.js" as="script"><link rel="prefetch" href="/notebook/assets/sql.html-CN5uMHMz.js" as="script"><link rel="prefetch" href="/notebook/assets/Hibernate.html-ehFVvuMr.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BP87XHVz.js" as="script"><link rel="prefetch" href="/notebook/assets/generator.html-od8lECv0.js" as="script"><link rel="prefetch" href="/notebook/assets/mybatis-resource.html-CrQ2g4xl.js" as="script"><link rel="prefetch" href="/notebook/assets/mybatis.html-DKzT8n_k.js" as="script"><link rel="prefetch" href="/notebook/assets/tk-mybatis.html-CQPT3d0y.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DmtQ-dZC.js" as="script"><link rel="prefetch" href="/notebook/assets/Servlet.html-Cj-tvv3E.js" as="script"><link rel="prefetch" href="/notebook/assets/jsp.html-CXMYkHv0.js" as="script"><link rel="prefetch" href="/notebook/assets/mvc.html-1Kvxuaby.js" as="script"><link rel="prefetch" href="/notebook/assets/nginx.html-DlCp5V5A.js" as="script"><link rel="prefetch" href="/notebook/assets/tomcat.html-KPbTgCDO.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-ChpHLCTe.js" as="script"><link rel="prefetch" href="/notebook/assets/log.html-99vHzP8k.js" as="script"><link rel="prefetch" href="/notebook/assets/shiro.html-BQf4EmvR.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-_Eb15jUg.js" as="script"><link rel="prefetch" href="/notebook/assets/design.html-BK61A1BN.js" as="script"><link rel="prefetch" href="/notebook/assets/life.html-C9G9iUk0.js" as="script"><link rel="prefetch" href="/notebook/assets/mvc-core.html-BGUF3DYH.js" as="script"><link rel="prefetch" href="/notebook/assets/sb-core.html-RtC8TKkr.js" as="script"><link rel="prefetch" href="/notebook/assets/sec.html-hr12KPi2.js" as="script"><link rel="prefetch" href="/notebook/assets/spring.html-D_QNNDrI.js" as="script"><link rel="prefetch" href="/notebook/assets/springboot.html-D6oU21bE.js" as="script"><link rel="prefetch" href="/notebook/assets/springmvc.html-BLShYJRD.js" as="script"><link rel="prefetch" href="/notebook/assets/transaction.html-tW0n87hl.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BHctfMcz.js" as="script"><link rel="prefetch" href="/notebook/assets/mybatis.html-C0DjejIy.js" as="script"><link rel="prefetch" href="/notebook/assets/mysql.html-CLm_Mjcb.js" as="script"><link rel="prefetch" href="/notebook/assets/redis.html-DH-BVX_5.js" as="script"><link rel="prefetch" href="/notebook/assets/security.html-Bjr7o5hi.js" as="script"><link rel="prefetch" href="/notebook/assets/spring.html-2Sgq-qOK.js" as="script"><link rel="prefetch" href="/notebook/assets/springboot.html-6FEMMi_E.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BA7m1E7y.js" as="script"><link rel="prefetch" href="/notebook/assets/base.html-B6_mG3rm.js" as="script"><link rel="prefetch" href="/notebook/assets/collect.html-BYlvjIpa.js" as="script"><link rel="prefetch" href="/notebook/assets/concurrency.html-CEsDdkXR.js" as="script"><link rel="prefetch" href="/notebook/assets/jvm.html-CMTtvSzr.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-aofzcqMR.js" as="script"><link rel="prefetch" href="/notebook/assets/es.html-DQLDXQOO.js" as="script"><link rel="prefetch" href="/notebook/assets/rocketmq.html-BXd_tULO.js" as="script"><link rel="prefetch" href="/notebook/assets/sys.html-qSPo3-om.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DkOBBXK1.js" as="script"><link rel="prefetch" href="/notebook/assets/RabbitMQ.html-C074leyn.js" as="script"><link rel="prefetch" href="/notebook/assets/RockMQ.html-CzN6IGWW.js" as="script"><link rel="prefetch" href="/notebook/assets/Sentinel.html-DGJupQwm.js" as="script"><link rel="prefetch" href="/notebook/assets/dubbo.html-HCcWq8o-.js" as="script"><link rel="prefetch" href="/notebook/assets/es.html-DNo-BLIK.js" as="script"><link rel="prefetch" href="/notebook/assets/eureka.html-D_cric9F.js" as="script"><link rel="prefetch" href="/notebook/assets/gateway.html-CNDG5o32.js" as="script"><link rel="prefetch" href="/notebook/assets/hystrix.html-Cb_BMwgq.js" as="script"><link rel="prefetch" href="/notebook/assets/kafka.html-SXe6_c9h.js" as="script"><link rel="prefetch" href="/notebook/assets/nacos.html-BDMBMiIU.js" as="script"><link rel="prefetch" href="/notebook/assets/zookeeper.html-CaFt8vDi.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-7ORezkSr.js" as="script"><link rel="prefetch" href="/notebook/assets/cron.html-Cb4IEvoQ.js" as="script"><link rel="prefetch" href="/notebook/assets/db.html-hFWQ0RXm.js" as="script"><link rel="prefetch" href="/notebook/assets/dup.html-DJT5U1K0.js" as="script"><link rel="prefetch" href="/notebook/assets/lock.html-Cd6HxvJT.js" as="script"><link rel="prefetch" href="/notebook/assets/redis.html-CeU-KQ9C.js" as="script"><link rel="prefetch" href="/notebook/assets/transac.html-p_Yq0D1I.js" as="script"><link rel="prefetch" href="/notebook/assets/walk.html-BNoy0tYX.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DVr64uVm.js" as="script"><link rel="prefetch" href="/notebook/assets/numpy.html-CNQp_87S.js" as="script"><link rel="prefetch" href="/notebook/assets/pandas.html-BEMzsvL_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bkwoqf9D.js" as="script"><link rel="prefetch" href="/notebook/assets/css.html-DOdGVu2i.js" as="script"><link rel="prefetch" href="/notebook/assets/css2.html-DK0Ctbcs.js" as="script"><link rel="prefetch" href="/notebook/assets/css3.html-DkPPC4qv.js" as="script"><link rel="prefetch" href="/notebook/assets/css4.html-BrPfeD_n.js" as="script"><link rel="prefetch" href="/notebook/assets/html.html-B5MSW3a5.js" as="script"><link rel="prefetch" href="/notebook/assets/html5.html-BQ6XjW2J.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CpnFDv4J.js" as="script"><link rel="prefetch" href="/notebook/assets/dom.html-SaS6ICeh.js" as="script"><link rel="prefetch" href="/notebook/assets/es6.html-9906yKaB.js" as="script"><link rel="prefetch" href="/notebook/assets/js.html-pCDVN6gY.js" as="script"><link rel="prefetch" href="/notebook/assets/js2.html-_Egox7Mm.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-j1tAoWUO.js" as="script"><link rel="prefetch" href="/notebook/assets/ts.html-DEiAGvbX.js" as="script"><link rel="prefetch" href="/notebook/assets/ts2.html-v8rhw3Xx.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C46rySrs.js" as="script"><link rel="prefetch" href="/notebook/assets/react.html-BSu6HBAw.js" as="script"><link rel="prefetch" href="/notebook/assets/ui.html-BDr2aiNl.js" as="script"><link rel="prefetch" href="/notebook/assets/vue.html-BOYzoQ7X.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CX3WQcRu.js" as="script"><link rel="prefetch" href="/notebook/assets/backend.html-5FVnlhM2.js" as="script"><link rel="prefetch" href="/notebook/assets/nestjs.html-4CfNsire.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CDof4ltI.js" as="script"><link rel="prefetch" href="/notebook/assets/build.html-D2CaEmKv.js" as="script"><link rel="prefetch" href="/notebook/assets/format.html-CPYWH80K.js" as="script"><link rel="prefetch" href="/notebook/assets/node.html-bn-VjCVQ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cze0-xYe.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CMhWwCqL.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BFpiDjp2.js" as="script"><link rel="prefetch" href="/notebook/assets/baz.html-DutHidA_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DcbvcRBe.js" as="script"><link rel="prefetch" href="/notebook/assets/ray.html-B1esEf5V.js" as="script"><link rel="prefetch" href="/notebook/assets/404.html-C5Uveoeg.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-92GTlWoy.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DKAoK3A2.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DX_Acgoo.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BVmcY_BZ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DBpnTJ4-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BXxuaQS6.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-gZXaXAn_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-1w5FQ-0x.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C1i-wlQ8.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BmVpTH83.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DocyGoQv.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CpN23kD3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C2GGXHgr.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D82C5Nir.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CA2bmXIN.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B5WN79fj.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CDCNXmv-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CD_da-2Q.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DkCNNau-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-4-JCMrda.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DafNWKXQ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Ch4B58iL.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C4V7uh-A.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CgLe1C6X.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CmrT1cI3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CzO56M2y.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CAEyeojx.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DohBh5V8.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Drt5Dn1p.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Dp86MmSX.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-COOYNHpU.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CaoGZCV-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-_0WN_uA_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B2Ixz56U.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-C5ybcDJ8.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CRQ5bHrH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-7xE1f1zk.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-McS48_sH.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-jMC8JCiM.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BoUwVFFK.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Crd0hbVV.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BJrThEfd.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CbwJlURl.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-aJiIk7LA.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BWok5ydW.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CWFYwNyP.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-c_4JND0q.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BvkT-77J.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CqOo0mQE.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DOHBkvDT.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CDi0bqK_.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BEXWtp9i.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DvDDnFHA.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-larWdhe2.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-COSHXG-g.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CxsfoKI8.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BG_JzZg3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B6QrHdG4.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-gpOi8ltX.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B94L9MG5.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bw2IaAjw.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-pMu93to-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BaAqrEUN.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-avQ-CXCO.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CD2IdySW.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-7G_H4ky2.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CSKGyUOA.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BZpZ9h4L.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bb7udid5.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-CV39-qAl.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BUWdIl-3.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-B-jUvK9J.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DDfEoK8y.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-uea3M0AZ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DiwO-rtY.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-BIc6_KZG.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-apXwYFNv.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-DL-lFhBZ.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Bqe52pIe.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Droo0Ie9.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-iU8h5X_s.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D9z92CD-.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-Cfv41peT.js" as="script"><link rel="prefetch" href="/notebook/assets/index.html-D6jtNIdN.js" as="script"><link rel="prefetch" href="/notebook/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/notebook/assets/mermaid.core-USbE_a9R.js" as="script"><link rel="prefetch" href="/notebook/assets/photoswipe.esm-DXWKOczD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/notebook/"><img class="vp-nav-logo" src="/notebook/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">doc</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/notebook/AI/" aria-label="  AI  "><!--[--><span class="font-icon icon iconfont icon-ai-robot" style=""></span><!--]-->  AI  <!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Java"><!--[--><span class="font-icon icon iconfont icon-java" style=""></span>Java<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Javaå¼€å‘çŸ¥è¯†ä½“ç³»</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/base/" aria-label="JavaåŸºç¡€è¯­æ³•å…¥é—¨"><!---->JavaåŸºç¡€è¯­æ³•å…¥é—¨<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/notebook/java/core/" aria-label="Javaè¿›é˜¶åŠæ ¸å¿ƒç‰¹æ€§"><!---->Javaè¿›é˜¶åŠæ ¸å¿ƒç‰¹æ€§<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/frame/" aria-label="JavaWebåŠå¸¸ç”¨æ¡†æ¶"><!---->JavaWebåŠå¸¸ç”¨æ¡†æ¶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/database/" aria-label="æ•°æ®åº“ä¸ORMæ¡†æ¶"><!---->æ•°æ®åº“ä¸ORMæ¡†æ¶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/java/service/" aria-label="åˆ†å¸ƒå¼ä¸å¾®æœåŠ¡æ¶æ„"><!---->åˆ†å¸ƒå¼ä¸å¾®æœåŠ¡æ¶æ„<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Javaé¡¹ç›®åŠè§£å†³æ–¹æ¡ˆ</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/project/base/" aria-label="å¸¸è§å·¥å…·å’Œç¯å¢ƒ"><!---->å¸¸è§å·¥å…·å’Œç¯å¢ƒ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/project/mall/" aria-label="ç”µå•†é¡¹ç›®ç»¼åˆå®è·µ"><!---->ç”µå•†é¡¹ç›®ç»¼åˆå®è·µ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/notebook/project/solution/" aria-label="é¡¹ç›®åœºæ™¯è§£å†³æ–¹æ¡ˆ"><!---->é¡¹ç›®åœºæ™¯è§£å†³æ–¹æ¡ˆ<!----></a></li></ul></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/java/interview/" aria-label="Javaå¸¸è§é¢è¯•é¢˜åˆ†æ"><!--[--><span class="font-icon icon iconfont icon-microservice" style=""></span><!--]-->Javaå¸¸è§é¢è¯•é¢˜åˆ†æ<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Web"><!--[--><span class="font-icon icon iconfont icon-net" style=""></span>Web<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/web/base/" aria-label="å‰ç«¯åŸºç¡€çŸ¥è¯†"><!--[--><span class="font-icon icon iconfont icon-net" style=""></span><!--]-->å‰ç«¯åŸºç¡€çŸ¥è¯†<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/web/core/" aria-label="å¼€å‘æ¡†æ¶å’Œå·¥å…·"><!--[--><span class="font-icon icon iconfont icon-cloud" style=""></span><!--]-->å¼€å‘æ¡†æ¶å’Œå·¥å…·<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/web/security/" aria-label="æ€§èƒ½ä¼˜åŒ–ä¸Webå®‰å…¨"><!--[--><span class="font-icon icon iconfont icon-project" style=""></span><!--]-->æ€§èƒ½ä¼˜åŒ–ä¸Webå®‰å…¨<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Python"><!--[--><span class="font-icon icon iconfont icon-python" style=""></span>Python<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/python/base/" aria-label="å¼€å‘ç¯å¢ƒå’ŒåŸºç¡€è¯­æ³•"><!--[--><span class="font-icon icon iconfont icon-python" style=""></span><!--]-->å¼€å‘ç¯å¢ƒå’ŒåŸºç¡€è¯­æ³•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/python/frame/" aria-label="å¸¸ç”¨åº“å’Œæ¡†æ¶"><!--[--><span class="font-icon icon iconfont icon-app" style=""></span><!--]-->å¸¸ç”¨åº“å’Œæ¡†æ¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/python/image/" aria-label="Pythonå›¾åƒå¤„ç†"><!--[--><span class="font-icon icon iconfont icon-img" style=""></span><!--]-->Pythonå›¾åƒå¤„ç†<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/python/Project/" aria-label="ç›¸å…³é¡¹ç›®åŠåº”ç”¨"><!--[--><span class="font-icon icon iconfont icon-project" style=""></span><!--]-->ç›¸å…³é¡¹ç›®åŠåº”ç”¨<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="C++"><!--[--><span class="font-icon icon iconfont icon-cpp" style=""></span>C++<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/cpp/base/" aria-label="C/C++åŸºç¡€è¯­æ³•å…¥é—¨"><!---->C/C++åŸºç¡€è¯­æ³•å…¥é—¨<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/cpp/ed/" aria-label="å•ç‰‡æœºå’ŒåµŒå…¥å¼å¼€å‘"><!---->å•ç‰‡æœºå’ŒåµŒå…¥å¼å¼€å‘<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Blog"><!--[--><span class="font-icon icon iconfont icon-blog" style=""></span>Blog<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/blog.html" aria-label="Blog HomePage"><!--[--><span class="font-icon icon iconfont icon-home" style=""></span><!--]-->Blog HomePage<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/blog/" aria-label="å¯¼èˆª/æ—¥å¸¸åšå®¢è®°å½•"><!---->å¯¼èˆª/æ—¥å¸¸åšå®¢è®°å½•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/cs/" aria-label="è®¡ç®—æœºç†è®ºåŸºç¡€"><!---->è®¡ç®—æœºç†è®ºåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/java/" aria-label="Java/AIå¼€å‘ç›¸å…³è®°å½•"><!---->Java/AIå¼€å‘ç›¸å…³è®°å½•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/db/" aria-label="æ•°æ®åº“ç›¸å…³åšå®¢"><!---->æ•°æ®åº“ç›¸å…³åšå®¢<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notebook/posts/om/" aria-label="è¿ç»´åŸºç¡€åŠç¯å¢ƒæ­å»º"><!---->è¿ç»´åŸºç¡€åŠç¯å¢ƒæ­å»º<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/ventixy/notebook" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable active"><span class="font-icon icon iconfont icon-java" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/notebook/java/core/" aria-label="Javaè¿›é˜¶åŠæ ¸å¿ƒç‰¹æ€§"><!---->Javaè¿›é˜¶åŠæ ¸å¿ƒç‰¹æ€§<!----></a><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><!----><span class="vp-sidebar-title">æ·±å…¥JAVAè™šæ‹Ÿæœº</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/notebook/java/core/jvm/Jvm%E7%B1%BB%E5%8A%A0%E8%BD%BD.html" aria-label="Jvmç±»åŠ è½½æœºåˆ¶"><!---->Jvmç±»åŠ è½½æœºåˆ¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/jvm/Jvm%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html" aria-label="å†…å­˜ç®¡ç†ä¸åƒåœ¾å›æ”¶"><!---->å†…å­˜ç®¡ç†ä¸åƒåœ¾å›æ”¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/jvm/pt.html" aria-label="JVMæ€§èƒ½è°ƒä¼˜"><!---->JVMæ€§èƒ½è°ƒä¼˜<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/jvm/bytecode.html" aria-label="è™šæ‹Ÿæœºå­—èŠ‚ç "><!---->è™šæ‹Ÿæœºå­—èŠ‚ç <!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">ç½‘ç»œç¼–ç¨‹ä¸é«˜æ€§èƒ½IO</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/io/socket.html" aria-label="Javaç½‘ç»œç¼–ç¨‹"><!---->Javaç½‘ç»œç¼–ç¨‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/io/theory.html" aria-label="IOåº•å±‚åŸç†"><!---->IOåº•å±‚åŸç†<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/io/nio.html" aria-label="Java NIO/AIO"><!---->Java NIO/AIO<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/io/netty.html" aria-label="Nettyæ ¸å¿ƒåŸç†"><!---->Nettyæ ¸å¿ƒåŸç†<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">Javaå¹¶å‘ç¼–ç¨‹</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/thread/thread.html" aria-label="Javaå¤šçº¿ç¨‹åŸºç¡€"><!---->Javaå¤šçº¿ç¨‹åŸºç¡€<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/thread/pool.html" aria-label="Javaçº¿ç¨‹æ± "><!---->Javaçº¿ç¨‹æ± <!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/thread/lock.html" aria-label="çº¿ç¨‹åŒæ­¥ä¸é”æœºåˆ¶"><!---->çº¿ç¨‹åŒæ­¥ä¸é”æœºåˆ¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notebook/java/core/thread/tool.html" aria-label="å¹¶å‘å·¥å…·ç±»"><!---->å¹¶å‘å·¥å…·ç±»<!----></a></li></ul></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Jvmç±»åŠ è½½æœºåˆ¶</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://www.ventix.top" target="_blank" rel="noopener noreferrer">ventixy</a></span><span property="author" content="ventixy"></span></span><!----><span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2025-01-10T15:19:41.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 37 min</span><meta property="timeRequired" content="PT37M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç±»åŠ è½½æœºåˆ¶">ç±»åŠ è½½æœºåˆ¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç±»åŠ è½½è¿‡ç¨‹">ç±»åŠ è½½è¿‡ç¨‹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŠ è½½">åŠ è½½</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#éªŒè¯">éªŒè¯</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‡†å¤‡">å‡†å¤‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è§£æ">è§£æ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åˆå§‹åŒ–">åˆå§‹åŒ–</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#åˆå§‹åŒ–æ—¶æœº">åˆå§‹åŒ–æ—¶æœº</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç±»åŠ è½½å™¨">ç±»åŠ è½½å™¨</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŒäº²å§”æ´¾æ¨¡å‹">åŒäº²å§”æ´¾æ¨¡å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç ´ååŒäº²å§”æ´¾">ç ´ååŒäº²å§”æ´¾</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è‡ªå®šä¹‰ç±»åŠ è½½å™¨">è‡ªå®šä¹‰ç±»åŠ è½½å™¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ¨¡å—åŒ–ç³»ç»Ÿ">æ¨¡å—åŒ–ç³»ç»Ÿ</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h2 id="ç±»åŠ è½½æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#ç±»åŠ è½½æœºåˆ¶"><span>ç±»åŠ è½½æœºåˆ¶</span></a></h2><p>ç±»åŠ è½½æœºåˆ¶æ˜¯æŒ‡Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰å¦‚ä½• <mark>å°†<code>.class</code>æ–‡ä»¶ï¼ˆå®é™…ä¸ºäºŒè¿›åˆ¶å­—èŠ‚æµï¼‰åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶åˆ›å»ºå‡ºå¯¹åº”çš„Classå¯¹è±¡</mark>çš„è¿‡ç¨‹ã€‚è¿™ä¸€è¿‡ç¨‹æ¶‰åŠåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æå’Œåˆå§‹åŒ–äº”ä¸ªé˜¶æ®µã€‚</p><div class="hint-container tip"><p class="hint-container-title">Classæ–‡ä»¶</p><p>â€œClassæ–‡ä»¶â€å¹¶éç‰¹æŒ‡æŸä¸ªå­˜åœ¨äºå…·ä½“ç£ç›˜ä¸­çš„æ–‡ä»¶ï¼Œè€Œåº”å½“æ˜¯ä¸€ä¸²äºŒè¿›åˆ¶å­—èŠ‚æµï¼Œæ— è®ºå…¶ä»¥ä½•ç§å½¢å¼å­˜åœ¨ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç£ç›˜æ–‡ä»¶ã€ç½‘ç»œã€æ•°æ®åº“ã€å†…å­˜æˆ–è€…åŠ¨æ€äº§ç”Ÿç­‰ã€‚</p></div><h2 id="ç±»åŠ è½½è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#ç±»åŠ è½½è¿‡ç¨‹"><span>ç±»åŠ è½½è¿‡ç¨‹</span></a></h2><p>ä¸€ä¸ªç±»å‹ä»è¢«åŠ è½½åˆ°è™šæ‹Ÿæœºå†…å­˜ä¸­å¼€å§‹ï¼Œåˆ°å¸è½½å‡ºå†…å­˜ä¸ºæ­¢ï¼Œå®ƒçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå°†ä¼šç»å†åŠ è½½ï¼ˆLoadingï¼‰ã€éªŒè¯ï¼ˆVerificationï¼‰ã€å‡†å¤‡ï¼ˆPreparationï¼‰ã€è§£æï¼ˆResolutionï¼‰ã€åˆå§‹åŒ–ï¼ˆInitializationï¼‰ã€ä½¿ç”¨ï¼ˆUsingï¼‰å’Œå¸è½½ï¼ˆUnloadingï¼‰ä¸ƒä¸ªé˜¶æ®µï¼Œå…¶ä¸­éªŒè¯ã€å‡†å¤‡ã€è§£æä¸‰ä¸ªéƒ¨åˆ†ç»Ÿç§°ä¸ºè¿æ¥ï¼ˆLinkingï¼‰ã€‚è¿™ä¸ƒä¸ªé˜¶æ®µçš„å‘ç”Ÿé¡ºåºå¦‚å›¾æ‰€ç¤ºï¼š</p><figure><img src="https://image.ventix.top/java/image-20220227162728247.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol><li><p><strong>åŠ è½½</strong>ï¼šæŸ¥æ‰¾å¹¶åŠ è½½ç±»çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œå­˜æ”¾åˆ°æ–¹æ³•åŒºä¸­ã€‚</p></li><li><p><strong>éªŒè¯</strong>ï¼šç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒï¼Œæ²¡æœ‰å®‰å…¨å¨èƒã€‚</p></li><li><p><strong>å‡†å¤‡</strong>ï¼šä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œå¹¶èµ‹äºˆåˆå§‹å€¼ï¼ˆå¦‚intå‹é»˜è®¤ä¸º0ï¼‰ã€‚</p></li><li><p><strong>è§£æ</strong>ï¼šå°†å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨è½¬ä¸ºç›´æ¥å¼•ç”¨ï¼Œä»¥ä¾¿ç›´æ¥å®šä½åˆ°ç±»ã€æ–¹æ³•ã€å­—æ®µç­‰ä¿¡æ¯åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚</p></li><li><p><strong>åˆå§‹åŒ–</strong>ï¼šæ‰§è¡Œç±»çš„é™æ€åˆå§‹åŒ–ä»£ç ï¼ˆå¦‚é™æ€å˜é‡èµ‹å€¼ã€é™æ€ä»£ç å—ï¼‰ï¼Œèµ‹äºˆé™æ€å˜é‡æœ€ç»ˆçš„å€¼ã€‚</p></li></ol><h3 id="åŠ è½½" tabindex="-1"><a class="header-anchor" href="#åŠ è½½"><span>åŠ è½½</span></a></h3><p>åœ¨JVMçš„ç±»åŠ è½½è¿‡ç¨‹ä¸­ï¼ŒåŠ è½½é˜¶æ®µï¼ˆLoadingï¼‰æ˜¯ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œå…¶ä¸»è¦ä»»åŠ¡æ˜¯å°†ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµè¯»å…¥åˆ°å†…å­˜ä¸­ï¼Œå¹¶è½¬æ¢ä¸ºJVMå¯ä»¥å¤„ç†çš„å½¢å¼ã€‚åŠ è½½é˜¶æ®µç”±ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰æ‰§è¡Œï¼Œç±»åŠ è½½å™¨è´Ÿè´£ä»¥ä¸‹ä¸»è¦ä»»åŠ¡ï¼š</p><ol><li><p><strong>è·å–ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ</strong>ï¼šç±»åŠ è½½å™¨éœ€è¦è·å–ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµï¼Œè¿™ä¸ªå­—èŠ‚æµå¯ä»¥æ¥è‡ªä¸åŒçš„æ¥æºï¼Œå¦‚æ–‡ä»¶ç³»ç»Ÿä¸­çš„<code>.class</code>æ–‡ä»¶ã€ç½‘ç»œèµ„æºã€æ•°æ®åº“ç”šè‡³æ˜¯åŠ¨æ€ç”Ÿæˆçš„å­—èŠ‚ç ã€‚åŠ è½½å™¨é€šè¿‡ç±»çš„å…¨é™å®šåï¼ˆä¾‹å¦‚<code>com.example.MyClass</code>ï¼‰æ¥å®šä½å¹¶è·å–ç›¸åº”çš„å­—èŠ‚æµã€‚</p></li><li><p><strong>å°†å­—èŠ‚æµè½¬æ¢ä¸ºæ•°æ®ç»“æ„</strong>ï¼šåŠ è½½å™¨å°†è·å–åˆ°çš„å­—èŠ‚æµè½¬æ¢ä¸ºJVMå¯ä»¥ç†è§£çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šç”Ÿæˆæ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ä¸­çš„ç±»ä¿¡æ¯ç»“æ„ï¼Œä»¥åŠå †ä¸­å¯¹åº”çš„<code>java.lang.Class</code>å¯¹è±¡ã€‚</p></li><li><p><strong>ç”ŸæˆClasså¯¹è±¡</strong>ï¼šåœ¨å †ä¸­åˆ›å»ºä¸€ä¸ª<code>java.lang.Class</code>å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°†ä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„å¤–éƒ¨æ¥å£ï¼Œç”¨äºå°è£…ç±»çš„å…ƒæ•°æ®ä¿¡æ¯å’Œè¿è¡Œæ—¶æ•°æ®ã€‚<code>Class</code>å¯¹è±¡æ˜¯ç¨‹åºä¸JVMç±»æ•°æ®ç»“æ„äº¤äº’çš„ä¸»è¦é€”å¾„ã€‚</p></li></ol><div class="hint-container info"><p class="hint-container-title">æ³¨æ„äº‹é¡¹</p><ol><li><p><strong>ç±»åŠ è½½å™¨çš„å±‚æ¬¡ç»“æ„</strong>ï¼šç±»åŠ è½½è¿‡ç¨‹æ˜¯ç”±ç±»åŠ è½½å™¨å®Œæˆçš„ï¼Œè€Œç±»åŠ è½½å™¨æœ¬èº«å…·æœ‰å±‚æ¬¡ç»“æ„ï¼ŒåŒ…æ‹¬å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆBootstrap ClassLoaderï¼‰ã€æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtension ClassLoaderï¼‰å’Œåº”ç”¨ç±»åŠ è½½å™¨ï¼ˆApplication ClassLoaderï¼‰ã€‚å®ƒä»¬ä¹‹é—´å­˜åœ¨åŒäº²å§”æ´¾æœºåˆ¶ï¼Œè¿™æ„å‘³ç€ç±»åŠ è½½è¯·æ±‚ä¼šå…ˆä¼ é€’ç»™çˆ¶åŠ è½½å™¨ï¼Œå¦‚æœçˆ¶åŠ è½½å™¨æ— æ³•åŠ è½½ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•åŠ è½½ã€‚</p></li><li><p><strong>ç±»çš„å”¯ä¸€æ€§</strong>ï¼šåŒä¸€ä¸ªç±»åŠ è½½å™¨åŠ è½½çš„åŒä¸€ä¸ªç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµï¼Œä¼šè¢«è®¤ä¸ºæ˜¯åŒä¸€ä¸ªç±»ã€‚å³ä½¿äºŒè¿›åˆ¶å­—èŠ‚æµå®Œå…¨ç›¸åŒï¼Œå¦‚æœä½¿ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨åŠ è½½ï¼Œä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯ä¸åŒçš„ç±»ã€‚è¿™æ„å‘³ç€ç±»çš„ç›¸ç­‰æ€§ä¸ä»…ä»…å–å†³äºç±»çš„äºŒè¿›åˆ¶å†…å®¹ï¼Œè¿˜å–å†³äºåŠ è½½å®ƒä»¬çš„ç±»åŠ è½½å™¨ã€‚</p></li><li><p><strong>ç±»çš„å¯è§æ€§</strong>ï¼šç±»åŠ è½½å™¨è¿˜è´Ÿè´£æ§åˆ¶ç±»çš„å¯è§æ€§ï¼Œå³å“ªäº›ç±»å¯¹å“ªäº›ç±»åŠ è½½å™¨æ˜¯å¯è§çš„ã€‚è¿™é€šè¿‡ç±»åŠ è½½å™¨çš„å±‚æ¬¡ç»“æ„å’ŒåŒäº²å§”æ´¾æ¨¡å‹æ¥å®ç°ï¼Œç¡®ä¿äº†ç±»çš„æ­£ç¡®éš”ç¦»å’Œå®‰å…¨åŠ è½½ã€‚</p></li></ol></div><p>åŠ è½½é˜¶æ®µä¸è¿æ¥é˜¶æ®µçš„éƒ¨åˆ†åŠ¨ä½œï¼ˆå¦‚ä¸€éƒ¨åˆ†å­—èŠ‚ç æ–‡ä»¶æ ¼å¼éªŒè¯åŠ¨ä½œï¼‰æ˜¯äº¤å‰è¿›è¡Œçš„ï¼ŒåŠ è½½é˜¶æ®µå°šæœªå®Œæˆï¼Œè¿æ¥é˜¶æ®µå¯èƒ½å·²ç»å¼€å§‹ï¼Œä½†è¿™äº›å¤¹åœ¨åŠ è½½é˜¶æ®µä¹‹ä¸­è¿›è¡Œçš„åŠ¨ä½œï¼Œä»ç„¶å±äºè¿æ¥é˜¶æ®µçš„ä¸€éƒ¨åˆ†ï¼Œè¿™<strong>ä¸¤ä¸ªé˜¶æ®µçš„å¼€å§‹æ—¶é—´</strong>ä»ç„¶ä¿æŒç€å›ºå®šçš„å…ˆåé¡ºåºã€‚</p><h3 id="éªŒè¯" tabindex="-1"><a class="header-anchor" href="#éªŒè¯"><span>éªŒè¯</span></a></h3><p>éªŒè¯ï¼ˆVerificationï¼‰é˜¶æ®µæ˜¯ç±»åŠ è½½è¿‡ç¨‹ä¸­çš„é‡è¦ç¯èŠ‚ï¼Œå…¶ç›®çš„æ˜¯ç¡®ä¿ç±»æ–‡ä»¶çš„å­—èŠ‚ç ç¬¦åˆJavaè™šæ‹Ÿæœºçš„è§„èŒƒï¼Œä¸ä¼šå¯¹JVMé€ æˆå±å®³ï¼Œä¿è¯ç¨‹åºçš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ã€‚éªŒè¯é˜¶æ®µä¸»è¦åˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><p>æ–‡ä»¶æ ¼å¼éªŒè¯ï¼ˆFile Format Verificationï¼‰<br> æ£€æŸ¥è¾“å…¥çš„ç±»æ–‡ä»¶æ˜¯å¦ç¬¦åˆClassæ–‡ä»¶æ ¼å¼çš„è§„èŒƒï¼Œç¡®ä¿å­—èŠ‚æµèƒ½æ­£ç¡®åœ°è§£æå¹¶å­˜å‚¨åˆ°æ–¹æ³•åŒºä¸­ã€‚</p><p><mark><strong>æ–‡ä»¶æ ¼å¼éªŒè¯</strong>æ˜¯åŸºäºäºŒè¿›åˆ¶å­—èŠ‚æµè¿›è¡Œçš„ï¼Œåªæœ‰é€šè¿‡äº†è¿™ä¸ªé˜¶æ®µçš„éªŒè¯ä¹‹åï¼Œè¿™æ®µå­—èŠ‚æµæ‰è¢«å…è®¸è¿›å…¥Javaè™šæ‹Ÿæœºå†…å­˜çš„æ–¹æ³•åŒºä¸­è¿›è¡Œå­˜å‚¨ï¼Œæ‰€ä»¥åé¢çš„ä¸‰ä¸ªéªŒè¯é˜¶æ®µå…¨éƒ¨æ˜¯åŸºäºæ–¹æ³•åŒºçš„å­˜å‚¨ç»“æ„ä¸Šè¿›è¡Œçš„ï¼Œä¸ä¼šå†ç›´æ¥è¯»å–ã€æ“ä½œå­—èŠ‚æµäº†</mark></p></li><li><p>å…ƒæ•°æ®éªŒè¯ï¼ˆMetadata Verificationï¼‰<br> å¯¹å­—èŠ‚ç æè¿°çš„ä¿¡æ¯è¿›è¡Œè¯­ä¹‰åˆ†æï¼Œç¡®ä¿å…¶æè¿°çš„ä¿¡æ¯ç¬¦åˆJavaè¯­è¨€è§„èŒƒã€‚</p></li><li><p>å­—èŠ‚ç éªŒè¯ï¼ˆBytecode Verificationï¼‰<br> ç¡®ä¿ç¨‹åºçš„è¿è¡Œä¸ä¼šå±å®³JVMçš„å®‰å…¨æ€§ï¼Œå¦‚é¿å…æ ˆæº¢å‡ºã€éæ³•çš„ç±»å‹è½¬æ¢ã€ç©ºæŒ‡é’ˆå¼•ç”¨ç­‰é—®é¢˜ã€‚</p></li><li><p>ç¬¦å·å¼•ç”¨éªŒè¯ï¼ˆSymbolic Reference Verificationï¼‰<br> ç¡®ä¿è§£æåŠ¨ä½œèƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œï¼Œå³éªŒè¯ç±»æ–‡ä»¶ä¸­çš„ç¬¦å·å¼•ç”¨ï¼ˆå¦‚ç±»ã€å­—æ®µã€æ–¹æ³•ï¼‰æ˜¯å¦å¯ä»¥æˆåŠŸè½¬æ¢ä¸ºç›´æ¥å¼•ç”¨ã€‚</p></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-123-0" aria-selected="true">æ–‡ä»¶æ ¼å¼éªŒè¯</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-123-1" aria-selected="false">å…ƒæ•°æ®éªŒè¯</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-123-2" aria-selected="false">å­—èŠ‚ç éªŒè¯</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-123-3" aria-selected="false">ç¬¦å·å¼•ç”¨éªŒè¯</button></div><!--[--><div class="vp-code-tab active" id="codetab-123-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">æ–‡ä»¶æ ¼å¼éªŒè¯</div><!--[--><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> é­”æ•°æ˜¯å¦æ­£ç¡®ï¼ˆé€šå¸¸æ˜¯`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">0xCAFEBABE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ï¼‰ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ä¸»æ¬¡ç‰ˆæœ¬å·æ˜¯å¦åœ¨å½“å‰è™šæ‹Ÿæœºçš„å¤„ç†èŒƒå›´ä¹‹å†…ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¸¸é‡æ± ä¸­çš„å¸¸é‡ç±»å‹æ˜¯å¦åˆæ³•ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> è®¿é—®æ ‡å¿—æ˜¯å¦åˆæ³•ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å­—æ®µè¡¨ã€æ–¹æ³•è¡¨ä»¥åŠå±æ€§è¡¨çš„æ¡ç›®æ˜¯å¦æœ‰æ­£ç¡®çš„æ•°ç›®ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å­—æ®µå’Œæ–¹æ³•çš„è®¿é—®æ ‡å¿—æ˜¯å¦æœ‰æ•ˆã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ“ä½œç çš„åˆæ³•æ€§æ£€æŸ¥ï¼Œä¾‹å¦‚ä¸å…è®¸å‡ºç°`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">åé¢è·Ÿæœ‰æ“ä½œæ•°çš„æƒ…å†µã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-123-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">å…ƒæ•°æ®éªŒè¯</div><!--[--><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç±»æ˜¯å¦æœ‰çˆ¶ç±»ï¼ˆé™¤äº†`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">java.lang.Object</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ï¼‰ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç»§æ‰¿é“¾çš„æ­£ç¡®æ€§ï¼Œç¡®ä¿ä¸å­˜åœ¨å¾ªç¯ç»§æ‰¿ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ–¹æ³•å’Œå­—æ®µæ˜¯å¦æœ‰æ­£ç¡®çš„ä¿®é¥°ç¬¦ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ–¹æ³•ç­¾åæ˜¯å¦æ­£ç¡®ï¼Œå¦‚å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹æ˜¯å¦åŒ¹é…ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> çˆ¶ç±»å’Œæ¥å£çš„ç»§æ‰¿ä¸€è‡´æ€§ï¼Œç¡®ä¿å®ç°æ¥å£çš„æ–¹æ³•ç­¾åä¸æ¥å£å£°æ˜çš„ä¸€è‡´ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ„é€ å™¨å’Œæ–¹æ³•çš„å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹æ˜¯å¦æ­£ç¡®ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-123-2" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">å­—èŠ‚ç éªŒè¯</div><!--[--><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ“ä½œæ•°æ ˆçš„æ•°æ®ç±»å‹ä¸æŒ‡ä»¤é›†æ˜¯å¦åŒ¹é…ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç±»ä¸­çš„æ–¹æ³•æ˜¯å¦æœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸å¤„ç†å™¨æ˜¯å¦æ­£ç¡®ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç±»æ˜¯å¦è¯•å›¾è¿åè®¿é—®æ§åˆ¶ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç±»æ˜¯å¦è¯•å›¾æ‰§è¡Œç‰¹æƒæ“ä½œã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç±»ä¸­çš„è¿ç®—æ˜¯å¦ç¬¦åˆç±»å‹å®‰å…¨è§„åˆ™ï¼Œå¦‚å°è¯•å°†`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">long</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">èµ‹å€¼ç»™</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">int</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ç±»å‹å˜é‡ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-123-3" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">ç¬¦å·å¼•ç”¨éªŒè¯</div><!--[--><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç±»æ˜¯å¦å­˜åœ¨ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å­—æ®µæˆ–æ–¹æ³•æ˜¯å¦åœ¨ç±»ä¸­å£°æ˜ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> è®¿é—®æƒé™æ˜¯å¦å…è®¸å½“å‰ç±»è®¿é—®ç›®æ ‡ç±»ã€å­—æ®µæˆ–æ–¹æ³•ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å­—æ®µæˆ–æ–¹æ³•çš„ç±»å‹æ˜¯å¦ä¸å¼•ç”¨ç±»å‹åŒ¹é…ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>è¿™äº›éªŒè¯åŠ¨ä½œç¡®ä¿äº†åŠ è½½åˆ°JVMä¸­çš„ç±»æ–‡ä»¶æ˜¯å®‰å…¨å’Œæœ‰æ•ˆçš„ï¼Œé˜²æ­¢äº†æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯å’Œå®‰å…¨æ¼æ´ã€‚éªŒè¯é˜¶æ®µæ˜¯JVMç±»åŠ è½½è¿‡ç¨‹ä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒåœ¨ç±»è¢«åŠ è½½åç«‹å³æ‰§è¡Œï¼Œæ˜¯ç±»åˆå§‹åŒ–ä¹‹å‰çš„å¿…è¦æ­¥éª¤ã€‚é€šè¿‡è¿™ä¸€ç³»åˆ—çš„æ£€æŸ¥ï¼ŒJVMå¯ä»¥ä¿è¯åŠ è½½çš„ç±»èƒ½å¤Ÿå®‰å…¨åœ°åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œã€‚</p><h3 id="å‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#å‡†å¤‡"><span>å‡†å¤‡</span></a></h3><p>å‡†å¤‡ï¼ˆPreparationï¼‰é˜¶æ®µä¸»è¦è´Ÿè´£<mark>ä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œå¹¶è®¾ç½®é»˜è®¤åˆå§‹å€¼</mark>ã€‚</p><ol><li><p><strong>å†…å­˜åˆ†é…</strong>ï¼šä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ç©ºé—´ã€‚è¿™äº›å˜é‡çš„å†…å­˜é€šå¸¸ä½äºæ–¹æ³•åŒºï¼ˆåœ¨JVMæœ¯è¯­ä¸­ï¼Œæ–¹æ³•åŒºæ˜¯JVMå†…å­˜åŒºåŸŸçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜å‚¨ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ç­‰ï¼‰ã€‚</p></li><li><p><strong>è®¾ç½®é»˜è®¤å€¼</strong>ï¼šä¸ºé™æ€å˜é‡è®¾ç½®é»˜è®¤åˆå§‹å€¼ã€‚ä¾‹å¦‚ï¼Œå¯¹äºæ•´å‹å˜é‡ï¼Œé»˜è®¤å€¼ä¸º0ï¼›å¯¹äºæµ®ç‚¹å‹å˜é‡ï¼Œé»˜è®¤å€¼ä¸º0.0ï¼›å¯¹äºå¸ƒå°”å‹å˜é‡ï¼Œé»˜è®¤å€¼ä¸ºfalseï¼›å¯¹äºå¼•ç”¨ç±»å‹ï¼Œé»˜è®¤å€¼ä¸ºnullã€‚</p></li></ol><div class="hint-container tip"><p class="hint-container-title">æ³¨æ„äº‹é¡¹</p><ol><li><p><strong>ä¸åˆå§‹åŒ–çš„åŒºåˆ«</strong>ï¼šåœ¨å‡†å¤‡é˜¶æ®µè®¾ç½®çš„åˆå§‹å€¼ä»…ä»…æ˜¯å˜é‡çš„é»˜è®¤å€¼ï¼Œè€Œä¸æ˜¯ç¨‹åºå‘˜åœ¨ä»£ç ä¸­æŒ‡å®šçš„åˆå§‹åŒ–å€¼ã€‚åˆå§‹åŒ–é˜¶æ®µä¼šè¦†ç›–è¿™äº›é»˜è®¤å€¼ã€‚</p></li><li><p><strong>å˜é‡ä½œç”¨åŸŸ</strong>ï¼šå‡†å¤‡é˜¶æ®µåªé’ˆå¯¹ç±»çš„é™æ€å˜é‡ï¼Œéé™æ€å˜é‡ï¼ˆå®ä¾‹å˜é‡ï¼‰ä¸åœ¨è¿™ä¸ªé˜¶æ®µåˆ†é…å†…å­˜ï¼Œå®ƒä»¬å°†åœ¨åˆ›å»ºç±»å®ä¾‹æ—¶åˆ†é…ã€‚</p></li><li><p><strong>é™æ€å˜é‡ä¸å®ä¾‹å˜é‡</strong>ï¼šéœ€è¦æ³¨æ„åŒºåˆ†é™æ€å˜é‡å’Œå®ä¾‹å˜é‡çš„åˆå§‹åŒ–æ—¶æœºå’Œæ–¹å¼ã€‚é™æ€å˜é‡åœ¨ç±»åŠ è½½çš„å‡†å¤‡é˜¶æ®µè¢«åˆå§‹åŒ–ï¼Œè€Œå®ä¾‹å˜é‡åˆ™åœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–ã€‚</p></li><li><p><strong>ç±»åŠ è½½é¡ºåº</strong>ï¼šå¦‚æœç±»Aä¾èµ–äºç±»Bçš„é™æ€å˜é‡ï¼Œåˆ™åœ¨ç±»Açš„å‡†å¤‡é˜¶æ®µä¹‹å‰ï¼Œç±»Bå¿…é¡»å·²ç»è¢«å®Œå…¨åŠ è½½å’Œå‡†å¤‡å®Œæ¯•ã€‚è¿™æ˜¯å› ä¸ºé™æ€å˜é‡çš„å¼•ç”¨å¯èƒ½å­˜åœ¨äºç±»Açš„å¸¸é‡æ± ä¸­ï¼ŒJVMéœ€è¦ç¡®ä¿è¿™äº›å¼•ç”¨çš„æœ‰æ•ˆæ€§ã€‚</p></li></ol></div><p>å‡è®¾æœ‰ä¸€ä¸ªç±»<code>Example</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Example</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> staticInt </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> static</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> staticString </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å‡†å¤‡é˜¶æ®µï¼Œ<code>staticInt</code>å’Œ<code>staticString</code>éƒ½å°†è¢«åˆ†é…å†…å­˜ï¼Œå¹¶åˆ†åˆ«è¢«åˆå§‹åŒ–ä¸º0å’Œnullã€‚ä½†æ˜¯ï¼Œå½“<code>Example</code>ç±»è¢«åˆå§‹åŒ–æ—¶ï¼Œ<code>staticInt</code>å°†è¢«è®¾ç½®ä¸º10ï¼Œ<code>staticString</code>å°†è¢«è®¾ç½®ä¸º&quot;Hello&quot;ã€‚</p><h3 id="è§£æ" tabindex="-1"><a class="header-anchor" href="#è§£æ"><span>è§£æ</span></a></h3><p>è§£æï¼ˆResolutionï¼‰çš„ä¸»è¦ä»»åŠ¡æ˜¯<mark>å°†ç±»ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨</mark>ã€‚ç¬¦å·å¼•ç”¨æ˜¯ç¼–è¯‘æœŸé—´äº§ç”Ÿçš„ï¼Œè€Œç›´æ¥å¼•ç”¨åˆ™æ˜¯è¿è¡Œæ—¶å¯ä»¥ç›´æ¥å®šä½åˆ°ç›®æ ‡çš„å¼•ç”¨ï¼Œå¦‚å†…å­˜åœ°å€ã€‚</p><div class="hint-container info"><p class="hint-container-title">ç¬¦å·å¼•ç”¨ä¸ç›´æ¥å¼•ç”¨</p><h4 id="_1-ç¬¦å·å¼•ç”¨-symbolic-references" tabindex="-1"><a class="header-anchor" href="#_1-ç¬¦å·å¼•ç”¨-symbolic-references"><span>1. ç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referencesï¼‰</span></a></h4><p>ç¬¦å·å¼•ç”¨æ˜¯ç¼–è¯‘ç»“æœä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯Classæ–‡ä»¶é‡Œçš„å¸¸é‡æ± è¡¨é‡Œçš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œå®ƒä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ï¼Œç¬¦å·å¯ä»¥æ˜¯ä»»ä½•å½¢å¼çš„å­—é¢é‡ï¼Œåªè¦èƒ½å¤Ÿå”¯ä¸€æ ‡è¯†ç›®æ ‡å³å¯ã€‚</p><p>ç¬¦å·å¼•ç”¨å¯ä»¥åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š</p><ul><li><strong>ç±»å’Œæ¥å£çš„ç¬¦å·å¼•ç”¨</strong>ï¼šå¦‚<code>java/lang/String</code>ï¼Œç”¨äºæè¿°ç±»æˆ–æ¥å£çš„å…¨é™å®šåã€‚</li><li><strong>å­—æ®µçš„ç¬¦å·å¼•ç”¨</strong>ï¼šå¦‚<code>java/lang/String::length</code>ï¼Œç”¨äºæè¿°ç±»çš„å­—æ®µï¼ŒåŒ…æ‹¬å­—æ®µçš„åç§°å’Œæè¿°ç¬¦ã€‚</li><li><strong>æ–¹æ³•å’Œæ„é€ å™¨çš„ç¬¦å·å¼•ç”¨</strong>ï¼šå¦‚<code>java/lang/String::&lt;init&gt;(Ljava/lang/String;)V</code>ï¼Œç”¨äºæè¿°ç±»çš„æ–¹æ³•æˆ–æ„é€ å™¨ï¼ŒåŒ…æ‹¬æ–¹æ³•æˆ–æ„é€ å™¨çš„åç§°ã€å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ã€‚</li></ul><p><strong>ä½œç”¨</strong>ï¼šç¬¦å·å¼•ç”¨åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆï¼Œå®ƒä¸»è¦ç”¨äºæè¿°æºä»£ç ä¸­çš„å„ç§å¼•ç”¨ä¿¡æ¯ï¼Œå¦‚ç±»å¼•ç”¨ã€å­—æ®µå¼•ç”¨å’Œæ–¹æ³•å¼•ç”¨ã€‚ç¬¦å·å¼•ç”¨æ˜¯é™æ€çš„ï¼Œå®ƒåœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šï¼Œä¸ä¼šéšç€ç¨‹åºè¿è¡Œæ—¶ç¯å¢ƒçš„å˜åŒ–è€Œå˜åŒ–ã€‚</p><h4 id="_2-ç›´æ¥å¼•ç”¨-direct-references" tabindex="-1"><a class="header-anchor" href="#_2-ç›´æ¥å¼•ç”¨-direct-references"><span>2. ç›´æ¥å¼•ç”¨ï¼ˆDirect Referencesï¼‰</span></a></h4><p>ç›´æ¥å¼•ç”¨æ˜¯æŒ‡å‘ç›®æ ‡å®ä½“çš„ç›´æ¥æŒ‡é’ˆï¼Œå¦‚å†…å­˜åœ°å€ã€‚å®ƒä¾èµ–äºè™šæ‹Ÿæœºçš„å®ç°ç»†èŠ‚ï¼Œå¯ä»¥æ˜¯ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–æ˜¯ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚</p><p><strong>ä½œç”¨</strong>ï¼šç›´æ¥å¼•ç”¨ç”¨äºåœ¨è¿è¡Œæ—¶å¿«é€Ÿå®šä½åˆ°ç›®æ ‡å®ä½“ã€‚ä¸ç¬¦å·å¼•ç”¨ä¸åŒï¼Œç›´æ¥å¼•ç”¨æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€è§£æå‡ºæ¥çš„ï¼Œå®ƒä¸ç¨‹åºè¿è¡Œæ—¶çš„ç¯å¢ƒå¯†åˆ‡ç›¸å…³ã€‚</p><p>ç¬¦å·å¼•ç”¨åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆï¼Œç”¨äºæè¿°ç±»ã€å­—æ®µå’Œæ–¹æ³•çš„å¼•ç”¨ä¿¡æ¯ï¼›è€Œç›´æ¥å¼•ç”¨åœ¨è¿è¡Œæ—¶è§£æï¼Œç”¨äºå¿«é€Ÿå®šä½å’Œè®¿é—®å®ä½“ã€‚</p></div><p><strong>è§£æé˜¶æ®µçš„å¤„ç†å†…å®¹</strong>:</p><ol><li><p><strong>ç¬¦å·å¼•ç”¨è½¬ç›´æ¥å¼•ç”¨</strong>ï¼šå°†ç±»ã€å­—æ®µã€æ–¹æ³•å’Œæ„é€ å™¨çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨ã€‚ç¬¦å·å¼•ç”¨æ˜¯ç±»æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²æè¿°ï¼Œæ¯”å¦‚ç±»åã€æ–¹æ³•åå’Œå­—æ®µåã€‚ç›´æ¥å¼•ç”¨åˆ™æ˜¯æŒ‡å‘å†…å­˜ä¸­æ•°æ®çš„æŒ‡é’ˆã€åç§»é‡æˆ–é—´æ¥å®šä½æŒ‡ä»¤ã€‚</p></li><li><p><strong>æ–¹æ³•è§£æ</strong>ï¼šè§£æé™æ€æ–¹æ³•å’Œç§æœ‰æ–¹æ³•ï¼Œå› ä¸ºè¿™äº›æ–¹æ³•çš„è°ƒç”¨åœ¨ç¼–è¯‘æœŸå°±å¯ä»¥ç¡®å®šï¼Œä¸éœ€è¦åœ¨è¿è¡Œæ—¶æŸ¥æ‰¾ã€‚</p></li><li><p><strong>å­—æ®µè§£æ</strong>ï¼šè§£æç±»çš„é™æ€å­—æ®µå’Œå®ä¾‹å­—æ®µï¼Œç¡®ä¿å¯¹å­—æ®µçš„å¼•ç”¨èƒ½å¤Ÿç›´æ¥å®šä½åˆ°å…·ä½“çš„æ•°æ®ä½ç½®ã€‚</p></li><li><p><strong>æ¥å£è§£æ</strong>ï¼šå¦‚æœç±»å®ç°äº†æ¥å£ï¼Œè§£æé˜¶æ®µä¼šç¡®å®šæ¥å£ä¸­å£°æ˜çš„æ‰€æœ‰æ–¹æ³•çš„å®é™…å®ç°ã€‚</p></li></ol><div class="hint-container tip"><p class="hint-container-title">æ³¨æ„äº‹é¡¹</p><ol><li><p><strong>è§£ææ—¶æœº</strong>ï¼šè§£æé˜¶æ®µå¹¶ä¸ä¸€å®šåœ¨ç±»çš„åˆå§‹åŒ–é˜¶æ®µä¹‹å‰å®Œæˆï¼Œå®ƒå¯ä»¥å»¶è¿Ÿåˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨åˆ°æŸä¸ªç±»ã€å­—æ®µã€æ–¹æ³•æˆ–è€…æ„é€ å™¨çš„æ—¶å€™ã€‚è¿™ç§å»¶è¿Ÿè§£æçš„ç­–ç•¥æœ‰åŠ©äºå‡å°‘ç±»åŠ è½½çš„å¼€é”€ã€‚</p></li><li><p><strong>æ–¹æ³•è§£æçš„åŒºåˆ«</strong>ï¼šé™æ€æ–¹æ³•å’Œç§æœ‰æ–¹æ³•åœ¨è§£æé˜¶æ®µå°±ä¼šè¢«è§£æï¼Œå› ä¸ºå®ƒä»¬çš„è°ƒç”¨åœ¨ç¼–è¯‘æœŸé—´å°±å¯ä»¥ç¡®å®šã€‚è€Œè™šæ–¹æ³•ï¼ˆå³å®ä¾‹æ–¹æ³•ï¼‰å’Œæ¥å£æ–¹æ³•çš„è§£æåˆ™ä¼šåœ¨è¿è¡Œæ—¶åŠ¨æ€è§£æï¼Œä»¥æ”¯æŒåŠ¨æ€ç»‘å®šå’Œå¤šæ€æ€§ã€‚</p></li><li><p><strong>æ¥å£æ–¹æ³•è§£æ</strong>ï¼šå¦‚æœä¸€ä¸ªç±»å®ç°äº†å¤šä¸ªæ¥å£ï¼Œä¸”è¿™äº›æ¥å£ä¸­æœ‰åŒåæ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨è§£æé˜¶æ®µï¼ŒJVMä¼šæ ¹æ®å®ç°é¡ºåºé€‰æ‹©ç¬¬ä¸€ä¸ªæ¥å£ä¸­çš„æ–¹æ³•ä½œä¸ºè§£æç»“æœã€‚</p></li><li><p><strong>å¼‚å¸¸æƒ…å†µ</strong>ï¼šå¦‚æœåœ¨è§£æé˜¶æ®µé‡åˆ°é—®é¢˜ï¼Œå¦‚æ‰¾ä¸åˆ°å¼•ç”¨çš„ç›®æ ‡ï¼ŒJVMä¼šæŠ›å‡º<code>IncompatibleClassChangeError</code>ã€<code>NoSuchFieldError</code>æˆ–<code>NoSuchMethodError</code>ç­‰å¼‚å¸¸ã€‚</p></li><li><p><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šè§£æé˜¶æ®µçš„å»¶è¿Ÿæ‰§è¡Œå¯ä»¥æé«˜JVMçš„å¯åŠ¨é€Ÿåº¦ï¼Œå› ä¸ºå®ƒå‡å°‘äº†å¯åŠ¨æ—¶çš„è§£æå·¥ä½œé‡ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿå¯èƒ½å¯¼è‡´åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶é‡åˆ°è§£æå¤±è´¥çš„å¼‚å¸¸ï¼Œå¢åŠ äº†è°ƒè¯•éš¾åº¦ã€‚</p></li></ol></div><p>è§£æé˜¶æ®µæ˜¯ç±»åŠ è½½è¿‡ç¨‹ä¸­çš„æœ€åä¸€ä¸ªæ­£å¼é˜¶æ®µï¼Œä½†å¹¶ä¸æ€»æ˜¯å‘ç”Ÿï¼Œå…·ä½“å–å†³äºç±»çš„å…·ä½“ä½¿ç”¨æƒ…å†µã€‚è§£æé˜¶æ®µçš„çµæ´»æ‰§è¡Œå’Œå»¶è¿Ÿç­–ç•¥æ˜¯JVMè®¾è®¡ä¸­çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå®ƒå¹³è¡¡äº†ç±»åŠ è½½çš„é€Ÿåº¦å’ŒåŠ¨æ€æ€§ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒäº†Javaè¯­è¨€çš„æ ¸å¿ƒç‰¹æ€§ï¼Œå¦‚å¤šæ€å’ŒåŠ¨æ€ç»‘å®šã€‚</p><h3 id="åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–"><span>åˆå§‹åŒ–</span></a></h3><p>åˆå§‹åŒ–é˜¶æ®µæ˜¯ç±»åŠ è½½è¿‡ç¨‹çš„æœ€åä¸€ä¸ªæ­¥éª¤ï¼Œä¹Ÿæ˜¯ç±»ä»è¢«åŠ¨çŠ¶æ€è½¬å˜ä¸ºä¸»åŠ¨çŠ¶æ€çš„å…³é”®æ—¶åˆ»ã€‚åœ¨è¿™ä¸ªé˜¶æ®µ JVM ä¸»è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ol><li><p><strong>æ‰§è¡Œé™æ€åˆå§‹åŒ–å™¨</strong>ï¼šJVM æ‰§è¡Œç±»ä¸­çš„é™æ€åˆå§‹åŒ–å—ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚é™æ€åˆå§‹åŒ–å—æ˜¯è¢«<code>static</code>å…³é”®å­—ä¿®é¥°çš„ä»£ç å—ï¼Œå…¶è¯­æ³•å½¢å¼ä¸º <code>{ ... }</code>ï¼Œä½äºç±»ä½“å†…éƒ¨ã€‚è¿™äº›åˆå§‹åŒ–å—åœ¨ç±»çš„ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æ‰§è¡Œï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚</p></li><li><p><strong>åˆå§‹åŒ–é™æ€å˜é‡</strong>ï¼šç±»çš„æ‰€æœ‰é™æ€å˜é‡è¢«èµ‹äºˆå…¶åˆå§‹å€¼æˆ–é»˜è®¤å€¼ï¼ˆå¦‚æœæœªæ˜¾å¼åˆå§‹åŒ–ï¼‰ã€‚åˆå§‹åŒ–é¡ºåºéµå¾ªä»£ç ä¸­å£°æ˜çš„é¡ºåºã€‚</p></li></ol><p>åˆå§‹åŒ–é˜¶æ®µå°±æ˜¯æ‰§è¡Œç±»æ„é€ å™¨ <code>&lt;clinit&gt;()</code> æ–¹æ³•çš„è¿‡ç¨‹, <code>&lt;clinit&gt;()</code> æ–¹æ³•åŒ…å«äº†æ‰€æœ‰é™æ€åˆå§‹åŒ–å—å’Œå¯¹é™æ€å˜é‡èµ‹å€¼è¯­å¥çš„å­—èŠ‚ç ã€‚è¯¥æ–¹æ³•åœ¨ç±»çš„é¦–æ¬¡ä½¿ç”¨æ—¶è°ƒç”¨ï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚</p><div class="hint-container info"><p class="hint-container-title">clinit æ–¹æ³•</p><ul><li><p><strong>ç”ŸæˆåŸåˆ™</strong>ï¼šæ¯å½“ç±»ä¸­æœ‰é™æ€å˜é‡åˆå§‹åŒ–æˆ–é™æ€åˆå§‹åŒ–å—æ—¶ï¼ŒJVM éƒ½ä¼šè‡ªåŠ¨ä¸ºè¯¥ç±»ç”Ÿæˆä¸€ä¸ªåä¸º<code>&lt;clinit&gt;()</code>çš„æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰ä¸Šè¿°å…ƒç´ ï¼Œ<code>&lt;clinit&gt;()</code>æ–¹æ³•åˆ™ä¸ä¼šç”Ÿæˆã€‚</p></li><li><p><strong>è°ƒç”¨æ—¶æœº</strong>ï¼š<code>&lt;clinit&gt;()</code>æ–¹æ³•åœ¨ç±»çš„é¦–æ¬¡ä½¿ç”¨æ—¶ç”± JVM è°ƒç”¨ï¼Œä¾‹å¦‚ï¼š</p><ul><li>åˆ›å»ºç±»çš„å®ä¾‹ã€‚</li><li>è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•ã€‚</li><li>è®¿é—®æˆ–ä¿®æ”¹ç±»çš„é™æ€å­—æ®µã€‚</li><li>åå°„ï¼ˆ<code>Class.forName(&quot;fully_qualified_name&quot;).newInstance()</code>ï¼‰ã€‚</li></ul></li><li><p><strong>æ‰§è¡Œé¡ºåº</strong>ï¼š<code>&lt;clinit&gt;()</code>æ–¹æ³•çš„æ‰§è¡Œé¡ºåºéµå¾ªå…¶åœ¨å­—èŠ‚ç ä¸­çš„é¡ºåºï¼Œå…ˆçˆ¶ç±»åå­ç±»ï¼Œå…ˆè¶…ç±»åå­ç±»ã€‚è¿™æ„å‘³ç€å­ç±»çš„<code>&lt;clinit&gt;()</code>æ–¹æ³•ä¼šåœ¨çˆ¶ç±»çš„<code>&lt;clinit&gt;()</code>æ–¹æ³•ä¹‹åæ‰§è¡Œã€‚</p></li></ul></div><p><strong>é™æ€è¯­å¥å—ä¸­åªèƒ½è®¿é—®åˆ°å®šä¹‰åœ¨é™æ€è¯­å¥å—ä¹‹å‰çš„å˜é‡</strong>ï¼Œå› ä¸ºç¼–è¯‘å™¨æ”¶é›†çš„é¡ºåºæ˜¯ç”±è¯­å¥åœ¨æºæ–‡ä»¶ä¸­å‡ºç°çš„é¡ºåºå†³å®šçš„ï¼Œå®šä¹‰åœ¨å®ƒä¹‹åçš„å˜é‡ï¼Œåœ¨å‰é¢çš„é™æ€è¯­å¥å—å¯ä»¥èµ‹å€¼ä½†æ˜¯ä¸èƒ½è®¿é—®ï¼Œå‚ç…§ä¸‹ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> var1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å£°æ˜å¹¶åˆå§‹åŒ–</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    static</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Static block 1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        var1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // ä¿®æ”¹ var1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        var2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // ç»™ var2 èµ‹å€¼ï¼Œä½†ä¸èƒ½è®¿é—®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> var2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å£°æ˜ï¼Œä½†æœªåˆå§‹åŒ–</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    static</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Static block 2&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(var1);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å¯ä»¥è®¿é—® var1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(var2);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å¯ä»¥è®¿é—® var2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>var2</code> åœ¨ç¬¬ä¸€ä¸ªé™æ€åˆå§‹åŒ–å—ä¹‹åè¢«å£°æ˜ï¼Œæ‰€ä»¥è¿™ä¸ªåˆå§‹åŒ–å—å¯ä»¥ç»™ <code>var2</code> èµ‹å€¼ï¼Œä½†æ˜¯ä¸èƒ½è®¿é—®å®ƒï¼ˆå› ä¸º <code>var2</code> è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼‰ã€‚</p><h2 id="åˆå§‹åŒ–æ—¶æœº" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–æ—¶æœº"><span>åˆå§‹åŒ–æ—¶æœº</span></a></h2><p>åœ¨ Java ä¸­ï¼Œç±»çš„åŠ è½½å’Œåˆå§‹åŒ–æ˜¯ç”± Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰è‡ªåŠ¨ç®¡ç†çš„ã€‚ç±»åŠ è½½å’Œåˆå§‹åŒ–çš„è¿‡ç¨‹å¹¶éåœ¨ç¨‹åºå¯åŠ¨æ—¶ä¸€æ¬¡æ€§å®Œæˆï¼Œè€Œæ˜¯<strong>æŒ‰éœ€è¿›è¡Œ</strong>çš„ï¼Œå³åœ¨<mark>ç±»è¢«é¦–æ¬¡ä¸»åŠ¨ä½¿ç”¨æ—¶æ‰è§¦å‘ç±»åŠ è½½</mark>ã€‚è¿™ç§æŒ‰éœ€åŠ è½½çš„æœºåˆ¶æœ‰åŠ©äºæé«˜åº”ç”¨ç¨‹åºçš„å¯åŠ¨é€Ÿåº¦å’Œè¿è¡Œæ•ˆç‡ã€‚</p><p>ç±»çš„åŠ è½½å’Œåˆå§‹åŒ–è¿‡ç¨‹æ˜¯ç”±ç‰¹å®šçš„äº‹ä»¶é©±åŠ¨çš„ï¼Œè¿™äº›äº‹ä»¶å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šè¢«åŠ¨å¼•ç”¨ï¼ˆPassive Useï¼‰å’Œä¸»åŠ¨å¼•ç”¨ï¼ˆActive Useï¼‰ã€‚</p><div class="hint-container info"><p class="hint-container-title">åˆå§‹åŒ–æ—¶æœº / ä¸»åŠ¨å¼•ç”¨ï¼ˆActive Useï¼‰</p><p>ä¸»åŠ¨å¼•ç”¨æ˜¯æŒ‡é‚£äº›ä¼šå¯¼è‡´ç±»è¢«å®Œå…¨åŠ è½½å’Œåˆå§‹åŒ–çš„ç±»å¼•ç”¨è¡Œä¸ºã€‚ä¸»åŠ¨å¼•ç”¨ä¼šè§¦å‘ç±»çš„<code>&lt;clinit&gt;()</code>æ–¹æ³•æ‰§è¡Œï¼Œå®Œæˆé™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–å’Œé™æ€åˆå§‹åŒ–å—çš„æ‰§è¡Œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ä¸»åŠ¨å¼•ç”¨åœºæ™¯ï¼š</p><h4 id="_1-åˆ›å»ºç±»çš„å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_1-åˆ›å»ºç±»çš„å®ä¾‹"><span>1. <strong>åˆ›å»ºç±»çš„å®ä¾‹</strong></span></a></h4><p>å½“ä½ ä½¿ç”¨<code>new</code>å…³é”®å­—åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹æ—¶ï¼ŒJVM å°†ä¼šåŠ è½½å¹¶åˆå§‹åŒ–è¯¥ç±»ã€‚</p><h4 id="_2-è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_2-è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•"><span>2. <strong>è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•</strong></span></a></h4><p>å¦‚æœè°ƒç”¨äº†ç±»çš„é™æ€æ–¹æ³•ï¼Œå³ä½¿æ²¡æœ‰åˆ›å»ºè¯¥ç±»çš„å®ä¾‹ï¼ŒJVM ä¹Ÿä¼šåŠ è½½å¹¶åˆå§‹åŒ–è¿™ä¸ªç±»ã€‚ä¾‹å¦‚ï¼š<code>MyClass.staticMethod();</code></p><h4 id="_3-è®¿é—®æˆ–ä¿®æ”¹ç±»çš„é™æ€å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_3-è®¿é—®æˆ–ä¿®æ”¹ç±»çš„é™æ€å­—æ®µ"><span>3. <strong>è®¿é—®æˆ–ä¿®æ”¹ç±»çš„é™æ€å­—æ®µ</strong></span></a></h4><p>å½“ä½ çš„ä»£ç è®¿é—®æˆ–ä¿®æ”¹ä¸€ä¸ªç±»çš„é™æ€å­—æ®µæ—¶ï¼ŒJVM ä¼šåŠ è½½å¹¶åˆå§‹åŒ–è¿™ä¸ªç±»ã€‚ä¾‹å¦‚ï¼š<code>MyClass.staticField</code></p><h4 id="_4-åå°„è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#_4-åå°„è°ƒç”¨"><span>4. <strong>åå°„è°ƒç”¨</strong></span></a></h4><p>ä½¿ç”¨åå°„ APIï¼ˆå¦‚<code>Class.newInstance()</code>æˆ–<code>Method.invoke()</code>ç­‰ï¼‰åˆ›å»ºç±»çš„å®ä¾‹ï¼Œè°ƒç”¨ç±»çš„é™æ€æ–¹æ³•åŠå…¶ä»–éé™æ€å˜é‡å’Œæ–¹æ³•çš„ä½¿ç”¨ï¼Œä¹Ÿä¼šè§¦å‘ç±»çš„åŠ è½½å’Œåˆå§‹åŒ–ã€‚</p><h4 id="_5-åˆå§‹åŒ–ä¸€ä¸ªç±»çš„å­ç±»" tabindex="-1"><a class="header-anchor" href="#_5-åˆå§‹åŒ–ä¸€ä¸ªç±»çš„å­ç±»"><span>5. <strong>åˆå§‹åŒ–ä¸€ä¸ªç±»çš„å­ç±»</strong></span></a></h4><p>å½“ä½ åˆå§‹åŒ–ä¸€ä¸ªç±»çš„å­ç±»æ—¶ï¼ŒJVM ä¹Ÿä¼šåŠ è½½å¹¶åˆå§‹åŒ–å…¶çˆ¶ç±»ã€‚è¿™æ˜¯å› ä¸ºå­ç±»çš„åˆå§‹åŒ–å¯èƒ½ä¾èµ–äºçˆ¶ç±»çš„çŠ¶æ€ã€‚</p><h4 id="_6-jitç¼–è¯‘éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_6-jitç¼–è¯‘éœ€æ±‚"><span>6. JITç¼–è¯‘éœ€æ±‚</span></a></h4><p>è™½ç„¶è¾ƒä¸ºå°‘è§ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒJIT ç¼–è¯‘å™¨çš„ä¼˜åŒ–å¯èƒ½éœ€è¦ç±»çš„åˆå§‹åŒ–ã€‚</p></div><p>è¢«åŠ¨å¼•ç”¨å’Œä¸»åŠ¨å¼•ç”¨æ˜¯ Java ç±»åŠ è½½è¿‡ç¨‹ä¸­çš„ä¸¤ç§å…³é”®è¡Œä¸ºã€‚<mark>ä¸»åŠ¨å¼•ç”¨ä¼šè§¦å‘ç±»çš„å®Œå…¨åŠ è½½å’Œåˆå§‹åŒ–ï¼Œè€Œè¢«åŠ¨å¼•ç”¨ä»…åŠ è½½ç±»è€Œä¸æ‰§è¡Œåˆå§‹åŒ–</mark>ã€‚</p><div class="hint-container info"><p class="hint-container-title">è¢«åŠ¨å¼•ç”¨ï¼ˆPassive Useï¼‰</p><p>è¢«åŠ¨å¼•ç”¨æŒ‡çš„æ˜¯é‚£äº›ä¸ä¼šè§¦å‘ç±»çš„åˆå§‹åŒ–ï¼ˆå³æ‰§è¡Œ<code>&lt;clinit&gt;()</code>æ–¹æ³•ï¼‰çš„ç±»å¼•ç”¨è¡Œä¸ºã€‚åœ¨è¢«åŠ¨å¼•ç”¨ä¸­ï¼Œç±»è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä½†å…¶é™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–å’Œé™æ€åˆå§‹åŒ–å—ä¸ä¼šè¢«æ‰§è¡Œã€‚ä»¥ä¸‹æ˜¯å‡ ç§å…¸å‹çš„è¢«åŠ¨å¼•ç”¨åœºæ™¯ï¼š</p><h4 id="_1-é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_1-é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µ"><span>1. <strong>é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µ</strong>ï¼š</span></a></h4><p>å½“ä½ é€šè¿‡å­ç±»å»å¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µæ—¶ï¼Œçˆ¶ç±»ä¼šè¢«åŠ è½½å’Œåˆå§‹åŒ–ï¼Œä½†å­ç±»åªä¼šè¢«åŠ è½½ï¼Œä¸ä¼šåˆå§‹åŒ–ã€‚è¿™æ˜¯å› ä¸ºå¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µä¸éœ€è¦å­ç±»çš„åˆå§‹åŒ–ã€‚</p><h4 id="_2-åå°„ä¸­ä¸åˆ›å»ºå®ä¾‹æˆ–è®¿é—®é™æ€æˆå‘˜" tabindex="-1"><a class="header-anchor" href="#_2-åå°„ä¸­ä¸åˆ›å»ºå®ä¾‹æˆ–è®¿é—®é™æ€æˆå‘˜"><span>2. <strong>åå°„ä¸­ä¸åˆ›å»ºå®ä¾‹æˆ–è®¿é—®é™æ€æˆå‘˜</strong>ï¼š</span></a></h4><ul><li>ä½¿ç”¨åå°„ APIï¼ˆå¦‚<code>Class.forName()</code>ï¼‰åŠ è½½ç±»ï¼Œè·å–ä¸€äº›åŸºæœ¬çš„å…ƒæ•°æ®åŠå±æ€§æ—¶ï¼Œå¦‚æœä¸è¿›ä¸€æ­¥åˆ›å»ºç±»çš„å®ä¾‹æˆ–è®¿é—®å…¶é™æ€æˆå‘˜ï¼Œç±»ä¼šè¢«åŠ è½½ä½†ä¸ä¼šåˆå§‹åŒ–ã€‚</li></ul><h4 id="_3-è®¿é—®ç±»çš„é™æ€å¸¸é‡-final-static-fields" tabindex="-1"><a class="header-anchor" href="#_3-è®¿é—®ç±»çš„é™æ€å¸¸é‡-final-static-fields"><span>3. <strong>è®¿é—®ç±»çš„é™æ€å¸¸é‡ï¼ˆfinal static fieldsï¼‰</strong>ï¼š</span></a></h4><p>å¦‚æœä¸€ä¸ªé™æ€å­—æ®µè¢«å£°æ˜ä¸º<code>final</code>ä¸”åœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šå…¶å€¼ï¼Œè®¿é—®è¿™æ ·çš„é™æ€å¸¸é‡ä¸ä¼šè§¦å‘ç±»çš„åˆå§‹åŒ–ã€‚è¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨ä¼šå°†å¯¹å¸¸é‡çš„å¼•ç”¨æ›¿æ¢ä¸ºå®é™…çš„å€¼ã€‚</p><h4 id="_4-æ•°ç»„å£°æ˜" tabindex="-1"><a class="header-anchor" href="#_4-æ•°ç»„å£°æ˜"><span>4. <strong>æ•°ç»„å£°æ˜</strong>ï¼š</span></a></h4><p>å£°æ˜ä¸€ä¸ªç±»çš„æ•°ç»„ç±»å‹ï¼Œå¦‚<code>ClassName[] array</code>ï¼Œä¼šåŠ è½½ç±»ä½†ä¸ä¼šåˆå§‹åŒ–ã€‚ç„¶è€Œï¼Œå¦‚æœé€šè¿‡æ•°ç»„çš„<code>length</code>å±æ€§æˆ–<code>clone()</code>æ–¹æ³•è®¿é—®æ•°ç»„ï¼Œè¿™å°†è§¦å‘ç±»çš„åˆå§‹åŒ–ã€‚</p></div><p>ç±»çš„åŠ è½½å’Œåˆå§‹åŒ–æ˜¯ Java åº”ç”¨ç¨‹åºè¿è¡Œæ—¶çš„é‡è¦æœºåˆ¶ï¼Œå®ƒç¡®ä¿äº†ç±»çš„èµ„æºåœ¨é¦–æ¬¡ä½¿ç”¨æ—¶æŒ‰éœ€åŠ è½½ï¼Œæ—¢èŠ‚çœäº†å†…å­˜åˆæé«˜äº†ç¨‹åºçš„å¯åŠ¨é€Ÿåº¦ã€‚ç†è§£ç±»åŠ è½½å’Œåˆå§‹åŒ–çš„è§¦å‘æ—¶æœºå¯¹äºç¼–å†™é«˜æ•ˆã€å¯é çš„ Java ç¨‹åºè‡³å…³é‡è¦ã€‚</p><h2 id="ç±»åŠ è½½å™¨" tabindex="-1"><a class="header-anchor" href="#ç±»åŠ è½½å™¨"><span>ç±»åŠ è½½å™¨</span></a></h2><p>åœ¨ Java ä¸­ï¼Œç±»åŠ è½½å™¨ï¼ˆClass Loaderï¼‰æ˜¯è´Ÿè´£åŠ è½½ Java ç±»åˆ° Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸­çš„ç»„ä»¶ã€‚æ¯ä¸ªç±»åœ¨ JVM ä¸­éƒ½æ˜¯é€šè¿‡ç±»åŠ è½½å™¨åŠ è½½çš„ã€‚ç±»åŠ è½½å™¨åœ¨ Java ä¸­èµ·åˆ°éš”ç¦»ä½œç”¨ï¼Œå¯ä»¥ç¡®ä¿åŠ è½½çš„ç±»æ˜¯æ­£ç¡®çš„ï¼Œå¹¶ä¸”é¿å…ç±»çš„é‡å¤åŠ è½½ã€‚</p><p>è‡ªJDK 1.2ä»¥æ¥ï¼ŒJavaä¸€ç›´ä¿æŒç€<strong>ä¸‰å±‚ç±»åŠ è½½å™¨ã€åŒäº²å§”æ´¾çš„ç±»åŠ è½½æ¶æ„</strong>ï¼Œå°½ç®¡è¿™å¥—æ¶æ„åœ¨Javaæ¨¡å—åŒ–ç³»ç»Ÿå‡ºç°åæœ‰äº†ä¸€äº›è°ƒæ•´å˜åŠ¨ï¼Œä½†ä¾ç„¶æœªæ”¹å˜å…¶ä¸»ä½“ç»“æ„</p><ul><li><strong>å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆBootstrap Class Loaderï¼‰</strong>ï¼šåŠ è½½Javaæ ¸å¿ƒåº“ã€‚</li><li><strong>æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtension Class Loaderï¼‰</strong>ï¼šåŠ è½½æ‰©å±•ç›®å½•ä¸­çš„ç±»åº“ã€‚</li><li><strong>åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆApplication Class Loaderï¼‰</strong>ï¼šåŠ è½½ç”¨æˆ·ç±»è·¯å¾„ä¸‹çš„ç±»ã€‚</li><li><strong>è‡ªå®šä¹‰ç±»åŠ è½½å™¨</strong>ï¼šç”¨æˆ·è‡ªå®šä¹‰ï¼ŒåŠ è½½ç‰¹å®šä½ç½®çš„ç±»ã€‚</li></ul><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>ç«™åœ¨Javaè™šæ‹Ÿæœºçš„è§’åº¦æ¥çœ‹ï¼Œåªå­˜åœ¨ä¸¤ç§ä¸åŒçš„ç±»åŠ è½½å™¨ï¼š</p><ul><li>ä¸€ç§æ˜¯å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆBootstrap ClassLoaderï¼‰ï¼Œè¿™ä¸ªç±»åŠ è½½å™¨ä½¿ç”¨C++è¯­è¨€å®ç°ï¼Œæ˜¯è™šæ‹Ÿæœºè‡ªèº«çš„ä¸€éƒ¨åˆ†ï¼›</li><li>å¦å¤–ä¸€ç§å°±æ˜¯å…¶ä»–æ‰€æœ‰çš„ç±»åŠ è½½å™¨ï¼Œè¿™äº›ç±»åŠ è½½å™¨éƒ½ç”±Javaè¯­è¨€å®ç°ï¼Œç‹¬ç«‹å­˜åœ¨äºè™šæ‹Ÿæœºå¤–éƒ¨ï¼Œå¹¶ä¸”å…¨éƒ½ç»§æ‰¿è‡ªæŠ½è±¡ç±»<code>java.lang.ClassLoader</code>ã€‚</li></ul></div><ol><li><p><strong>å¼•å¯¼ç±»åŠ è½½å™¨ï¼ˆBootstrap Class Loaderï¼‰</strong>ï¼šæ˜¯æœ€é¡¶å±‚çš„ç±»åŠ è½½å™¨ï¼Œè´Ÿè´£åŠ è½½ Java æ ¸å¿ƒç±»åº“ï¼ˆå­˜æ”¾åœ¨ <code>&lt;JAVA_HOME&gt;\lib</code> ç›®å½•ï¼Œæˆ–è€…è¢« <code>-Xbootclasspath</code> å‚æ•°æ‰€æŒ‡å®šçš„è·¯å¾„ä¸­å­˜æ”¾çš„ç±»ï¼Œå¦‚<code>rt.jar</code>ï¼‰ï¼Œå®ƒæ²¡æœ‰çˆ¶ç±»åŠ è½½å™¨ã€‚ï¼ˆ æŒ‰ç…§æ–‡ä»¶åè¯†åˆ«ï¼Œå¦‚rt.jarã€tools.jarï¼Œåå­—ä¸ç¬¦åˆçš„ç±»åº“å³ä½¿æ”¾åœ¨libç›®å½•ä¸­ä¹Ÿä¸ä¼šè¢«åŠ è½½ ï¼‰</p></li><li><p><strong>æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtension Class Loaderï¼‰</strong>ï¼šè´Ÿè´£åŠ è½½<code>/lib/ext</code>ç›®å½•ä¸‹çš„ç±»åº“ï¼Œæˆ–è€…æ˜¯ç”±<code>java.ext.dirs</code>ç³»ç»Ÿå˜é‡æŒ‡å®šçš„ç›®å½•ä¸‹çš„ç±»åº“ã€‚</p></li><li><p><strong>åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆApplication Class Loaderï¼‰</strong>ï¼šä¹Ÿç§°ä¸ºç³»ç»Ÿç±»åŠ è½½å™¨ï¼Œè´Ÿè´£åŠ è½½ç”¨æˆ·åº”ç”¨ç¨‹åºç±»è·¯å¾„ï¼ˆclasspathï¼‰ä¸Šçš„ç±»ã€‚å¦‚æœåº”ç”¨ç¨‹åºä¸­æ²¡æœ‰è‡ªå®šä¹‰è¿‡è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªå°±æ˜¯ç¨‹åºä¸­é»˜è®¤çš„ç±»åŠ è½½å™¨ã€‚</p></li></ol><p>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå¯èƒ½éœ€è¦è‡ªå®šä¹‰ç±»åŠ è½½å™¨ä»¥é€‚åº”ç‰¹å®šéœ€æ±‚ã€‚Java æä¾›äº†<code>java.lang.ClassLoader</code>ç±»ä½œä¸ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„åŸºç¡€ï¼Œå¯ä»¥é€šè¿‡é‡å†™<code>findClass(String name)</code>æ–¹æ³•æ¥å®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½é€»è¾‘ã€‚</p><h3 id="åŒäº²å§”æ´¾æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#åŒäº²å§”æ´¾æ¨¡å‹"><span>åŒäº²å§”æ´¾æ¨¡å‹</span></a></h3><p>åŒäº²å§”æ´¾æ¨¡å‹ï¼ˆParent Delegation Modelï¼‰æ˜¯ Java ç±»åŠ è½½å™¨ä½“ç³»ä¸­çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨äºè§£å†³ç±»çš„å”¯ä¸€æ€§é—®é¢˜ï¼Œå¹¶å¢å¼ºç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<mark>å½“ä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°åŠ è½½ç±»çš„è¯·æ±‚æ—¶ï¼Œé¦–å…ˆä¸ä¼šå°è¯•è‡ªå·±åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œæ˜¯æŠŠç±»åŠ è½½è¯·æ±‚å§”æ‰˜ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œä¾æ¬¡å‘ä¸Šé€’å½’ï¼Œç›´åˆ°é¡¶å±‚çš„å¼•å¯¼ç±»åŠ è½½å™¨ã€‚å¦‚æœçˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½è¿™ä¸ªç±»ï¼Œå­ç±»åŠ è½½å™¨æ‰ä¼šå°è¯•åŠ è½½</mark>ã€‚</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>åŒäº²å§”æ´¾æ¨¡å‹è¦æ±‚é™¤äº†é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨å¤–ï¼Œå…¶ä½™çš„ç±»åŠ è½½å™¨éƒ½åº”æœ‰è‡ªå·±çš„çˆ¶ç±»åŠ è½½å™¨ã€‚ä¸è¿‡è¿™é‡Œç±»åŠ è½½å™¨ä¹‹é—´çš„çˆ¶å­å…³ç³»ä¸€èˆ¬ä¸æ˜¯ä»¥ç»§æ‰¿ï¼ˆInheritanceï¼‰çš„å…³ç³»æ¥å®ç°çš„ï¼Œè€Œæ˜¯é€šå¸¸ä½¿ç”¨ç»„åˆï¼ˆCompositionï¼‰å…³ç³»æ¥å¤ç”¨çˆ¶åŠ è½½å™¨çš„ä»£ç </p></div><p>åŒäº²å§”æ´¾æ¨¡å‹çš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p><ol><li><strong>ç±»çš„å”¯ä¸€æ€§</strong>ï¼šé€šè¿‡åŒäº²å§”æ´¾æ¨¡å‹ï¼Œå¯ä»¥ç¡®ä¿åŠ è½½çš„ç±»åœ¨ Java è™šæ‹Ÿæœºä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œé¿å…äº†ç±»çš„é‡å¤åŠ è½½ï¼Œç¡®ä¿äº†ç±»çš„ä¸€è‡´æ€§ã€‚<br> ä¾‹å¦‚ï¼šObjectç±»ï¼Œå®ƒå­˜æ”¾åœ¨rt.jarä¹‹ä¸­ï¼Œæ— è®ºå“ªä¸€ä¸ªç±»åŠ è½½å™¨è¦åŠ è½½è¿™ä¸ªç±»ï¼Œæœ€ç»ˆéƒ½æ˜¯å§”æ´¾ç»™å¤„äºæ¨¡å‹æœ€é¡¶ç«¯çš„å¯åŠ¨ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½ï¼Œå› æ­¤Objectç±»åœ¨ç¨‹åºçš„å„ç§ç±»åŠ è½½å™¨ç¯å¢ƒä¸­éƒ½èƒ½å¤Ÿä¿è¯æ˜¯åŒä¸€ä¸ªç±»ã€‚</li><li><strong>å®‰å…¨æ€§</strong>ï¼šåŒäº²å§”æ´¾æ¨¡å‹å¢å¼ºäº† Java ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œå› ä¸ºç³»ç»Ÿç±»åº“ç”±é¡¶å±‚çš„å¼•å¯¼ç±»åŠ è½½å™¨åŠ è½½ï¼Œé¿å…äº†ç”¨æˆ·è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨æ›¿æ¢æˆ–ç¯¡æ”¹æ ¸å¿ƒç±»åº“çš„ç±»ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šåŒäº²å§”æ´¾æ¨¡å‹æœ‰åŠ©äºä¿æŒ Java å¹³å°çš„ç¨³å®šï¼Œå› ä¸ºç³»ç»Ÿçš„æ ¸å¿ƒç±»åº“ä¸ä¼šå—åˆ°å¤–éƒ¨ç±»åŠ è½½å™¨çš„å½±å“ã€‚</li></ol><div class="hint-container info"><p class="hint-container-title">åŒäº²å§”æ´¾æ¨¡å‹çš„å·¥ä½œæµç¨‹</p><ol><li><p><strong>åŠ è½½è¯·æ±‚</strong>ï¼šå½“ Java åº”ç”¨ç¨‹åºéœ€è¦åŠ è½½ä¸€ä¸ªç±»æ—¶ï¼ŒåŠ è½½è¯·æ±‚é€šå¸¸ä¼šä»åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨å¼€å§‹ã€‚</p></li><li><p><strong>é€’å½’å§”æ´¾</strong>ï¼šåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ä¼šå°è¯•å°†åŠ è½½è¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œå³æ‰©å±•ç±»åŠ è½½å™¨ã€‚æ‰©å±•ç±»åŠ è½½å™¨åŒæ ·ä¼šå°†è¯·æ±‚å§”æ´¾ç»™å®ƒçš„çˆ¶ç±»åŠ è½½å™¨ï¼Œå³å¼•å¯¼ç±»åŠ è½½å™¨ã€‚</p></li><li><p><strong>åŠ è½½</strong>ï¼šå¦‚æœå¼•å¯¼ç±»åŠ è½½å™¨æ— æ³•åŠ è½½è¯¥ç±»ï¼ŒåŠ è½½è¯·æ±‚ä¼šæ²¿åŸè·¯è¿”å›ï¼Œç”±æ‰©å±•ç±»åŠ è½½å™¨å°è¯•åŠ è½½ã€‚å¦‚æœæ‰©å±•ç±»åŠ è½½å™¨ä¹Ÿæ— æ³•åŠ è½½ï¼Œè¯·æ±‚å°†ä¼ é€’ç»™åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ã€‚</p></li><li><p><strong>æœ€åå°è¯•</strong>ï¼šå¦‚æœæ‰€æœ‰çˆ¶ç±»åŠ è½½å™¨éƒ½æ— æ³•åŠ è½½è¯¥ç±»ï¼Œé‚£ä¹ˆè¯·æ±‚å°†å›åˆ°æœ€åˆçš„ç±»åŠ è½½å™¨ï¼Œç”±å®ƒå°è¯•åŠ è½½è¯¥ç±»ã€‚</p></li></ol></div><p><strong>åŒäº²å§”æ´¾æ¨¡å‹çš„æºç å®ç°</strong>ï¼š</p><p>åŒäº²å§”æ´¾æ¨¡å‹å¯¹äºä¿è¯Javaç¨‹åºçš„ç¨³å®šè¿ä½œæä¸ºé‡è¦ï¼Œä½†å®ƒçš„å®ç°å´å¼‚å¸¸ç®€å•ï¼Œç”¨ä»¥å®ç°åŒäº²å§”æ´¾çš„ä»£ç åªæœ‰çŸ­çŸ­åä½™è¡Œï¼Œå…¨éƒ¨é›†ä¸­åœ¨<code>java.lang.ClassLoader</code> çš„ <code>loadClass()</code> æ–¹æ³•ä¹‹ä¸­</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">protected</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> synchronized</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> loadClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> resolve) </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  throws ClassNotFoundException{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // é¦–å…ˆï¼Œæ£€æŸ¥è¯·æ±‚çš„ç±»æ˜¯å¦å·²ç»è¢«åŠ è½½è¿‡äº†</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Class</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findLoadedClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (parent </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">loadClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(name, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findBootstrapClassOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // å¦‚æœçˆ¶ç±»åŠ è½½å™¨æŠ›å‡ºClassNotFoundException</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // è¯´æ˜çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®ŒæˆåŠ è½½è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // åœ¨çˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½æ—¶</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // å†è°ƒç”¨æœ¬èº«çš„findClassæ–¹æ³•æ¥è¿›è¡Œç±»åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (resolve) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        resolveClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(c)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç ´ååŒäº²å§”æ´¾" tabindex="-1"><a class="header-anchor" href="#ç ´ååŒäº²å§”æ´¾"><span>ç ´ååŒäº²å§”æ´¾</span></a></h3><p>ç ´ååŒäº²å§”æ´¾æ¨¡å‹ï¼ˆParent Delegation Modelï¼‰åœ¨ Java ä¸­é€šå¸¸æŒ‡çš„æ˜¯å¯¹æ ‡å‡†ç±»åŠ è½½æœºåˆ¶çš„æ”¹å˜ï¼Œè¿™ç§æ”¹å˜å¯èƒ½å‡ºäºå¤šç§åŸå› ï¼Œæ¯”å¦‚å®ç°çƒ­éƒ¨ç½²ã€è§£å†³ç‰¹å®šçš„ç±»åŠ è½½å†²çªã€æˆ–æ˜¯æ»¡è¶³ä¸€äº›ç‰¹æ®Šçš„è¿è¡Œæ—¶éœ€æ±‚ã€‚ä¸‹é¢æ˜¯å‡ ç§å¸¸è§çš„ç ´ååŒäº²å§”æ´¾æ¨¡å‹çš„æ–¹å¼åŠå…¶èƒŒåçš„åŸå› ã€‚</p><p><strong>1. é‡å†™ <code>loadClass</code> æ–¹æ³•</strong></p><p>åœ¨ Java çš„ <code>ClassLoader</code> ç±»ä¸­ï¼Œ<code>loadClass</code> æ–¹æ³•æ˜¯å®ç°åŒäº²å§”æ´¾çš„æ ¸å¿ƒã€‚å¦‚æœæƒ³è¦ç ´åè¿™ä¸ªæ¨¡å‹ï¼Œæœ€å¸¸è§çš„åšæ³•å°±æ˜¯é‡å†™ <code>ClassLoader</code> çš„ <code>loadClass</code> æ–¹æ³•ã€‚åœ¨é»˜è®¤å®ç°ä¸­ï¼Œ<code>loadClass</code> æ–¹æ³•ä¼šå°è¯•å…ˆè®©çˆ¶ç±»åŠ è½½å™¨åŠ è½½ç±»ï¼Œåªæœ‰åœ¨çˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½æ—¶ï¼Œå­ç±»åŠ è½½å™¨æ‰ä¼šå°è¯•åŠ è½½ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">protected</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> loadClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> resolve)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    throws </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ClassNotFoundException</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">{</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    synchronized</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getClassLoadingLock</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // First, check if the class has already been loaded</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        Class</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findLoadedClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (parent </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                    c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">loadClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(name);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                    c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findBootstrapClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                // If still not found, then invoke findClass in order</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                // to find the class.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (resolve) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            resolveClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(c)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å†™ <code>loadClass</code> æ–¹æ³•å¯ä»¥æ”¹å˜ç±»åŠ è½½çš„é¡ºåºï¼Œä¾‹å¦‚ï¼Œå¯ä»¥ä¼˜å…ˆå°è¯•åŠ è½½ç±»ï¼Œç„¶åå†å§”æ‰˜ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œæˆ–è€…å®Œå…¨ç»•è¿‡çˆ¶ç±»åŠ è½½å™¨ã€‚</p><p><strong>2. ä½¿ç”¨çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨</strong></p><p>çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼ˆThread Context ClassLoaderï¼‰æ˜¯ Java ä¸­ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå®ƒå…è®¸åœ¨ç‰¹å®šçº¿ç¨‹ä¸­æ›´æ”¹å½“å‰ç±»åŠ è½½å™¨ã€‚è¿™åœ¨ JNDIã€JDBC ç­‰æœåŠ¡ä¸­ç‰¹åˆ«å¸¸è§ï¼Œè¿™äº›æœåŠ¡éœ€è¦è°ƒç”¨ç”±ä¸åŒç±»åŠ è½½å™¨åŠ è½½çš„ SPIï¼ˆService Provider Interfaceï¼‰å®ç°ã€‚</p><p>çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨å¯ä»¥é€šè¿‡ <code>Thread.currentThread().getContextClassLoader()</code> è·å–ï¼Œå¹¶é€šè¿‡ <code>Thread.currentThread().setContextClassLoader(ClassLoader cl)</code> è®¾ç½®ã€‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œè¿™å…è®¸ä¸´æ—¶æ”¹å˜ç±»åŠ è½½å™¨ï¼Œä»¥ä¾¿è®¿é—®ç‰¹å®šçš„ç±»æˆ–èµ„æºã€‚</p><p><strong>3. OSGi å’Œæ¨¡å—åŒ–ç¯å¢ƒ</strong></p><p>åœ¨æ¨¡å—åŒ–ç¯å¢ƒä¸­ï¼Œå¦‚ OSGiï¼ˆOpen Service Gateway Initiativeï¼‰ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œè¿™å¯¼è‡´ç±»åŠ è½½å™¨ä¸å†æ˜¯ç®€å•çš„æ ‘å½¢ç»“æ„ï¼Œè€Œæ˜¯å˜æˆäº†ä¸€ä¸ªç½‘çŠ¶ç»“æ„ã€‚OSGi å®ç°äº†çƒ­éƒ¨ç½²å’Œçƒ­æ›¿æ¢åŠŸèƒ½ï¼Œå…è®¸åœ¨ä¸é‡å¯æ•´ä¸ªåº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹æ›´æ–°å’Œæ›¿æ¢æ¨¡å—ï¼Œè¿™æ˜¾ç„¶æ‰“ç ´äº†ä¼ ç»Ÿçš„åŒäº²å§”æ´¾æ¨¡å‹ã€‚</p><p><strong>4. çƒ­éƒ¨ç½²å’Œçƒ­æ›¿æ¢</strong></p><p>çƒ­éƒ¨ç½²ï¼ˆHot Deploymentï¼‰å’Œçƒ­æ›¿æ¢ï¼ˆHot Swappingï¼‰æ˜¯æŒ‡åœ¨ä¸é‡å¯åº”ç”¨çš„æƒ…å†µä¸‹æ›´æ–°ä»£ç ã€‚åœ¨æŸäº›åº”ç”¨æœåŠ¡å™¨å’Œå¼€å‘ç¯å¢ƒä¸­ï¼Œä¸ºäº†æ”¯æŒä»£ç çš„å®æ—¶æ›´æ–°ï¼Œè‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨è¢«è®¾è®¡æˆèƒ½å¤Ÿè¯†åˆ«ç±»çš„æ›´æ–°å¹¶é‡æ–°åŠ è½½å®ƒä»¬ã€‚è¿™é€šå¸¸æ¶‰åŠå¯¹ç±»åŠ è½½å™¨çš„å®šåˆ¶ä»¥åŠå¯¹åŒäº²å§”æ´¾æ¨¡å‹çš„è°ƒæ•´ã€‚</p><p>ç ´ååŒäº²å§”æ´¾æ¨¡å‹å¯èƒ½å¸¦æ¥ä¸€äº›æ½œåœ¨çš„é—®é¢˜ï¼Œå¦‚ç±»çš„å¤šé‡å®šä¹‰ã€ç±»åŠ è½½å™¨æ³„æ¼ã€èµ„æºæ³„éœ²ä»¥åŠç±»çš„ç‰ˆæœ¬å†²çªç­‰ã€‚å› æ­¤ï¼Œè¿™ç§æ“ä½œéœ€è¦è°¨æ…æ‰§è¡Œï¼Œå¹¶ä¸”è¦ç¡®ä¿å……åˆ†ç†è§£å…¶åæœã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒåŒäº²å§”æ´¾æ¨¡å‹æä¾›äº†å¿…è¦çš„éš”ç¦»å’Œå®‰å…¨ä¿è¯ï¼Œç ´åè¿™ä¸€æ¨¡å‹åº”è¢«è§†ä¸ºæœ€åçš„æ‰‹æ®µã€‚</p><p>åŒäº²å§”æ´¾æ¨¡å‹å¹¶ä¸æ˜¯ä¸€ä¸ªå…·æœ‰å¼ºåˆ¶æ€§çº¦æŸçš„æ¨¡å‹ï¼Œè€Œæ˜¯Javaè®¾è®¡è€…æ¨èç»™å¼€å‘è€…ä»¬çš„ç±»åŠ è½½å™¨å®ç°æ–¹å¼ã€‚åœ¨Javaçš„ä¸–ç•Œä¸­å¤§éƒ¨åˆ†çš„ç±»åŠ è½½å™¨éƒ½éµå¾ªè¿™ä¸ªæ¨¡å‹ï¼Œä½†ä¹Ÿæœ‰ä¾‹å¤–çš„æƒ…å†µï¼Œç›´åˆ°Javaæ¨¡å—åŒ–å‡ºç°ä¸ºæ­¢ï¼ŒåŒäº²å§”æ´¾æ¨¡å‹ä¸»è¦å‡ºç°è¿‡3æ¬¡è¾ƒå¤§è§„æ¨¡â€œè¢«ç ´åâ€çš„æƒ…å†µ</p><details class="hint-container details"><summary>åŒäº²å§”æ´¾æ¨¡å‹çš„ä¸‰æ¬¡è¢«ç ´åè¯¦æƒ…</summary><ul><li><p>åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬ä¸€æ¬¡â€œè¢«ç ´åâ€å…¶å®å‘ç”Ÿåœ¨åŒäº²å§”æ´¾æ¨¡å‹å‡ºç°ä¹‹å‰â€”â€”å³JDK 1.2é¢ä¸–ä»¥å‰çš„â€œè¿œå¤â€æ—¶ä»£ã€‚ç”±äºåŒäº²å§”æ´¾æ¨¡å‹åœ¨JDK 1.2ä¹‹åæ‰è¢«å¼•å…¥ï¼Œä½†æ˜¯ç±»åŠ è½½å™¨çš„æ¦‚å¿µå’ŒæŠ½è±¡ç±»java.lang.ClassLoaderåˆ™åœ¨Javaçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸­å°±å·²ç»å­˜åœ¨ï¼Œé¢å¯¹å·²ç»å­˜åœ¨çš„ç”¨æˆ·è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä»£ç ï¼ŒJavaè®¾è®¡è€…ä»¬å¼•å…¥åŒäº²å§”æ´¾æ¨¡å‹æ—¶ä¸å¾—ä¸åšå‡ºä¸€äº›å¦¥åï¼Œä¸ºäº†å…¼å®¹è¿™äº›å·²æœ‰ä»£ç ï¼Œæ— æ³•å†ä»¥æŠ€æœ¯æ‰‹æ®µé¿å…loadClass()è¢«å­ç±»è¦†ç›–çš„å¯èƒ½æ€§ï¼Œåªèƒ½åœ¨JDK 1.2ä¹‹åçš„java.lang.ClassLoaderä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„protectedæ–¹æ³•findClass()ï¼Œå¹¶å¼•å¯¼ç”¨æˆ·ç¼–å†™çš„ç±»åŠ è½½é€»è¾‘æ—¶å°½å¯èƒ½å»é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œè€Œä¸æ˜¯åœ¨loadClass()ä¸­ç¼–å†™ä»£ç ã€‚ä¸ŠèŠ‚æˆ‘ä»¬å·²ç»åˆ†æè¿‡loadClass()æ–¹æ³•ï¼ŒåŒäº²å§”æ´¾çš„å…·ä½“é€»è¾‘å°±å®ç°åœ¨è¿™é‡Œé¢ï¼ŒæŒ‰ç…§loadClass()æ–¹æ³•çš„é€»è¾‘ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å¤±è´¥ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è‡ªå·±çš„findClass()æ–¹æ³•æ¥å®ŒæˆåŠ è½½ï¼Œè¿™æ ·æ—¢ä¸å½±å“ç”¨æˆ·æŒ‰ç…§è‡ªå·±çš„æ„æ„¿å»åŠ è½½ç±»ï¼Œåˆå¯ä»¥ä¿è¯æ–°å†™å‡ºæ¥çš„ç±»åŠ è½½å™¨æ˜¯ç¬¦åˆåŒäº²å§”æ´¾è§„åˆ™çš„.</p></li><li><p>åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬äºŒæ¬¡â€œè¢«ç ´åâ€æ˜¯ç”±è¿™ä¸ªæ¨¡å‹è‡ªèº«çš„ç¼ºé™·å¯¼è‡´çš„ï¼ŒåŒäº²å§”æ´¾å¾ˆå¥½åœ°è§£å†³äº†å„ä¸ªç±»åŠ è½½å™¨åä½œæ—¶åŸºç¡€ç±»å‹çš„ä¸€è‡´æ€§é—®é¢˜ï¼ˆè¶ŠåŸºç¡€çš„ç±»ç”±è¶Šä¸Šå±‚çš„åŠ è½½å™¨è¿›è¡ŒåŠ è½½ï¼‰ï¼ŒåŸºç¡€ç±»å‹ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€œåŸºç¡€â€ï¼Œæ˜¯å› ä¸ºå®ƒä»¬æ€»æ˜¯ä½œä¸ºè¢«ç”¨æˆ·ä»£ç ç»§æ‰¿ã€è°ƒç”¨çš„APIå­˜åœ¨ï¼Œä½†ç¨‹åºè®¾è®¡å¾€å¾€æ²¡æœ‰ç»å¯¹ä¸å˜çš„å®Œç¾è§„åˆ™ï¼Œå¦‚æœæœ‰åŸºç¡€ç±»å‹åˆè¦è°ƒç”¨å›ç”¨æˆ·çš„ä»£ç ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><ul><li>è¿™å¹¶éæ˜¯ä¸å¯èƒ½å‡ºç°çš„äº‹æƒ…ï¼Œä¸€ä¸ªå…¸å‹çš„ä¾‹å­ä¾¿æ˜¯JNDIæœåŠ¡ï¼ŒJNDIç°åœ¨å·²ç»æ˜¯Javaçš„æ ‡å‡†æœåŠ¡ï¼Œå®ƒçš„ä»£ç ç”±å¯åŠ¨ç±»åŠ è½½å™¨æ¥å®ŒæˆåŠ è½½ï¼ˆåœ¨JDK 1.3æ—¶åŠ å…¥åˆ°rt.jarçš„ï¼‰ï¼Œè‚¯å®šå±äºJavaä¸­å¾ˆåŸºç¡€çš„ç±»å‹äº†ã€‚ä½†JNDIå­˜åœ¨çš„ç›®çš„å°±æ˜¯å¯¹èµ„æºè¿›è¡ŒæŸ¥æ‰¾å’Œé›†ä¸­ç®¡ç†ï¼Œå®ƒéœ€è¦è°ƒç”¨ç”±å…¶ä»–å‚å•†å®ç°å¹¶éƒ¨ç½²åœ¨åº”ç”¨ç¨‹åºçš„ClassPathä¸‹çš„JNDIæœåŠ¡æä¾›è€…æ¥å£ï¼ˆService Provider Interfaceï¼ŒSPIï¼‰çš„ä»£ç ï¼Œç°åœ¨é—®é¢˜æ¥äº†ï¼Œå¯åŠ¨ç±»åŠ è½½å™¨æ˜¯ç»ä¸å¯èƒ½è®¤è¯†ã€åŠ è½½è¿™äº›ä»£ç çš„ï¼Œé‚£è¯¥æ€ä¹ˆåŠï¼Ÿ</li><li>ä¸ºäº†è§£å†³è¿™ä¸ªå›°å¢ƒï¼ŒJavaçš„è®¾è®¡å›¢é˜Ÿåªå¥½å¼•å…¥äº†ä¸€ä¸ªä¸å¤ªä¼˜é›…çš„è®¾è®¡ï¼šçº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼ˆThread Context ClassLoaderï¼‰ã€‚è¿™ä¸ªç±»åŠ è½½å™¨å¯ä»¥é€šè¿‡java.lang.Threadç±»çš„setContext-ClassLoader()æ–¹æ³•è¿›è¡Œè®¾ç½®ï¼Œå¦‚æœåˆ›å»ºçº¿ç¨‹æ—¶è¿˜æœªè®¾ç½®ï¼Œå®ƒå°†ä¼šä»çˆ¶çº¿ç¨‹ä¸­ç»§æ‰¿ä¸€ä¸ªï¼Œå¦‚æœåœ¨åº”ç”¨ç¨‹åºçš„å…¨å±€èŒƒå›´å†…éƒ½æ²¡æœ‰è®¾ç½®è¿‡çš„è¯ï¼Œé‚£è¿™ä¸ªç±»åŠ è½½å™¨é»˜è®¤å°±æ˜¯åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ã€‚</li><li>æœ‰äº†çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼Œç¨‹åºå°±å¯ä»¥åšä¸€äº›â€œèˆå¼Šâ€çš„äº‹æƒ…äº†ã€‚JNDIæœåŠ¡ä½¿ç”¨è¿™ä¸ªçº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨å»åŠ è½½æ‰€éœ€çš„SPIæœåŠ¡ä»£ç ï¼Œè¿™æ˜¯ä¸€ç§çˆ¶ç±»åŠ è½½å™¨å»è¯·æ±‚å­ç±»åŠ è½½å™¨å®Œæˆç±»åŠ è½½çš„è¡Œä¸ºï¼Œè¿™ç§è¡Œä¸ºå®é™…ä¸Šæ˜¯æ‰“é€šäº†åŒäº²å§”æ´¾æ¨¡å‹çš„å±‚æ¬¡ç»“æ„æ¥é€†å‘ä½¿ç”¨ç±»åŠ è½½å™¨ï¼Œå·²ç»è¿èƒŒäº†åŒäº²å§”æ´¾æ¨¡å‹çš„ä¸€èˆ¬æ€§åŸåˆ™ï¼Œä½†ä¹Ÿæ˜¯æ— å¯å¥ˆä½•çš„äº‹æƒ…ã€‚Javaä¸­æ¶‰åŠSPIçš„åŠ è½½åŸºæœ¬ä¸Šéƒ½é‡‡ç”¨è¿™ç§æ–¹å¼æ¥å®Œæˆï¼Œä¾‹å¦‚JNDIã€JDBCã€JCEã€JAXBå’ŒJBIç­‰ã€‚ä¸è¿‡ï¼Œå½“SPIçš„æœåŠ¡æä¾›è€…å¤šäºä¸€ä¸ªçš„æ—¶å€™ï¼Œä»£ç å°±åªèƒ½æ ¹æ®å…·ä½“æä¾›è€…çš„ç±»å‹æ¥ç¡¬ç¼–ç åˆ¤æ–­ï¼Œä¸ºäº†æ¶ˆé™¤è¿™ç§æä¸ä¼˜é›…çš„å®ç°æ–¹å¼ï¼Œåœ¨JDK 6æ—¶ï¼ŒJDKæä¾›äº†java.util.ServiceLoaderç±»ï¼Œä»¥META-INF/servicesä¸­çš„é…ç½®ä¿¡æ¯ï¼Œè¾…ä»¥è´£ä»»é“¾æ¨¡å¼ï¼Œè¿™æ‰ç®—æ˜¯ç»™SPIçš„åŠ è½½æä¾›äº†ä¸€ç§ç›¸å¯¹åˆç†çš„è§£å†³æ–¹æ¡ˆã€‚</li></ul></li><li><p>åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬ä¸‰æ¬¡â€œè¢«ç ´åâ€æ˜¯ç”±äºç”¨æˆ·å¯¹ç¨‹åºåŠ¨æ€æ€§çš„è¿½æ±‚è€Œå¯¼è‡´çš„ï¼Œè¿™é‡Œæ‰€è¯´çš„â€œåŠ¨æ€æ€§â€æŒ‡çš„æ˜¯ä¸€äº›éå¸¸â€œçƒ­â€é—¨çš„åè¯ï¼šä»£ç çƒ­æ›¿æ¢ï¼ˆHot Swapï¼‰ã€æ¨¡å—çƒ­éƒ¨ç½²ï¼ˆHot Deploymentï¼‰ç­‰ã€‚è¯´ç™½äº†å°±æ˜¯å¸Œæœ›Javaåº”ç”¨ç¨‹åºèƒ½åƒæˆ‘ä»¬çš„ç”µè„‘å¤–è®¾é‚£æ ·ï¼Œæ¥ä¸Šé¼ æ ‡ã€Uç›˜ï¼Œä¸ç”¨é‡å¯æœºå™¨å°±èƒ½ç«‹å³ä½¿ç”¨ï¼Œé¼ æ ‡æœ‰é—®é¢˜æˆ–è¦å‡çº§å°±æ¢ä¸ªé¼ æ ‡ï¼Œä¸ç”¨å…³æœºä¹Ÿä¸ç”¨é‡å¯ã€‚å¯¹äºä¸ªäººç”µè„‘æ¥è¯´ï¼Œé‡å¯ä¸€æ¬¡å…¶å®æ²¡æœ‰ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œä½†å¯¹äºä¸€äº›ç”Ÿäº§ç³»ç»Ÿæ¥è¯´ï¼Œå…³æœºé‡å¯ä¸€æ¬¡å¯èƒ½å°±è¦è¢«åˆ—ä¸ºç”Ÿäº§äº‹æ•…ï¼Œè¿™ç§æƒ…å†µä¸‹çƒ­éƒ¨ç½²å°±å¯¹è½¯ä»¶å¼€å‘è€…ï¼Œå°¤å…¶æ˜¯å¤§å‹ç³»ç»Ÿæˆ–ä¼ä¸šçº§è½¯ä»¶å¼€å‘è€…å…·æœ‰å¾ˆå¤§çš„å¸å¼•åŠ›ã€‚</p><ul><li>æ—©åœ¨2008å¹´ï¼Œåœ¨Javaç¤¾åŒºå…³äºæ¨¡å—åŒ–è§„èŒƒçš„ç¬¬ä¸€åœºæˆ˜å½¹é‡Œï¼Œç”±Sun/Oracleå…¬å¸æ‰€æå‡ºçš„JSR-294ã€JSR-277è§„èŒƒææ¡ˆå°±æ›¾è´¥ç»™ä»¥IBMå…¬å¸ä¸»å¯¼çš„JSR-291ï¼ˆå³OSGi R4.2ï¼‰ææ¡ˆã€‚å°½ç®¡Sun/Oracleå¹¶ä¸ç”˜å¿ƒå°±æ­¤å¤±å»Javaæ¨¡å—åŒ–çš„ä¸»å¯¼æƒï¼Œéšå³åˆå†æ‹¿å‡ºJigsawé¡¹ç›®è¿æˆ˜ï¼Œä½†æ­¤æ—¶OSGiå·²ç»ç«™ç¨³è„šè·Ÿï¼Œæˆä¸ºä¸šç•Œâ€œäº‹å®ä¸Šâ€çš„Javaæ¨¡å—åŒ–æ ‡å‡†ã€‚æ›¾ç»åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ï¼ŒIBMå‡­å€Ÿç€OSGiå¹¿æ³›åº”ç”¨åŸºç¡€è®©Jigsawåƒå°½è‹¦å¤´ï¼Œå…¶å½±å“ä¸€ç›´æŒç»­åˆ°JigsawéšJDK 9é¢ä¸–æ‰ç®—å‘Šä¸€æ®µè½ã€‚è€Œä¸”å³ä½¿Jigsawç°åœ¨å·²ç»æ˜¯Javaçš„æ ‡å‡†åŠŸèƒ½äº†ï¼Œå®ƒä»éœ€å°å¿ƒç¿¼ç¿¼åœ°é¿å¼€OSGiè¿è¡ŒæœŸåŠ¨æ€çƒ­éƒ¨ç½²ä¸Šçš„ä¼˜åŠ¿ï¼Œä»…å±€é™äºé™æ€åœ°è§£å†³æ¨¡å—é—´å°è£…éš”ç¦»å’Œè®¿é—®æ§åˆ¶çš„é—®é¢˜ï¼Œè¿™éƒ¨åˆ†å†…å®¹ç¬”è€…åœ¨7.5èŠ‚ä¸­ä¼šç»§ç»­è®²è§£ï¼Œç°åœ¨æˆ‘ä»¬å…ˆæ¥ç®€å•çœ‹ä¸€çœ‹OSGiæ˜¯å¦‚ä½•é€šè¿‡ç±»åŠ è½½å™¨å®ç°çƒ­éƒ¨ç½²çš„ã€‚</li><li>OSGiå®ç°æ¨¡å—åŒ–çƒ­éƒ¨ç½²çš„å…³é”®æ˜¯å®ƒè‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨æœºåˆ¶çš„å®ç°ï¼Œæ¯ä¸€ä¸ªç¨‹åºæ¨¡å—ï¼ˆOSGiä¸­ç§°ä¸ºBundleï¼‰éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œå½“éœ€è¦æ›´æ¢ä¸€ä¸ªBundleæ—¶ï¼Œå°±æŠŠBundleè¿åŒç±»åŠ è½½å™¨ä¸€èµ·æ¢æ‰ä»¥å®ç°ä»£ç çš„çƒ­æ›¿æ¢ã€‚åœ¨OSGiç¯å¢ƒä¸‹ï¼Œç±»åŠ è½½å™¨ä¸å†åŒäº²å§”æ´¾æ¨¡å‹æ¨èçš„æ ‘çŠ¶ç»“æ„ï¼Œè€Œæ˜¯è¿›ä¸€æ­¥å‘å±•ä¸ºæ›´åŠ å¤æ‚çš„ç½‘çŠ¶ç»“æ„ï¼Œå½“æ”¶åˆ°ç±»åŠ è½½è¯·æ±‚æ—¶ï¼ŒOSGiå°†æŒ‰ç…§ä¸‹é¢çš„é¡ºåºè¿›è¡Œç±»æœç´¢ï¼š <ul><li>1ï¼‰å°†ä»¥java.*å¼€å¤´çš„ç±»ï¼Œå§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨åŠ è½½ã€‚</li><li>2ï¼‰å¦åˆ™ï¼Œå°†å§”æ´¾åˆ—è¡¨åå•å†…çš„ç±»ï¼Œå§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨åŠ è½½ã€‚</li><li>3ï¼‰å¦åˆ™ï¼Œå°†Importåˆ—è¡¨ä¸­çš„ç±»ï¼Œå§”æ´¾ç»™Exportè¿™ä¸ªç±»çš„Bundleçš„ç±»åŠ è½½å™¨åŠ è½½ã€‚</li><li>4ï¼‰å¦åˆ™ï¼ŒæŸ¥æ‰¾å½“å‰Bundleçš„ClassPathï¼Œä½¿ç”¨è‡ªå·±çš„ç±»åŠ è½½å™¨åŠ è½½ã€‚</li><li>5ï¼‰å¦åˆ™ï¼ŒæŸ¥æ‰¾ç±»æ˜¯å¦åœ¨è‡ªå·±çš„Fragment Bundleä¸­ï¼Œå¦‚æœåœ¨ï¼Œåˆ™å§”æ´¾ç»™Fragment Bundleçš„ç±»åŠ è½½å™¨åŠ è½½ã€‚</li><li>6ï¼‰å¦åˆ™ï¼ŒæŸ¥æ‰¾Dynamic Importåˆ—è¡¨çš„Bundleï¼Œå§”æ´¾ç»™å¯¹åº”Bundleçš„ç±»åŠ è½½å™¨åŠ è½½ã€‚</li><li>7ï¼‰å¦åˆ™ï¼Œç±»æŸ¥æ‰¾å¤±è´¥ã€‚</li></ul></li><li>ä¸Šé¢çš„æŸ¥æ‰¾é¡ºåºä¸­åªæœ‰å¼€å¤´ä¸¤ç‚¹ä»ç„¶ç¬¦åˆåŒäº²å§”æ´¾æ¨¡å‹çš„åŸåˆ™ï¼Œå…¶ä½™çš„ç±»æŸ¥æ‰¾éƒ½æ˜¯åœ¨å¹³çº§çš„ç±»åŠ è½½å™¨ä¸­è¿›è¡Œçš„</li></ul></li></ul><p>æ³¨ï¼šæ­¤å¤„çš„ â€œè¢«ç ´åâ€ å¹¶ä¸ä¸€å®šæ˜¯å¸¦æœ‰è´¬ä¹‰çš„ã€‚åªè¦æœ‰æ˜ç¡®çš„ç›®çš„å’Œå……åˆ†çš„ç†ç”±ï¼Œçªç ´æ—§æœ‰åŸåˆ™æ— ç–‘æ˜¯ä¸€ç§åˆ›æ–°ã€‚æ­£å¦‚OSGiä¸­çš„ç±»åŠ è½½å™¨çš„è®¾è®¡ä¸ç¬¦åˆä¼ ç»Ÿçš„åŒäº²å§”æ´¾çš„ç±»åŠ è½½å™¨æ¶æ„ï¼Œä¸”ä¸šç•Œå¯¹å…¶ä¸ºäº†å®ç°çƒ­éƒ¨ç½²è€Œå¸¦æ¥çš„é¢å¤–çš„é«˜å¤æ‚åº¦è¿˜å­˜åœ¨ä¸å°‘äº‰è®®ï¼Œä½†å¯¹è¿™æ–¹é¢æœ‰äº†è§£çš„æŠ€æœ¯äººå‘˜åŸºæœ¬è¿˜æ˜¯èƒ½è¾¾æˆä¸€ä¸ªå…±è¯†ï¼Œè®¤ä¸ºOSGiä¸­å¯¹ç±»åŠ è½½å™¨çš„è¿ç”¨æ˜¯å€¼å¾—å­¦ä¹ çš„ï¼Œå®Œå…¨å¼„æ‡‚äº†OSGiçš„å®ç°ï¼Œå°±ç®—æ˜¯æŒæ¡äº†ç±»åŠ è½½å™¨çš„ç²¾ç²¹ã€‚</p></details><h3 id="è‡ªå®šä¹‰ç±»åŠ è½½å™¨" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰ç±»åŠ è½½å™¨"><span>è‡ªå®šä¹‰ç±»åŠ è½½å™¨</span></a></h3><p>åœ¨ Java ä¸­ï¼Œè‡ªå®šä¹‰ç±»åŠ è½½å™¨é€šå¸¸æ˜¯é€šè¿‡ç»§æ‰¿ <code>java.lang.ClassLoader</code> ç±»å¹¶é‡å†™å…¶ <code>findClass</code> æ–¹æ³•æ¥å®ç°çš„ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨ç¤ºä¾‹(å®ƒä»æ–‡ä»¶ç³»ç»Ÿä¸­çš„æŒ‡å®šç›®å½•åŠ è½½ç±»ï¼Œè€Œä¸æ˜¯ä»æ ‡å‡†çš„ç±»è·¯å¾„)ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> java.io.File</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> java.io.FileInputStream</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> java.io.IOException</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyClassLoader</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> MyClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> path;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    protected</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> throws</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // å°†åŒ…åè½¬æ¢ä¸ºæ–‡ä»¶è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> fileName</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">replaceAll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;.class&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            File</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> file</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> File</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(path </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> File</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">separator</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> fileName);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">exists</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Class not found: &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> name);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">            byte</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">[] </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bytes</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;"> byte</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()];</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">FileInputStream</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> fis</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> FileInputStream</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(file)) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                fis</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(bytes);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // åŠ è½½å¹¶å®šä¹‰ç±»</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> defineClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(name, bytes, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">bytes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">IOException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Error loading class: &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> name, e);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> CustomClassLoaderDemo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[] </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // æŒ‡å®šåŒ…å«ç±»æ–‡ä»¶çš„ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> classPath</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;path/to/your/classes&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // åˆ›å»ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨å®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            MyClassLoader</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> customLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> MyClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(classPath);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // åŠ è½½ç±»</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            Class</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">myClass</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> customLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">loadClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;com.example.MyClass&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // åˆ›å»ºç±»çš„å®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            Object</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> instance</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> myClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getDeclaredConstructor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">newInstance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // è°ƒç”¨ç±»çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            myClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getMethod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;myMethod&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">invoke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(instance);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Exception</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">printStackTrace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">ç±»åŠ è½½å™¨ä¹‹é—´çš„â€œçˆ¶ç±»â€å’Œâ€œå­ç±»â€å…³ç³»</p><p>åœ¨ç±»åŠ è½½å™¨ä½“ç³»ä¸­ï¼Œâ€œçˆ¶ç±»â€ç±»åŠ è½½å™¨å’Œâ€œå­ç±»â€ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»æ˜¯é€šè¿‡å¼•ç”¨å’Œå§”æ‰˜å…³ç³»å»ºç«‹çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡ç»§æ‰¿å…³ç³»ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆç³»ç»Ÿç±»åŠ è½½å™¨ï¼‰æœ‰ä¸€ä¸ªå¯¹æ‰©å±•ç±»åŠ è½½å™¨çš„å¼•ç”¨ï¼Œæ‰©å±•ç±»åŠ è½½å™¨åˆæœ‰ä¸€ä¸ªå¯¹å¼•å¯¼ç±»åŠ è½½å™¨çš„å¼•ç”¨ã€‚è¿™ç§å¼•ç”¨å…³ç³»å½¢æˆäº†ç±»åŠ è½½å™¨å±‚æ¬¡ç»“æ„ï¼Œä½†æ˜¯ç±»åŠ è½½å™¨æœ¬èº«å¹¶æ²¡æœ‰ç»§æ‰¿è‡ªå…¶ä»–ç±»åŠ è½½å™¨ã€‚</p></div><p><strong>è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ <code>parent</code></strong>:</p><p>è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ <code>parent</code> å¯ä»¥é€šè¿‡æ„é€ å™¨æ¥æŒ‡å®šï¼Œé»˜è®¤æƒ…å†µä¸‹å°†æ˜¯ <code>System Class Loader</code>ã€‚</p><p>åœ¨åˆ›å»ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨å®ä¾‹æ—¶ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼ä¹‹ä¸€æ¥æŒ‡å®š <code>parent</code>ï¼š</p><ol><li><p><strong>ä½¿ç”¨é»˜è®¤æ„é€ å™¨</strong>ï¼šå½“ä½ ä½¿ç”¨é»˜è®¤æ„é€ å™¨åˆ›å»ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶ï¼Œ<code>parent</code> å°†è¢«è®¾ç½®ä¸ºè°ƒç”¨è¯¥æ„é€ å™¨çš„ç±»åŠ è½½å™¨ã€‚è¿™é€šå¸¸æ„å‘³ç€ä½ çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ <code>parent</code> ä¼šæ˜¯ <code>Application Class Loader</code>ï¼ˆåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼‰ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyCustomClassLoader</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> MyCustomClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        super</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // ä½¿ç”¨é»˜è®¤æ„é€ å™¨ï¼Œparent å°†æ˜¯ System Class Loader</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ä½¿ç”¨å¸¦å‚æ•°çš„æ„é€ å™¨</strong>ï¼šå¦‚æœä½ å¸Œæœ›è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ <code>parent</code> æ˜¯æŸä¸ªç‰¹å®šçš„ç±»åŠ è½½å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨å¸¦ <code>ClassLoader</code> å‚æ•°çš„æ„é€ å™¨ï¼Œå¹¶ä¼ å…¥ç›¸åº”çš„ç±»åŠ è½½å™¨ä½œä¸º <code>parent</code>ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyCustomClassLoader</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> MyCustomClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ClassLoader</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        super</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(parent);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // è¿™é‡Œå¯ä»¥ä¼ å…¥ä»»ä½•æœ‰æ•ˆçš„ç±»åŠ è½½å™¨ä½œä¸º parent</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è®©ä½ çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ <code>parent</code> æ˜¯ <code>Extension Class Loader</code>ï¼Œä½ å¯ä»¥è¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ClassLoader</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> extensionLoader </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> URLClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getSystemClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getParent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">MyCustomClassLoader</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> customLoader </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> MyCustomClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(extensionLoader)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>é€šè¿‡æ­£ç¡®è®¾ç½® <code>parent</code>ï¼Œè‡ªå®šä¹‰ç±»åŠ è½½å™¨èƒ½å¤Ÿéµå¾ªåŒäº²å§”æ´¾æ¨¡å‹ï¼Œä»è€Œç¡®ä¿ç±»åŠ è½½çš„ä¸€è‡´æ€§å’Œå®‰å…¨æ€§ã€‚å¦‚æœéœ€è¦æ‰“ç ´åŒäº²å§”æ´¾æ¨¡å‹ï¼Œéœ€è¦é‡å†™ <code>loadClass</code> æ–¹æ³•è€Œä¸æ˜¯ä»…ä»…é‡å†™ <code>findClass</code> æ–¹æ³•ï¼Œå¹¶åœ¨æ–¹æ³•ä¸­è‡ªå·±å®ç°åŠ è½½é€»è¾‘ã€‚ä½†æ˜¯ï¼Œè¿™æ ·åšéœ€è¦éå¸¸å°å¿ƒï¼Œå› ä¸ºæ‰“ç ´äº†åŒäº²å§”æ´¾æ¨¡å‹å¯èƒ½ä¼šå¼•å…¥ç±»åŠ è½½çš„ä¸ä¸€è‡´æ€§å’Œæ½œåœ¨çš„å®‰å…¨é—®é¢˜ã€‚</p><h2 id="æ¨¡å—åŒ–ç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#æ¨¡å—åŒ–ç³»ç»Ÿ"><span>æ¨¡å—åŒ–ç³»ç»Ÿ</span></a></h2><p>åœ¨JDK 9ä¸­å¼•å…¥çš„Javaæ¨¡å—åŒ–ç³»ç»Ÿï¼ˆJava Platform Module Systemï¼ŒJPMSï¼‰æ˜¯å¯¹JavaæŠ€æœ¯çš„ä¸€æ¬¡é‡è¦å‡çº§ï¼Œä¸ºäº†èƒ½å¤Ÿå®ç°æ¨¡å—åŒ–çš„å…³é”®ç›®æ ‡â€”â€”å¯é…ç½®çš„å°è£…éš”ç¦»æœºåˆ¶ï¼ŒJavaè™šæ‹Ÿæœºå¯¹ç±»åŠ è½½æ¶æ„ä¹Ÿåšå‡ºäº†ç›¸åº”çš„å˜åŠ¨è°ƒæ•´ï¼Œæ‰ä½¿æ¨¡å—åŒ–ç³»ç»Ÿå¾—ä»¥é¡ºåˆ©åœ°è¿ä½œã€‚JDK 9çš„æ¨¡å—ä¸ä»…ä»…åƒä¹‹å‰çš„JARåŒ…é‚£æ ·åªæ˜¯ç®€å•åœ°å……å½“ä»£ç çš„å®¹å™¨ï¼Œé™¤äº†ä»£ç å¤–ï¼ŒJavaçš„æ¨¡å—å®šä¹‰è¿˜åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li>ä¾èµ–å…¶ä»–æ¨¡å—çš„åˆ—è¡¨ã€‚</li><li>å¯¼å‡ºçš„åŒ…åˆ—è¡¨ï¼Œå³å…¶ä»–æ¨¡å—å¯ä»¥ä½¿ç”¨çš„åˆ—è¡¨ã€‚</li><li>å¼€æ”¾çš„åŒ…åˆ—è¡¨ï¼Œå³å…¶ä»–æ¨¡å—å¯åå°„è®¿é—®æ¨¡å—çš„åˆ—è¡¨ã€‚</li><li>ä½¿ç”¨çš„æœåŠ¡åˆ—è¡¨ã€‚</li><li>æä¾›æœåŠ¡çš„å®ç°åˆ—è¡¨ã€‚</li></ul><p>å¯é…ç½®çš„å°è£…éš”ç¦»æœºåˆ¶é¦–å…ˆè¦è§£å†³JDK 9ä¹‹å‰åŸºäºç±»è·¯å¾„ï¼ˆClassPathï¼‰æ¥æŸ¥æ‰¾ä¾èµ–çš„å¯é æ€§é—®é¢˜ã€‚æ­¤å‰ï¼Œå¦‚æœç±»è·¯å¾„ä¸­ç¼ºå¤±äº†è¿è¡Œæ—¶ä¾èµ–çš„ç±»å‹ï¼Œé‚£å°±åªèƒ½ç­‰ç¨‹åºè¿è¡Œåˆ°å‘ç”Ÿè¯¥ç±»å‹çš„åŠ è½½ã€é“¾æ¥æ—¶æ‰ä¼šæŠ¥å‡ºè¿è¡Œçš„å¼‚å¸¸ã€‚è€Œåœ¨JDK 9ä»¥åï¼Œå¦‚æœå¯ç”¨äº†æ¨¡å—åŒ–è¿›è¡Œå°è£…ï¼Œæ¨¡å—å°±å¯ä»¥å£°æ˜å¯¹å…¶ä»–æ¨¡å—çš„æ˜¾å¼ä¾èµ–ï¼Œè¿™æ ·Javaè™šæ‹Ÿæœºå°±èƒ½å¤Ÿåœ¨å¯åŠ¨æ—¶éªŒè¯åº”ç”¨ç¨‹åºå¼€å‘é˜¶æ®µè®¾å®šå¥½çš„ä¾èµ–å…³ç³»åœ¨è¿è¡ŒæœŸæ˜¯å¦å®Œå¤‡ï¼Œå¦‚æœ‰ç¼ºå¤±é‚£å°±ç›´æ¥å¯åŠ¨å¤±è´¥ï¼Œä»è€Œé¿å…äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ç”±äºç±»å‹ä¾èµ–è€Œå¼•å‘çš„è¿è¡Œæ—¶å¼‚å¸¸ã€‚</p><p>å¯é…ç½®çš„å°è£…éš”ç¦»æœºåˆ¶è¿˜è§£å†³äº†åŸæ¥ç±»è·¯å¾„ä¸Šè·¨JARæ–‡ä»¶çš„publicç±»å‹çš„å¯è®¿é—®æ€§é—®é¢˜ã€‚JDK 9ä¸­çš„publicç±»å‹ä¸å†æ„å‘³ç€ç¨‹åºçš„æ‰€æœ‰åœ°æ–¹çš„ä»£ç éƒ½å¯ä»¥éšæ„è®¿é—®åˆ°å®ƒä»¬ï¼Œæ¨¡å—æä¾›äº†æ›´ç²¾ç»†çš„å¯è®¿é—®æ€§æ§åˆ¶ï¼Œå¿…é¡»æ˜ç¡®å£°æ˜å…¶ä¸­å“ªä¸€äº›publicçš„ç±»å‹å¯ä»¥è¢«å…¶ä»–å“ªä¸€äº›æ¨¡å—è®¿é—®ï¼Œè¿™ç§è®¿é—®æ§åˆ¶ä¹Ÿä¸»è¦æ˜¯åœ¨ç±»åŠ è½½è¿‡ç¨‹ä¸­å®Œæˆçš„ã€‚</p><p>åœ¨ Java 9 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ¨¡å—åŒ–ç³»ç»Ÿå¼•å…¥äº†æ–°çš„ç±»åŠ è½½å™¨ï¼š</p><ul><li><strong>Platform Module Loader</strong>ï¼ˆå¹³å°æ¨¡å—åŠ è½½å™¨ï¼‰ï¼šè´Ÿè´£åŠ è½½ Java å¹³å°æ¨¡å—ç³»ç»Ÿï¼ˆJRTï¼‰ä¸­çš„æ¨¡å—ã€‚</li><li><strong>Application Module Loader</strong>ï¼ˆåº”ç”¨ç¨‹åºæ¨¡å—åŠ è½½å™¨ï¼‰ï¼šè´Ÿè´£åŠ è½½åº”ç”¨ç¨‹åºæ¨¡å—è·¯å¾„ä¸­çš„æ¨¡å—ã€‚</li></ul></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/ventixy/notebook/edit/main/src/java/core/jvm/Jvmç±»åŠ è½½.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last update: </span><!----></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: msdrizzle@outlook.com">drizzle</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link auto-link next" href="/notebook/java/core/jvm/Jvm%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html" aria-label="å†…å­˜ç®¡ç†ä¸åƒåœ¾å›æ”¶"><div class="hint">Next<span class="arrow end"></span></div><div class="link">å†…å­˜ç®¡ç†ä¸åƒåœ¾å›æ”¶<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">Default footer</div><div class="vp-copyright">Copyright Â© 2025 ventixy </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/notebook/assets/app-DZ5naRTy.js" defer></script>
  </body>
</html>
